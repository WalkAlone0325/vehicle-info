"use strict";const u=require("../common/vendor.js"),D=(e,t)=>new u.Decimal(e).times(new u.Decimal(t)),l=()=>u.index.getStorageSync("token"),S=(e,t)=>{const a=t||"{y}-{m}-{d} {h}:{i}:{s}";let n;typeof e=="object"?n=e:n=new Date(parseInt(e));const r={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()};return a.replace(/{(y|m|d|h|i|s|a)+}/g,(s,g)=>{let c=r[g];return g==="a"?["一","二","三","四","五","六","日"][c-1]:(s.length>0&&c<10&&(c=`0${c}`),c||0)})};function v(e){if(e==null||e=="")return"";var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,r=t.getDate()<10?"0"+t.getDate():t.getDate(),o=t.getHours()<10?"0"+t.getHours():t.getHours(),s=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),g=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return a+"-"+n+"-"+r+" "+o+":"+s+":"+g}function w(e){let t=[];if(!u.index.getStorageSync("token"))return;const n=u.index.getStorageSync("roles");return e.forEach(r=>{r.role?n.includes(r.role)&&t.push(r):t.push(r)}),t}function y(){var e=Math.floor(Math.random()*256),t=Math.floor(Math.random()*256),a=Math.floor(Math.random()*256);return`rgb(${e},${t},${a})`}const i=3.141592653589793,d=6378245,f=.006693421622965943;function p(e,t){let a=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return a+=(20*Math.sin(6*e*i)+20*Math.sin(2*e*i))*2/3,a+=(20*Math.sin(e*i)+40*Math.sin(e/3*i))*2/3,a+=(150*Math.sin(e/12*i)+300*Math.sin(e/30*i))*2/3,a}function T(e,t){let a=-100+2*e+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return a+=(20*Math.sin(6*e*i)+20*Math.sin(2*e*i))*2/3,a+=(20*Math.sin(t*i)+40*Math.sin(t/3*i))*2/3,a+=(160*Math.sin(t/12*i)+320*Math.sin(t*i/30))*2/3,a}function b(e,t){let a=T(e-105,t-35),n=p(e-105,t-35),r=t/180*i,o=Math.sin(r);o=1-f*o*o;let s=Math.sqrt(o);a=a*180/(d*(1-f)/(o*s)*i),n=n*180/(d/s*Math.cos(r)*i);let g=t+a;return[e+n,g]}function $(e){let t=new Date(e);const a=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),o=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0"),g=String(t.getSeconds()).padStart(2,"0");return`${a}-${n}-${r} ${o}:${s}:${g}`}function k(){const e=new Date,t=new Date(e);t.setHours(0,0,0,0);const a=new Date(e);return a.setHours(23,59,59,999),[t.getTime(),a.getTime()]}function F(e){const t=new Date,a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(e);if(isNaN(n.getTime()))return"无效的日期格式，请输入如'2025-07-01'的ISO格式";const r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),o=a.getTime()-r.getTime(),s=Math.floor(o/864e5);return s>0?`${s}天前`:s===0?"今天":`${Math.abs(s)} 天后`}function M(e){return e*Math.PI/180}function H(e,t,a,n){var r=M(e),o=M(a),s=r-o,g=M(t)-M(n),c=2*Math.asin(Math.sqrt(Math.pow(Math.sin(s/2),2)+Math.cos(r)*Math.cos(o)*Math.pow(Math.sin(g/2),2)));c=c*6378.137,c=Math.round(c*1e4)/1e4;var h=c,m="";return parseInt(h)>=1?m=h.toFixed(2)+"km":m=(h*1e3).toFixed(2)+"m",{distance:h,distance_str:m}.distance_str}exports.checkRole=w;exports.formatDate=v;exports.formatDateTime=$;exports.getDaysAgo=F;exports.getDistance=H;exports.getTodayTimestampRange=k;exports.getToken=l;exports.parseTime=S;exports.randomRgbColor=y;exports.times=D;exports.wgs84togcj02=b;
//# sourceMappingURL=../../.sourcemap/mp-weixin/utils/index.js.map
