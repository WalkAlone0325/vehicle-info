"use strict";const h=require("../common/vendor.js"),D=(e,t)=>new h.Decimal(e).times(new h.Decimal(t)),S=()=>h.index.getStorageSync("token");function v(e){if(e==null||e=="")return"";var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,r=t.getDate()<10?"0"+t.getDate():t.getDate(),s=t.getHours()<10?"0"+t.getHours():t.getHours(),i=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),c=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return a+"-"+n+"-"+r+" "+s+":"+i+":"+c}function l(e){let t=[];if(!h.index.getStorageSync("token"))return;const n=h.index.getStorageSync("roles");return e.forEach(r=>{r.role?n.includes(r.role)&&t.push(r):t.push(r)}),t}function w(){var e=Math.floor(Math.random()*256),t=Math.floor(Math.random()*256),a=Math.floor(Math.random()*256);return`rgb(${e},${t},${a})`}const o=3.141592653589793,m=6378245,f=.006693421622965943;function y(e,t){let a=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return a+=(20*Math.sin(6*e*o)+20*Math.sin(2*e*o))*2/3,a+=(20*Math.sin(e*o)+40*Math.sin(e/3*o))*2/3,a+=(150*Math.sin(e/12*o)+300*Math.sin(e/30*o))*2/3,a}function T(e,t){let a=-100+2*e+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return a+=(20*Math.sin(6*e*o)+20*Math.sin(2*e*o))*2/3,a+=(20*Math.sin(t*o)+40*Math.sin(t/3*o))*2/3,a+=(160*Math.sin(t/12*o)+320*Math.sin(t*o/30))*2/3,a}function p(e,t){let a=T(e-105,t-35),n=y(e-105,t-35),r=t/180*o,s=Math.sin(r);s=1-f*s*s;let i=Math.sqrt(s);a=a*180/(m*(1-f)/(s*i)*o),n=n*180/(m/i*Math.cos(r)*o);let c=t+a;return[e+n,c]}function $(e){let t=new Date(e);const a=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0"),c=String(t.getSeconds()).padStart(2,"0");return`${a}-${n}-${r} ${s}:${i}:${c}`}function b(){const e=new Date,t=new Date(e);t.setHours(0,0,0,0);const a=new Date(e);return a.setHours(23,59,59,999),[t.getTime(),a.getTime()]}function k(e){const t=new Date,a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(e);if(isNaN(n.getTime()))return"无效的日期格式，请输入如'2025-07-01'的ISO格式";const r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),s=a.getTime()-r.getTime(),i=Math.floor(s/864e5);return i>0?`${i}天前`:i===0?"今天":`${Math.abs(i)} 天后`}function M(e){return e*Math.PI/180}function q(e,t,a,n){var r=M(e),s=M(a),i=r-s,c=M(t)-M(n),g=2*Math.asin(Math.sqrt(Math.pow(Math.sin(i/2),2)+Math.cos(r)*Math.cos(s)*Math.pow(Math.sin(c/2),2)));g=g*6378.137,g=Math.round(g*1e4)/1e4;var u=g,d="";return parseInt(u)>=1?d=u.toFixed(2)+"km":d=(u*1e3).toFixed(2)+"m",{distance:u,distance_str:d}.distance_str}exports.checkRole=l;exports.formatDate=v;exports.formatDateTime=$;exports.getDaysAgo=k;exports.getDistance=q;exports.getTodayTimestampRange=b;exports.getToken=S;exports.randomRgbColor=w;exports.times=D;exports.wgs84togcj02=p;
//# sourceMappingURL=../../.sourcemap/mp-weixin/utils/index.js.map
