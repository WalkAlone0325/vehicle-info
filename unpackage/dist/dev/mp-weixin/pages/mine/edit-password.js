"use strict";const e=require("../../common/vendor.js");require("../../utils/request.js");const w=require("../../api/common.js");if(!Array){const d=e.resolveComponent("wd-message-box"),r=e.resolveComponent("wd-toast"),o=e.resolveComponent("wd-input"),t=e.resolveComponent("wd-cell-group"),a=e.resolveComponent("wd-button"),s=e.resolveComponent("wd-form");(d+r+o+t+a+s)()}const u=()=>"../../uni_modules/wot-design-uni/components/wd-message-box/wd-message-box.js",c=()=>"../../uni_modules/wot-design-uni/components/wd-toast/wd-toast.js",_=()=>"../../uni_modules/wot-design-uni/components/wd-input/wd-input.js",m=()=>"../../uni_modules/wot-design-uni/components/wd-cell-group/wd-cell-group.js",i=()=>"../../uni_modules/wot-design-uni/components/wd-button/wd-button.js",p=()=>"../../uni_modules/wot-design-uni/components/wd-form/wd-form.js";Math||(u+c+_+m+i+p)();const g=e.defineComponent({__name:"edit-password",setup(d){const r=e.ref(),o=e.ref({oldPassword:"",newPassword:"",newPassword2:""}),t={oldPassword:[{required:!0,message:"请填写旧密码"}],newPassword:[{required:!0,message:"请填写新密码"}],newPassword2:[{required:!0,message:"请再次输入新密码"}]},a=()=>{r.value.validate().then(async({valid:s,errors:l})=>{s&&(await w.updatePwd(o.value)).code===200&&(e.index.removeStorageSync("token"),e.index.removeStorageSync("user"),e.index.navigateTo({url:"/pages/login/login"}))}).catch(s=>{e.index.__f__("log","at pages/mine/edit-password.vue:37",s,"error")})};return(s,l)=>({a:e.o(n=>o.value.oldPassword=n),b:e.p({showPassword:!0,label:"旧密码","label-width":"80px",prop:"oldPassword",clearable:!0,placeholder:"请输入旧密码",modelValue:o.value.oldPassword}),c:e.o(n=>o.value.newPassword=n),d:e.p({showPassword:!0,label:"新密码","label-width":"80px",prop:"newPassword",clearable:!0,placeholder:"请输入新密码",modelValue:o.value.newPassword}),e:e.o(n=>o.value.newPassword2=n),f:e.p({showPassword:!0,label:"确认密码","label-width":"80px",prop:"newPassword2",clearable:!0,placeholder:"请再次输入新密码",modelValue:o.value.newPassword2}),g:e.p({border:!0}),h:e.o(a),i:e.p({type:"primary",block:!0}),j:e.sr(r,"f167a4c3-2",{k:"form"}),k:e.p({model:o.value,rules:t,errorType:"toast"})})}}),b=e._export_sfc(g,[["__scopeId","data-v-f167a4c3"]]);wx.createPage(b);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/mine/edit-password.js.map
