"use strict";const e=require("../../common/vendor.js");require("../../utils/request.js");const r=require("../../api/order.js");if(!Array){const i=e.resolveComponent("BaseLoading"),d=e.resolveComponent("wd-tag"),c=e.resolveComponent("wd-button"),o=e.resolveComponent("wd-card"),p=e.resolveComponent("wd-status-tip");(i+d+c+o+p)()}const N=()=>"../../components/BaseLoading.js",x=()=>"../../uni_modules/wot-design-uni/components/wd-tag/wd-tag.js",T=()=>"../../uni_modules/wot-design-uni/components/wd-button/wd-button.js",h=()=>"../../uni_modules/wot-design-uni/components/wd-card/wd-card.js",A=()=>"../../uni_modules/wot-design-uni/components/wd-status-tip/wd-status-tip.js";Math||(N+x+T+h+A)();const C={__name:"list",setup(i){const d={done:"已审批",pending:"待审批",history:"审批记录",approve:"审批"},c=e.ref("查看"),o=e.ref("");e.onLoad(a=>{o.value=a.type,c.value=a.type=="approve"?"审批":"查看",e.index.__f__("log","at pages/order/list.vue:20",c.value,a.type),e.index.setNavigationBarTitle({title:d[a.type]+"列表"})});const p=e.ref([{expectedVehicleId:1,applicantTime:"2025-05-19 18:38:00",vehicleTypeName:"货车",destination:"116.434446,39.90816长沙市地址",expectedDriverName:"刘洋",expectedPlateNumber:"晋A9NG08"}]),l=e.ref(0),_=a=>{e.index.navigateTo({url:`/pages/order/form?id=${a.useCarApplicationOrderId}&type=${o.value}`})},m=a=>{e.index.navigateTo({url:`/pages/order/record?id=${a.useCarApplicationOrderId}&type=${o.value}`})},v=a=>{e.index.navigateTo({url:`/pages/order/form-apply?id=${a.useCarApplicationOrderId}`})},g={history:()=>r.getHistoryApi(),approve:()=>r.getApproveApi(),done:a=>r.getDoneListApi({...a,orderStatusCode:o.value}),pending:a=>r.getApproveListApi({...a,orderStatusCode:o.value})},n=e.ref(!1),y=async()=>{n.value=!0;const a=await g[o.value]({pageNum:1,pageSize:10});p.value=a.rows,l.value=a.total,n.value=!1};e.onShow(()=>{y()});const f=({orderStatusCode:a})=>({refuse:"#e75356",pass:"#69cea0",draft:"#e28d4b"})[a]||"#69cea0";return(a,w)=>e.e({a:n.value},n.value?{}:{b:e.f(p.value,(t,P,s)=>e.e({a:e.t(`时间：${t.applicantTime||""}`),b:t.orderStatusName},t.orderStatusName?{c:e.t(t.orderStatusName),d:f(t)}:{},{e:e.t(t.applicantUserName),f:e.t(t.applicantNickName),g:e.t(t.applicantDeptName),h:e.t(t.applicantCompanyDeptName),i:e.t(t.applicantIsIntermarketCityName),j:e.t(t.applicantPassengersNumber),k:e.t(t.applicantContent),l:t.vehicleTypeName},t.vehicleTypeName?{m:e.t(t.vehicleTypeName),n:"456ecf67-2-"+s+","+("456ecf67-1-"+s),o:e.p({type:"primary",mark:!0})}:{},o.value==="pass"?{p:e.o(u=>v(t),t.expectedVehicleId),q:"456ecf67-3-"+s+","+("456ecf67-1-"+s),r:e.p({size:"small",plain:!0,type:"success"})}:{},{s:e.o(u=>_(t),t.expectedVehicleId),t:"456ecf67-4-"+s+","+("456ecf67-1-"+s),v:e.o(u=>m(t),t.expectedVehicleId),w:"456ecf67-5-"+s+","+("456ecf67-1-"+s),x:t.expectedVehicleId,y:"456ecf67-1-"+s})),c:o.value==="pass",d:e.t(c.value),e:e.p({size:"small",plain:!0}),f:e.p({size:"small",plain:!0})},{g:!n.value&&l.value==0},!n.value&&l.value==0?{h:e.p({image:"/static/content.png",tip:"暂无列表"})}:{})}},I=e._export_sfc(C,[["__scopeId","data-v-456ecf67"]]);wx.createPage(I);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/order/list.js.map
