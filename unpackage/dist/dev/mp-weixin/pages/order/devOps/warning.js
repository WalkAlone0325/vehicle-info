"use strict";const e=require("../../../common/vendor.js");require("../../../utils/request.js");const _=require("../../../api/order.js");if(!Array){const l=e.resolveComponent("BaseLoading"),o=e.resolveComponent("wd-tag"),a=e.resolveComponent("wd-card"),t=e.resolveComponent("wd-loadmore"),s=e.resolveComponent("wd-fab");(l+o+a+t+s)()}const g=()=>"../../../components/BaseLoading.js",f=()=>"../../../uni_modules/wot-design-uni/components/wd-tag/wd-tag.js",p=()=>"../../../uni_modules/wot-design-uni/components/wd-card/wd-card.js",v=()=>"../../../uni_modules/wot-design-uni/components/wd-loadmore/wd-loadmore.js",w=()=>"../../../uni_modules/wot-design-uni/components/wd-fab/wd-fab.js";Math||(g+f+p+v+w)();const y={__name:"warning",setup(l){const o=e.ref(!1),a=e.ref([]),t=e.ref(0),s=e.reactive({pageNum:1,pageSize:10,order:"asc"}),r=e.ref("loading");e.onReachBottom(()=>{a.value.length?a.value.length<t.value?m():a.value.length===t.value&&(r.value="finished"):r.value="error"}),e.onShow(()=>{r.value="loading",s.pageNum=1,s.order="asc",a.value=[],t.value=0,u()});function m(){s.pageNum++,u(),r.value="loading"}const u=async()=>{o.value=!0;const c=await _.getWarningList(s);a.value=[...a.value,...c.rows],t.value=c.total,o.value=!1},i=c=>{e.index.navigateTo({url:`/pages/order/devOps/warningForm${c?`?id=${c}`:""}`})};return(c,h)=>e.e({a:o.value&&!a.value.length},o.value&&!a.value.length?{b:e.p({loading:o.value})}:{c:e.f(a.value,(n,N,d)=>e.e({a:e.t(n.maintenanceRecordTypeName),b:n.plateNumber},n.plateNumber?{c:e.t(n.plateNumber),d:"fc06cf97-2-"+d+","+("fc06cf97-1-"+d),e:e.p({type:"primary"})}:{},{f:e.t(n.maintenanceStatusName),g:"fc06cf97-3-"+d+","+("fc06cf97-1-"+d),h:e.p({type:n.maintenanceStatusCode=="0"?"success":"warning",mark:!0}),i:e.t(n.deptName),j:e.t(n.maintenanceDate),k:"fc06cf97-1-"+d,l:n.maintenanceWarningId,m:e.o(j=>i(n.maintenanceWarningId),n.maintenanceWarningId)})),d:e.o(m),e:e.p({state:r.value})},{f:e.o(i),g:e.p({activeIcon:"add",expandable:!1})})}},b=e._export_sfc(y,[["__scopeId","data-v-fc06cf97"]]);wx.createPage(b);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/order/devOps/warning.js.map
