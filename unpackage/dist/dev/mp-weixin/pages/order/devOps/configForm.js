"use strict";const e=require("../../../common/vendor.js");require("../../../utils/request.js");const i=require("../../../api/order.js"),_=require("../../../api/common.js");if(!Array){const l=e.resolveComponent("wd-picker"),u=e.resolveComponent("wd-input"),t=e.resolveComponent("wd-cell-group"),s=e.resolveComponent("wd-button"),o=e.resolveComponent("wd-form"),c=e.resolveComponent("BaseForm");(l+u+t+s+o+c)()}const g=()=>"../../../uni_modules/wot-design-uni/components/wd-picker/wd-picker.js",w=()=>"../../../uni_modules/wot-design-uni/components/wd-input/wd-input.js",y=()=>"../../../uni_modules/wot-design-uni/components/wd-cell-group/wd-cell-group.js",v=()=>"../../../uni_modules/wot-design-uni/components/wd-button/wd-button.js",f=()=>"../../../uni_modules/wot-design-uni/components/wd-form/wd-form.js",F=()=>"../../../components/BaseForm.js";Math||(g+w+y+v+f+F)();const C={__name:"configForm",setup(l){const u=e.ref([]),t=e.ref(!1),s=e.ref(null),o=e.ref({maintenanceRecordTypeCode:"",maintenanceWarningFrontDay:"",remark:"",maintenanceWarningCycleId:""}),c=e.ref({maintenanceRecordTypeCode:[{required:!0,message:"请选择保养类型"}],maintenanceWarningFrontDay:[{required:!0,message:"请输入提前告警时间（日）"},{min:1,message:"提前告警时间（日）不能小于1"},{max:365,message:"提前告警时间（日）不能大于365"}]}),d=async n=>{const r=await i.getConfigDetail(n);o.value=r.data},m=async n=>{const r=await _.getDictApi(n);u.value=r.data},p=()=>{s.value.validate().then(async({valid:n,errors:r})=>{if(n){t.value=!0;let a;o.value.maintenanceWarningCycleId?a=await i.putConfigDetail(o.value):a=await i.postConfigDetail(o.value),a.code==200&&e.index.showToast({title:"提交成功",icon:"success",duration:1e3,success:()=>{setTimeout(()=>{t.value=!1,e.index.navigateBack({delta:1})},1e3)}}),t.value=!1}}).catch(n=>{e.index.__f__("log","at pages/order/devOps/configForm.vue:67",n,"error")})};return e.onLoad(n=>{n.id&&d(n.id),m("vehicle_maintenance_record_type")}),(n,r)=>({a:e.o(a=>o.value.maintenanceRecordTypeCode=a),b:e.p({label:"保养类型",placeholder:"请选择保养类型","value-key":"dictValue","label-key":"dictLabel","label-width":"120px",prop:"maintenanceRecordTypeCode",columns:u.value,modelValue:o.value.maintenanceRecordTypeCode}),c:e.o(a=>o.value.maintenanceWarningFrontDay=a),d:e.p({type:"number",label:"提前告警时间(日)","label-width":"120px",prop:"maintenanceWarningFrontDay",required:!0,placeholder:"请输入提前告警时间（日）",modelValue:o.value.maintenanceWarningFrontDay}),e:e.o(a=>o.value.remark=a),f:e.p({label:"备注","label-width":"100px",prop:"remark",clearable:!0,placeholder:"请输入备注",modelValue:o.value.remark}),g:e.p({border:!0}),h:e.o(p),i:e.p({type:"primary",loading:t.value,block:!0}),j:e.sr(s,"5a96358a-1,5a96358a-0",{k:"form"}),k:e.p({model:o.value,rules:c.value,errorType:"toast"})})}},b=e._export_sfc(C,[["__scopeId","data-v-5a96358a"]]);wx.createPage(b);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/order/devOps/configForm.js.map
