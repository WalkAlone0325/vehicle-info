"use strict";const e=require("../../../common/vendor.js");require("../../../utils/request.js");const p=require("../../../api/order.js");if(!Array){const c=e.resolveComponent("wd-input"),l=e.resolveComponent("wd-datetime-picker"),o=e.resolveComponent("wd-cell-group"),a=e.resolveComponent("wd-button"),n=e.resolveComponent("wd-form"),r=e.resolveComponent("BaseForm");(c+l+o+a+n+r)()}const i=()=>"../../../uni_modules/wot-design-uni/components/wd-input/wd-input.js",m=()=>"../../../uni_modules/wot-design-uni/components/wd-datetime-picker/wd-datetime-picker.js",_=()=>"../../../uni_modules/wot-design-uni/components/wd-cell-group/wd-cell-group.js",w=()=>"../../../uni_modules/wot-design-uni/components/wd-button/wd-button.js",b=()=>"../../../uni_modules/wot-design-uni/components/wd-form/wd-form.js",v=()=>"../../../components/BaseForm.js";Math||(i+m+_+w+b+v)();const F={__name:"planForm",setup(c){const l=e.ref(!1),o=e.ref(null),a=e.ref({vehicleId:"",plateNumber:"",remark:"",lastMaintenance:"",nextMaintenance:"",lastInspection:"",nextInspection:"",lastInsurance:"",nextInsurance:""}),n=e.ref({vehicleId:[{required:!0,message:"请选择车辆车牌"}]}),r=async t=>{const s=await p.getPlanDetail(t);a.value=s.data},d=()=>{o.value.validate().then(async({valid:t,errors:s})=>{t&&(l.value=!0,(await p.updatePlan(a.value)).code==200&&e.index.showToast({title:"提交成功",icon:"success",duration:1e3,success:()=>{setTimeout(()=>{l.value=!1,e.index.navigateBack({delta:1})},1e3)}}),l.value=!1)}).catch(t=>{e.index.__f__("log","at pages/order/devOps/planForm.vue:76",t,"error")})};return e.onLoad(t=>{t.id&&r(t.id)}),(t,s)=>({a:e.o(u=>a.value.plateNumber=u),b:e.p({clearable:!0,label:"车辆车牌","label-width":"100px",prop:"plateNumber",disabled:!0,placeholder:"请输入备注",modelValue:a.value.plateNumber}),c:e.o(u=>a.value.lastMaintenance=u),d:e.p({clearable:!0,label:"上次保养日期",type:"date","label-width":"100px",placeholder:"请选择日期",prop:"lastMaintenance",modelValue:a.value.lastMaintenance}),e:e.o(u=>a.value.nextMaintenance=u),f:e.p({clearable:!0,label:"下次保养日期",type:"date","label-width":"100px",placeholder:"请选择日期",prop:"nextMaintenance",modelValue:a.value.nextMaintenance}),g:e.o(u=>a.value.lastInspection=u),h:e.p({clearable:!0,label:"上次年检日期",type:"date","label-width":"100px",placeholder:"请选择日期",prop:"lastInspection",modelValue:a.value.lastInspection}),i:e.o(u=>a.value.nextInspection=u),j:e.p({clearable:!0,label:"下次年检日期",type:"date","label-width":"100px",placeholder:"请选择日期",prop:"nextInspection",modelValue:a.value.nextInspection}),k:e.o(u=>a.value.lastInsurance=u),l:e.p({clearable:!0,label:"上次保险日期",type:"date","label-width":"100px",placeholder:"请选择日期",prop:"lastInsurance",modelValue:a.value.lastInsurance}),m:e.o(u=>a.value.nextInsurance=u),n:e.p({clearable:!0,label:"下次保险日期",type:"date","label-width":"100px",placeholder:"请选择日期",prop:"nextInsurance",modelValue:a.value.nextInsurance}),o:e.o(u=>a.value.remark=u),p:e.p({label:"备注","label-width":"100px",prop:"remark",clearable:!0,placeholder:"请输入备注",modelValue:a.value.remark}),q:e.p({border:!0}),r:e.o(d),s:e.p({type:"primary",loading:l.value,block:!0}),t:e.sr(o,"1b3e4a2c-1,1b3e4a2c-0",{k:"form"}),v:e.p({model:a.value,rules:n.value,errorType:"toast"})})}},E=e._export_sfc(F,[["__scopeId","data-v-1b3e4a2c"]]);wx.createPage(E);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/order/devOps/planForm.js.map
