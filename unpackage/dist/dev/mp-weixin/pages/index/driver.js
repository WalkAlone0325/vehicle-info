"use strict";const e=require("../../common/vendor.js"),g=require("../../api/home.js");require("../../utils/request.js");if(!Array){const i=e.resolveComponent("wd-search"),a=e.resolveComponent("wd-sticky"),t=e.resolveComponent("BaseLoading"),o=e.resolveComponent("wd-tag"),n=e.resolveComponent("wd-card"),s=e.resolveComponent("wd-loadmore"),c=e.resolveComponent("wd-status-tip");(i+a+t+o+n+s+c)()}const p=()=>"../../uni_modules/wot-design-uni/components/wd-search/wd-search.js",w=()=>"../../uni_modules/wot-design-uni/components/wd-sticky/wd-sticky.js",f=()=>"../../components/BaseLoading.js",h=()=>"../../uni_modules/wot-design-uni/components/wd-tag/wd-tag.js",y=()=>"../../uni_modules/wot-design-uni/components/wd-card/wd-card.js",N=()=>"../../uni_modules/wot-design-uni/components/wd-loadmore/wd-loadmore.js",j=()=>"../../uni_modules/wot-design-uni/components/wd-status-tip/wd-status-tip.js";Math||(p+w+f+h+y+N+j)();const C={__name:"driver",setup(i){const a=e.ref([]),t=e.ref(0),o=e.reactive({pageNum:1,pageSize:10,order:"asc",driverName:""}),n=e.ref(!0),s=e.ref("loading");e.onReachBottom(()=>{a.value.length?a.value.length===t.value?s.value="finished":a.value.length<t.value&&c():s.value="error"}),e.onLoad(()=>{u()});function c(){o.pageNum++,u(),s.value="loading"}const u=async()=>{n.value=!0;const d=await g.getDriverListApi(o);a.value=[...a.value,...d.rows],t.value=d.total,n.value=!1,a.value.length===t.value?s.value="finished":a.value.length||(s.value="error")},_=({value:d})=>{d&&(o.driverName=d,o.pageNum=1,a.value=[],t.value=0,s.value="loading",u())},m=()=>{s.value="loading",o.driverName="",o.pageNum=1,o.order="asc",a.value=[],t.value=0,u()},v=()=>{m()};return(d,x)=>e.e({a:e.o(_),b:e.o(m),c:e.o(v),d:e.o(r=>o.driverName=r),e:e.p({placeholder:"请输入姓名搜索","placeholder-left":!0,maxlength:10,modelValue:o.driverName}),f:n.value&&!a.value.length},n.value&&!a.value.length?{g:e.p({loading:n.value})}:{h:e.f(a.value,(r,B,l)=>e.e({a:e.t(r.driverName),b:r.driverSexName},r.driverSexName?{c:e.t(r.driverSexName),d:"433ed93f-4-"+l+","+("433ed93f-3-"+l),e:e.p({type:"primary"})}:{},{f:e.t(r.mobile),g:e.t(r.deptName),h:"433ed93f-3-"+l,i:r.driverId})),i:e.o(c),j:e.p({state:s.value})},{k:!n.value&&t.value==0},!n.value&&t.value==0?{l:e.p({image:"/static/content.png",tip:"暂无列表"})}:{})}},k=e._export_sfc(C,[["__scopeId","data-v-433ed93f"]]);wx.createPage(k);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/driver.js.map
