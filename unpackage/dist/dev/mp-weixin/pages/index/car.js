"use strict";const e=require("../../common/vendor.js"),w=require("../../api/home.js");require("../../utils/request.js");if(!Array){const m=e.resolveComponent("wd-search"),r=e.resolveComponent("wd-sticky"),a=e.resolveComponent("wd-loading"),s=e.resolveComponent("wd-tag"),t=e.resolveComponent("wd-card"),c=e.resolveComponent("wd-loadmore");(m+r+a+s+t+c)()}const g=()=>"../../uni_modules/wot-design-uni/components/wd-search/wd-search.js",y=()=>"../../uni_modules/wot-design-uni/components/wd-sticky/wd-sticky.js",f=()=>"../../uni_modules/wot-design-uni/components/wd-loading/wd-loading.js",h=()=>"../../uni_modules/wot-design-uni/components/wd-tag/wd-tag.js",N=()=>"../../uni_modules/wot-design-uni/components/wd-card/wd-card.js",k=()=>"../../uni_modules/wot-design-uni/components/wd-loadmore/wd-loadmore.js";Math||(g+y+f+h+N+k)();const b={__name:"car",setup(m){const r=e.ref(""),a=e.ref([]),s=e.ref(0),t=e.reactive({pageNum:1,pageSize:10,order:"asc",val:""}),c=e.ref("loading");e.onReachBottom(()=>{a.value.length<s.value?u():a.value.length===s.value&&(c.value="finished")}),e.onLoad(()=>{l()});function u(){t.pageNum++,c.value="loading",l()}const l=async()=>{const n=await w.getCarListApi(t);a.value=[...a.value,...n.rows],s.value=n.total},i=({value:n})=>{t.val=n,t.pageNum=1,l()},_=()=>{r.value="",t.pageNum=1,l()},p=()=>{r.value=""},v=n=>{e.index.navigateTo({url:"/pages/index/localMap?plateNumber="+n.plateNumber})};return(n,C)=>e.e({a:e.o(i),b:e.o(_),c:e.o(p),d:e.o(o=>t.val=o),e:e.p({"placeholder-left":!0,maxlength:10,modelValue:t.val}),f:!a.value.length},a.value.length?{h:e.f(a.value,(o,x,d)=>e.e({a:e.t(o.plateNumber),b:o.brandModel},o.brandModel?{c:e.t(o.brandModel),d:"54fe3593-4-"+d+","+("54fe3593-3-"+d),e:e.p({type:"primary"})}:{},{f:o.vehicleStatusName},o.vehicleStatusName?{g:e.t(o.vehicleStatusName),h:"54fe3593-5-"+d+","+("54fe3593-3-"+d),i:e.p({type:"success",mark:!0})}:{},{j:o.driverName},o.driverName?{k:e.t(o.driverName)}:{},{l:e.t(o.deptName),m:e.t(`(${o.cityName}${o.countyName||""})`),n:e.t(o.vehicleApplicationNames),o:e.t(o.terminalFirstOnlineTime),p:e.t(o.terminalRecentOfflineTime),q:e.o(M=>v(o),o.driverId),r:"54fe3593-3-"+d,s:o.driverId})),i:e.o(u),j:e.p({state:c.value})}:{g:e.p({type:"outline"})})}},j=e._export_sfc(b,[["__scopeId","data-v-54fe3593"]]);wx.createPage(j);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/car.js.map
