"use strict";const e=require("../../common/vendor.js"),g=require("../../api/home.js");require("../../utils/request.js");if(!Array){const m=e.resolveComponent("wd-search"),t=e.resolveComponent("wd-sticky"),s=e.resolveComponent("BaseLoading"),o=e.resolveComponent("wd-tag"),l=e.resolveComponent("wd-card"),n=e.resolveComponent("wd-loadmore"),r=e.resolveComponent("wd-status-tip");(m+t+s+o+l+n+r)()}const w=()=>"../../uni_modules/wot-design-uni/components/wd-search/wd-search.js",f=()=>"../../uni_modules/wot-design-uni/components/wd-sticky/wd-sticky.js",h=()=>"../../components/BaseLoading.js",y=()=>"../../uni_modules/wot-design-uni/components/wd-tag/wd-tag.js",N=()=>"../../uni_modules/wot-design-uni/components/wd-card/wd-card.js",b=()=>"../../uni_modules/wot-design-uni/components/wd-loadmore/wd-loadmore.js",k=()=>"../../uni_modules/wot-design-uni/components/wd-status-tip/wd-status-tip.js";Math||(w+f+h+y+N+b+k)();const C={__name:"car",setup(m){const t=e.ref([]),s=e.ref(0),o=e.reactive({pageNum:1,pageSize:10,order:"asc",plateNumber:""}),l=e.ref(!1),n=e.ref("loading");e.onReachBottom(()=>{t.value.length===s.value?n.value="finished":t.value.length?t.value.length<s.value&&r():n.value="error"}),e.onLoad(()=>{d()});function r(){o.pageNum++,n.value="loading",d()}const d=async()=>{l.value=!0;const c=await g.getCarListApi(o);t.value=[...t.value,...c.rows],s.value=c.total,l.value=!1,t.value.length===s.value?n.value="finished":t.value.length||(n.value="error")},_=({value:c})=>{o.plateNumber=c,o.pageNum=1,t.value=[],s.value=0,n.value="loading",d()},i=()=>{n.value="loading",o.plateNumber="",o.pageNum=1,o.order="asc",t.value=[],s.value=0,d()},p=()=>{i()},v=c=>{e.index.navigateTo({url:"/pages/index/localMap?plateNumber="+c.plateNumber})};return(c,L)=>e.e({a:e.o(_),b:e.o(i),c:e.o(p),d:e.o(a=>o.plateNumber=a),e:e.p({"placeholder-left":!0,placeholder:"请输入车牌号码搜索",maxlength:10,modelValue:o.plateNumber}),f:l.value&&!t.value.length},l.value&&!t.value.length?{g:e.p({loading:l.value})}:{h:e.f(t.value,(a,x,u)=>e.e({a:e.t(a.plateNumber),b:a.brandModel},a.brandModel?{c:e.t(a.brandModel),d:"54fe3593-4-"+u+","+("54fe3593-3-"+u),e:e.p({type:"primary"})}:{},{f:a.vehicleStatusName},a.vehicleStatusName?{g:e.t(a.vehicleStatusName),h:"54fe3593-5-"+u+","+("54fe3593-3-"+u),i:e.p({type:"success",mark:!0})}:{},{j:a.driverName},a.driverName?{k:e.t(a.driverName)}:{},{l:e.t(a.deptName),m:e.t(`(${a.cityName}${a.countyName||""})`),n:e.t(a.vehicleApplicationNames),o:e.t(a.terminalFirstOnlineTime),p:e.t(a.terminalRecentOfflineTime),q:e.o(B=>v(a),a.driverId),r:"54fe3593-3-"+u,s:a.driverId})),i:e.o(r),j:e.p({state:n.value})},{k:!l.value&&s.value==0},!l.value&&s.value==0?{l:e.p({image:"/static/content.png",tip:"暂无列表"})}:{})}},j=e._export_sfc(C,[["__scopeId","data-v-54fe3593"]]);wx.createPage(j);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/car.js.map
