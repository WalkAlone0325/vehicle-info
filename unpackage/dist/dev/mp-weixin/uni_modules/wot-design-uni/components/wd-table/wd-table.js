"use strict";const e=require("../../../../common/vendor.js"),i=require("../common/util.js"),_=require("./types.js"),H=require("../composables/useTranslate.js"),T=require("../composables/useChildren.js");Math||(x+q)();const q=()=>"../wd-table-col/wd-table-col.js",x=()=>"../wd-sort-button/wd-sort-button.js",k={name:"wd-table",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}},E=e.defineComponent({...k,props:_.tableProps,emits:["sort-method","row-click"],setup(y,{emit:D}){const{translate:m}=H.useTranslate("tableCol"),n=y,h=D,f=e.reactive({scrollLeft:0}),{linkChildren:C,children:a}=T.useChildren(_.TABLE_KEY);C({props:n,state:f,rowClick:j,getIsLastFixed:b,getFixedStyle:g});const S=i.uuid(),r=e.ref({prop:S,label:m("indexLabel"),width:"100rpx",sortable:!1,fixed:!1,align:"left",...i.isObj(n.index)?n.index:{}}),c=i.debounce(L,100,{leading:!1}),U=e.computed(()=>{const t={};return i.isDef(n.height)&&(t["max-height"]=i.addUnit(n.height)),`${i.objToStyle(t)}${n.customStyle}`}),p=e.computed(()=>{const t={display:"flex"};let s="";return a.forEach(l=>{s=s?`${s} + ${i.addUnit(l.width)}`:i.addUnit(l.width)}),t.width=`calc(${s})`,i.objToStyle(t)}),w=e.computed(()=>{const t={};return i.isDef(n.height)&&(t.height=i.isDef(n.rowHeight)?`calc(${n.data.length} * ${i.addUnit(n.rowHeight)})`:`calc(${n.data.length} * 50px)`),`${i.objToStyle(t)}`});function b(t){let s=!1;if(t.fixed&&i.isDef(a)){const l=a.filter(o=>o.fixed);l.length&&l[l.length-1].prop===t.prop&&(s=!0)}return s}function v(t){let s={};return i.isDef(a[t].width)&&(s.width=i.addUnit(a[t].width)),a[t].fixed&&(s=g(t,s)),i.objToStyle(s)}function g(t,s){if(t>0){let l="";a.forEach((o,d)=>{d<t&&(l=l?`${l} + ${i.addUnit(o.width)}`:i.addUnit(o.width))}),s.left=`calc(${l})`}else s.left=0;return s}function $(t,s){a[s].$.exposed.sortDirection.value=t,a.forEach((o,d)=>{s!=d&&(o.$.exposed.sortDirection.value=0)});const l={prop:a[s].prop,label:a[s].label,width:a[s].width,sortable:a[s].sortable,align:a[s].align,sortDirection:t,fixed:a[s].fixed};h("sort-method",l)}function L(t){f.scrollLeft=t.detail.scrollLeft}function j(t){h("row-click",{rowIndex:t})}return(t,s)=>e.e({a:t.fixedHeader},t.fixedHeader?e.e({b:t.showHeader},t.showHeader?{c:e.f(e.unref(a),(l,o,d)=>e.e({a:l.sortable},l.sortable?{b:e.o(({value:u})=>$(u,o),o),c:"323200c2-0-"+d,d:e.o(u=>l.$.exposed.sortDirection.value=u,o),e:e.p({"allow-reset":!0,line:!1,title:l.label,modelValue:l.$.exposed.sortDirection.value})}:{f:e.t(l.label),g:e.n(`wd-table__value ${t.ellipsis?"is-ellipsis":""}`)},{h:e.n(`wd-table__cell ${t.border?"is-border":""} ${l.fixed?"is-fixed":""} ${t.stripe?"is-stripe":""} is-${l.align} ${b(l)&&f.scrollLeft?"is-shadow":""}`),i:e.s(v(o)),j:o})),d:e.s(p.value),e:f.scrollLeft,f:e.o((...l)=>e.unref(c)&&e.unref(c)(...l))}:{},{g:t.index!==!1},t.index!==!1?{h:e.w(({index:l},o,d)=>({a:e.t(l+1),b:d,c:o}),{name:"value",path:"h",vueId:"323200c2-1"}),i:e.p({prop:r.value.prop,label:r.value.label,width:r.value.width,sortable:r.value.sortable,fixed:r.value.fixed,align:r.value.align})}:{},{j:e.s(p.value),k:e.s(w.value),l:e.o((...l)=>e.unref(c)&&e.unref(c)(...l)),m:f.scrollLeft}):e.e({n:t.showHeader},t.showHeader?{o:e.f(e.unref(a),(l,o,d)=>e.e({a:l.sortable},l.sortable?{b:e.o(({value:u})=>$(u,o),o),c:"323200c2-2-"+d,d:e.o(u=>l.$.exposed.sortDirection.value=u,o),e:e.p({"allow-reset":!0,line:!1,title:l.label,modelValue:l.$.exposed.sortDirection.value})}:{f:e.t(l.label),g:e.n(`wd-table__value ${t.ellipsis?"is-ellipsis":""}`)},{h:o,i:e.n(`wd-table__cell ${t.border?"is-border":""} ${l.fixed?"is-fixed":""} ${t.stripe?"is-stripe":""} is-${l.align} ${b(l)&&f.scrollLeft?"is-shadow":""}`),j:e.s(v(o))}))}:{},{p:t.index!==!1},t.index!==!1?{q:e.w(({index:l},o,d)=>({a:e.t(l+1),b:d,c:o}),{name:"value",path:"q",vueId:"323200c2-3"}),r:e.p({prop:r.value.prop,label:r.value.label,width:r.value.width,sortable:r.value.sortable,fixed:r.value.fixed,align:r.value.align})}:{},{s:e.s(w.value),t:e.s(p.value),v:e.o((...l)=>e.unref(c)&&e.unref(c)(...l)),w:f.scrollLeft}),{x:e.n(`wd-table ${t.border?"is-border":""} ${t.customClass}`),y:e.s(U.value)})}}),F=e._export_sfc(E,[["__scopeId","data-v-323200c2"]]);wx.createComponent(F);
//# sourceMappingURL=../../../../../.sourcemap/mp-weixin/uni_modules/wot-design-uni/components/wd-table/wd-table.js.map
