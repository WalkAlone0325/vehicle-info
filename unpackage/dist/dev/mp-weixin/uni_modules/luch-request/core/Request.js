"use strict";const n=require("../../../common/vendor.js"),o=require("./dispatchRequest.js"),u=require("./InterceptorManager.js"),d=require("./mergeConfig.js"),h=require("./defaults.js"),l=require("../utils.js"),c=require("../utils/clone.js");class m{constructor(e={}){l.isPlainObject(e)||(e={},n.index.__f__("warn","at uni_modules/luch-request/core/Request.js:37","设置全局参数必须接收一个Object")),this.config=c.clone({...h.defaults,...e}),this.interceptors={request:new u.InterceptorManager,response:new u.InterceptorManager}}setConfig(e){this.config=e(this.config)}middleware(e){e=d.mergeConfig(this.config,e);let t=[o.dispatchRequest,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(s){t.unshift(s.fulfilled,s.rejected)}),this.interceptors.response.forEach(function(s){t.push(s.fulfilled,s.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r}request(e={}){return this.middleware(e)}get(e,t={}){return this.middleware({url:e,method:"GET",...t})}post(e,t,r={}){return this.middleware({url:e,data:t,method:"POST",...r})}put(e,t,r={}){return this.middleware({url:e,data:t,method:"PUT",...r})}delete(e,t,r={}){return this.middleware({url:e,data:t,method:"DELETE",...r})}connect(e,t,r={}){return this.middleware({url:e,data:t,method:"CONNECT",...r})}head(e,t,r={}){return this.middleware({url:e,data:t,method:"HEAD",...r})}options(e,t,r={}){return this.middleware({url:e,data:t,method:"OPTIONS",...r})}trace(e,t,r={}){return this.middleware({url:e,data:t,method:"TRACE",...r})}upload(e,t={}){return t.url=e,t.method="UPLOAD",this.middleware(t)}download(e,t={}){return t.url=e,t.method="DOWNLOAD",this.middleware(t)}get version(){return"3.1.0"}}exports.Request=m;
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/uni_modules/luch-request/core/Request.js.map
