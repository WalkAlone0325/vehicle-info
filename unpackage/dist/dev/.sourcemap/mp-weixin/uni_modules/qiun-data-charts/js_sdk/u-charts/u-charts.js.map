{"version":3,"file":"u-charts.js","sources":["uni_modules/qiun-data-charts/js_sdk/u-charts/u-charts.js"],"sourcesContent":["/*\n * uCharts (R)\n * 高性能跨平台图表库，支持H5、APP、小程序（微信/支付宝/百度/头条/QQ/360/快手）、Vue、Taro等支持canvas的框架平台\n * Copyright (C) 2018-2022 QIUN (R) 秋云 https://www.ucharts.cn All rights reserved.\n * Licensed ( http://www.apache.org/licenses/LICENSE-2.0 )\n * 复制使用请保留本段注释，感谢支持开源！\n * \n * uCharts (R) 官方网站\n * https://www.uCharts.cn\n * \n * 开源地址:\n * https://gitee.com/uCharts/uCharts\n * \n * uni-app插件市场地址：\n * http://ext.dcloud.net.cn/plugin?id=271\n * \n */\r\n\r\n'use strict';\r\n\r\nvar config = {\r\n  version: 'v2.5.0-20230101',\r\n  yAxisWidth: 15,\r\n  xAxisHeight: 22,\r\n  padding: [10, 10, 10, 10],\r\n  rotate: false,\r\n  fontSize: 13,\r\n  fontColor: '#666666',\r\n  dataPointShape: ['circle', 'circle', 'circle', 'circle'],\r\n  color: ['#1890FF', '#91CB74', '#FAC858', '#EE6666', '#73C0DE', '#3CA272', '#FC8452', '#9A60B4', '#ea7ccc'],\r\n  linearColor: ['#0EE2F8', '#2BDCA8', '#FA7D8D', '#EB88E2', '#2AE3A0', '#0EE2F8', '#EB88E2', '#6773E3', '#F78A85'],\r\n  pieChartLinePadding: 15,\r\n  pieChartTextPadding: 5,\r\n  titleFontSize: 20,\r\n  subtitleFontSize: 15,\r\n  radarLabelTextMargin: 13,\r\n};\r\n\r\nvar assign = function(target, ...varArgs) {\r\n  if (target == null) {\r\n    throw new TypeError('[uCharts] Cannot convert undefined or null to object');\r\n  }\r\n  if (!varArgs || varArgs.length <= 0) {\r\n    return target;\r\n  }\r\n  // 深度合并对象\r\n  function deepAssign(obj1, obj2) {\r\n    for (let key in obj2) {\r\n      obj1[key] = obj1[key] && obj1[key].toString() === \"[object Object]\" ?\r\n        deepAssign(obj1[key], obj2[key]) : obj1[key] = obj2[key];\r\n    }\r\n    return obj1;\r\n  }\r\n  varArgs.forEach(val => {\r\n    target = deepAssign(target, val);\r\n  });\r\n  return target;\r\n};\r\n\r\nvar util = {\r\n  toFixed: function toFixed(num, limit) {\r\n    limit = limit || 2;\r\n    if (this.isFloat(num)) {\r\n      num = num.toFixed(limit);\r\n    }\r\n    return num;\r\n  },\r\n  isFloat: function isFloat(num) {\r\n    return num % 1 !== 0;\r\n  },\r\n  approximatelyEqual: function approximatelyEqual(num1, num2) {\r\n    return Math.abs(num1 - num2) < 1e-10;\r\n  },\r\n  isSameSign: function isSameSign(num1, num2) {\r\n    return Math.abs(num1) === num1 && Math.abs(num2) === num2 || Math.abs(num1) !== num1 && Math.abs(num2) !== num2;\r\n  },\r\n  isSameXCoordinateArea: function isSameXCoordinateArea(p1, p2) {\r\n    return this.isSameSign(p1.x, p2.x);\r\n  },\r\n  isCollision: function isCollision(obj1, obj2) {\r\n    obj1.end = {};\r\n    obj1.end.x = obj1.start.x + obj1.width;\r\n    obj1.end.y = obj1.start.y - obj1.height;\r\n    obj2.end = {};\r\n    obj2.end.x = obj2.start.x + obj2.width;\r\n    obj2.end.y = obj2.start.y - obj2.height;\r\n    var flag = obj2.start.x > obj1.end.x || obj2.end.x < obj1.start.x || obj2.end.y > obj1.start.y || obj2.start.y < obj1.end.y;\r\n    return !flag;\r\n  }\r\n};\r\n\r\n//兼容H5点击事件\r\nfunction getH5Offset(e) {\r\n  e.mp = {\r\n    changedTouches: []\r\n  };\r\n  e.mp.changedTouches.push({\r\n    x: e.offsetX,\r\n    y: e.offsetY\r\n  });\r\n  return e;\r\n}\r\n\r\n// hex 转 rgba\r\nfunction hexToRgb(hexValue, opc) {\r\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n  var hex = hexValue.replace(rgx, function(m, r, g, b) {\r\n    return r + r + g + g + b + b;\r\n  });\r\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n  var r = parseInt(rgb[1], 16);\r\n  var g = parseInt(rgb[2], 16);\r\n  var b = parseInt(rgb[3], 16);\r\n  return 'rgba(' + r + ',' + g + ',' + b + ',' + opc + ')';\r\n}\r\n\r\nfunction findRange(num, type, limit) {\r\n  if (isNaN(num)) {\r\n    throw new Error('[uCharts] series数据需为Number格式');\r\n  }\r\n  limit = limit || 10;\r\n  type = type ? type : 'upper';\r\n  var multiple = 1;\r\n  while (limit < 1) {\r\n    limit *= 10;\r\n    multiple *= 10;\r\n  }\r\n  if (type === 'upper') {\r\n    num = Math.ceil(num * multiple);\r\n  } else {\r\n    num = Math.floor(num * multiple);\r\n  }\r\n  while (num % limit !== 0) {\r\n    if (type === 'upper') {\r\n      if (num == num + 1) { //修复数据值过大num++无效的bug by 向日葵 @xrk_jy\r\n        break;\r\n      }\r\n      num++;\r\n    } else {\r\n      num--;\r\n    }\r\n  }\r\n  return num / multiple;\r\n}\r\n\r\nfunction calCandleMA(dayArr, nameArr, colorArr, kdata) {\r\n  let seriesTemp = [];\r\n  for (let k = 0; k < dayArr.length; k++) {\r\n    let seriesItem = {\r\n      data: [],\r\n      name: nameArr[k],\r\n      color: colorArr[k]\r\n    };\r\n    for (let i = 0, len = kdata.length; i < len; i++) {\r\n      if (i < dayArr[k]) {\r\n        seriesItem.data.push(null);\r\n        continue;\r\n      }\r\n      let sum = 0;\r\n      for (let j = 0; j < dayArr[k]; j++) {\r\n        sum += kdata[i - j][1];\r\n      }\r\n      seriesItem.data.push(+(sum / dayArr[k]).toFixed(3));\r\n    }\r\n    seriesTemp.push(seriesItem);\r\n  }\r\n  return seriesTemp;\r\n}\r\n\r\nfunction calValidDistance(self, distance, chartData, config, opts) {\r\n  var dataChartAreaWidth = opts.width - opts.area[1] - opts.area[3];\r\n  var dataChartWidth = chartData.eachSpacing * (opts.chartData.xAxisData.xAxisPoints.length - 1);\r\n  if(opts.type == 'mount' && opts.extra && opts.extra.mount && opts.extra.mount.widthRatio && opts.extra.mount.widthRatio > 1){\r\n    if(opts.extra.mount.widthRatio>2) opts.extra.mount.widthRatio = 2\r\n    dataChartWidth += (opts.extra.mount.widthRatio - 1)*chartData.eachSpacing;\r\n  }\r\n  var validDistance = distance;\r\n  if (distance >= 0) {\r\n    validDistance = 0;\r\n    self.uevent.trigger('scrollLeft');\r\n    self.scrollOption.position = 'left'\r\n    opts.xAxis.scrollPosition = 'left';\r\n  } else if (Math.abs(distance) >= dataChartWidth - dataChartAreaWidth) {\r\n    validDistance = dataChartAreaWidth - dataChartWidth;\r\n    self.uevent.trigger('scrollRight');\r\n    self.scrollOption.position = 'right'\r\n    opts.xAxis.scrollPosition = 'right';\r\n  } else {\r\n    self.scrollOption.position = distance\r\n    opts.xAxis.scrollPosition = distance;\r\n  }\r\n  return validDistance;\r\n}\r\n\r\nfunction isInAngleRange(angle, startAngle, endAngle) {\r\n  function adjust(angle) {\r\n    while (angle < 0) {\r\n      angle += 2 * Math.PI;\r\n    }\r\n    while (angle > 2 * Math.PI) {\r\n      angle -= 2 * Math.PI;\r\n    }\r\n    return angle;\r\n  }\r\n  angle = adjust(angle);\r\n  startAngle = adjust(startAngle);\r\n  endAngle = adjust(endAngle);\r\n  if (startAngle > endAngle) {\r\n    endAngle += 2 * Math.PI;\r\n    if (angle < startAngle) {\r\n      angle += 2 * Math.PI;\r\n    }\r\n  }\r\n  return angle >= startAngle && angle <= endAngle;\r\n}\r\n\r\nfunction createCurveControlPoints(points, i) {\r\n  function isNotMiddlePoint(points, i) {\r\n    if (points[i - 1] && points[i + 1]) {\r\n      return points[i].y >= Math.max(points[i - 1].y, points[i + 1].y) || points[i].y <= Math.min(points[i - 1].y,\r\n        points[i + 1].y);\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  function isNotMiddlePointX(points, i) {\r\n    if (points[i - 1] && points[i + 1]) {\r\n      return points[i].x >= Math.max(points[i - 1].x, points[i + 1].x) || points[i].x <= Math.min(points[i - 1].x,\r\n        points[i + 1].x);\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  var a = 0.2;\r\n  var b = 0.2;\r\n  var pAx = null;\r\n  var pAy = null;\r\n  var pBx = null;\r\n  var pBy = null;\r\n  if (i < 1) {\r\n    pAx = points[0].x + (points[1].x - points[0].x) * a;\r\n    pAy = points[0].y + (points[1].y - points[0].y) * a;\r\n  } else {\r\n    pAx = points[i].x + (points[i + 1].x - points[i - 1].x) * a;\r\n    pAy = points[i].y + (points[i + 1].y - points[i - 1].y) * a;\r\n  }\r\n\r\n  if (i > points.length - 3) {\r\n    var last = points.length - 1;\r\n    pBx = points[last].x - (points[last].x - points[last - 1].x) * b;\r\n    pBy = points[last].y - (points[last].y - points[last - 1].y) * b;\r\n  } else {\r\n    pBx = points[i + 1].x - (points[i + 2].x - points[i].x) * b;\r\n    pBy = points[i + 1].y - (points[i + 2].y - points[i].y) * b;\r\n  }\r\n  if (isNotMiddlePoint(points, i + 1)) {\r\n    pBy = points[i + 1].y;\r\n  }\r\n  if (isNotMiddlePoint(points, i)) {\r\n    pAy = points[i].y;\r\n  }\r\n  if (isNotMiddlePointX(points, i + 1)) {\r\n    pBx = points[i + 1].x;\r\n  }\r\n  if (isNotMiddlePointX(points, i)) {\r\n    pAx = points[i].x;\r\n  }\r\n  if (pAy >= Math.max(points[i].y, points[i + 1].y) || pAy <= Math.min(points[i].y, points[i + 1].y)) {\r\n    pAy = points[i].y;\r\n  }\r\n  if (pBy >= Math.max(points[i].y, points[i + 1].y) || pBy <= Math.min(points[i].y, points[i + 1].y)) {\r\n    pBy = points[i + 1].y;\r\n  }\r\n  if (pAx >= Math.max(points[i].x, points[i + 1].x) || pAx <= Math.min(points[i].x, points[i + 1].x)) {\r\n    pAx = points[i].x;\r\n  }\r\n  if (pBx >= Math.max(points[i].x, points[i + 1].x) || pBx <= Math.min(points[i].x, points[i + 1].x)) {\r\n    pBx = points[i + 1].x;\r\n  }\r\n  return {\r\n    ctrA: {\r\n      x: pAx,\r\n      y: pAy\r\n    },\r\n    ctrB: {\r\n      x: pBx,\r\n      y: pBy\r\n    }\r\n  };\r\n}\r\n\r\n\r\nfunction convertCoordinateOrigin(x, y, center) {\r\n  return {\r\n    x: center.x + x,\r\n    y: center.y - y\r\n  };\r\n}\r\n\r\nfunction avoidCollision(obj, target) {\r\n  if (target) {\r\n    // is collision test\r\n    while (util.isCollision(obj, target)) {\r\n      if (obj.start.x > 0) {\r\n        obj.start.y--;\r\n      } else if (obj.start.x < 0) {\r\n        obj.start.y++;\r\n      } else {\r\n        if (obj.start.y > 0) {\r\n          obj.start.y++;\r\n        } else {\r\n          obj.start.y--;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return obj;\r\n}\r\n\r\nfunction fixPieSeries(series, opts, config){\r\n  let pieSeriesArr = [];\r\n  if(series.length>0 && series[0].data.constructor.toString().indexOf('Array') > -1){\r\n    opts._pieSeries_ = series;\r\n    let oldseries = series[0].data;\r\n    for (var i = 0; i < oldseries.length; i++) {\r\n      oldseries[i].formatter = series[0].formatter;\r\n      oldseries[i].data = oldseries[i].value;\r\n      pieSeriesArr.push(oldseries[i]);\r\n    }\r\n    opts.series = pieSeriesArr;\r\n  }else{\r\n    pieSeriesArr = series;\r\n  }\r\n  return pieSeriesArr;\r\n}\r\n\r\nfunction fillSeries(series, opts, config) {\r\n  var index = 0;\r\n  for (var i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    if (!item.color) {\r\n      item.color = config.color[index];\r\n      index = (index + 1) % config.color.length;\r\n    }\r\n    if (!item.linearIndex) {\r\n      item.linearIndex = i;\r\n    }\r\n    if (!item.index) {\r\n      item.index = 0;\r\n    }\r\n    if (!item.type) {\r\n      item.type = opts.type;\r\n    }\r\n    if (typeof item.show == \"undefined\") {\r\n      item.show = true;\r\n    }\r\n    if (!item.type) {\r\n      item.type = opts.type;\r\n    }\r\n    if (!item.pointShape) {\r\n      item.pointShape = \"circle\";\r\n    }\r\n    if (!item.legendShape) {\r\n      switch (item.type) {\r\n        case 'line':\r\n          item.legendShape = \"line\";\r\n          break;\r\n        case 'column':\r\n        case 'bar':\r\n          item.legendShape = \"rect\";\r\n          break;\r\n        case 'area':\r\n        case 'mount':\r\n          item.legendShape = \"triangle\";\r\n          break;\r\n        default:\r\n          item.legendShape = \"circle\";\r\n      }\r\n    }\r\n  }\r\n  return series;\r\n}\r\n\r\nfunction fillCustomColor(linearType, customColor, series, config) {\r\n  var newcolor = customColor || [];\r\n  if (linearType == 'custom' && newcolor.length == 0 ) {\r\n    newcolor = config.linearColor;\r\n  }\r\n  if (linearType == 'custom' && newcolor.length < series.length) {\r\n    let chazhi = series.length - newcolor.length;\r\n    for (var i = 0; i < chazhi; i++) {\r\n      newcolor.push(config.linearColor[(i + 1) % config.linearColor.length]);\r\n    }\r\n  }\r\n  return newcolor;\r\n}\r\n\r\nfunction getDataRange(minData, maxData) {\r\n  var limit = 0;\r\n  var range = maxData - minData;\r\n  if (range >= 10000) {\r\n    limit = 1000;\r\n  } else if (range >= 1000) {\r\n    limit = 100;\r\n  } else if (range >= 100) {\r\n    limit = 10;\r\n  } else if (range >= 10) {\r\n    limit = 5;\r\n  } else if (range >= 1) {\r\n    limit = 1;\r\n  } else if (range >= 0.1) {\r\n    limit = 0.1;\r\n  } else if (range >= 0.01) {\r\n    limit = 0.01;\r\n  } else if (range >= 0.001) {\r\n    limit = 0.001;\r\n  } else if (range >= 0.0001) {\r\n    limit = 0.0001;\r\n  } else if (range >= 0.00001) {\r\n    limit = 0.00001;\r\n  } else {\r\n    limit = 0.000001;\r\n  }\r\n  return {\r\n    minRange: findRange(minData, 'lower', limit),\r\n    maxRange: findRange(maxData, 'upper', limit)\r\n  };\r\n}\r\n\r\nfunction measureText(text, fontSize, context) {\r\n  var width = 0;\r\n  text = String(text);\r\n  // #ifdef MP-ALIPAY || MP-BAIDU || APP-NVUE\r\n  context = false;\r\n  // #endif\r\n  if (context !== false && context !== undefined && context.setFontSize && context.measureText) {\r\n    context.setFontSize(fontSize);\r\n    return context.measureText(text).width;\r\n  } else {\r\n    var text = text.split('');\r\n    for (let i = 0; i < text.length; i++) {\r\n      let item = text[i];\r\n      if (/[a-zA-Z]/.test(item)) {\r\n        width += 7;\r\n      } else if (/[0-9]/.test(item)) {\r\n        width += 5.5;\r\n      } else if (/\\./.test(item)) {\r\n        width += 2.7;\r\n      } else if (/-/.test(item)) {\r\n        width += 3.25;\r\n      } else if (/:/.test(item)) {\r\n        width += 2.5;\r\n      } else if (/[\\u4e00-\\u9fa5]/.test(item)) {\r\n        width += 10;\r\n      } else if (/\\(|\\)/.test(item)) {\r\n        width += 3.73;\r\n      } else if (/\\s/.test(item)) {\r\n        width += 2.5;\r\n      } else if (/%/.test(item)) {\r\n        width += 8;\r\n      } else {\r\n        width += 10;\r\n      }\r\n    }\r\n    return width * fontSize / 10;\r\n  }\r\n}\r\n\r\nfunction dataCombine(series) {\r\n  return series.reduce(function(a, b) {\r\n    return (a.data ? a.data : a).concat(b.data);\r\n  }, []);\r\n}\r\n\r\nfunction dataCombineStack(series, len) {\r\n  var sum = new Array(len);\r\n  for (var j = 0; j < sum.length; j++) {\r\n    sum[j] = 0;\r\n  }\r\n  for (var i = 0; i < series.length; i++) {\r\n    for (var j = 0; j < sum.length; j++) {\r\n      sum[j] += series[i].data[j];\r\n    }\r\n  }\r\n  return series.reduce(function(a, b) {\r\n    return (a.data ? a.data : a).concat(b.data).concat(sum);\r\n  }, []);\r\n}\r\n\r\nfunction getTouches(touches, opts, e) {\r\n  let x, y;\r\n  if (touches.clientX) {\r\n    if (opts.rotate) {\r\n      y = opts.height - touches.clientX * opts.pix;\r\n      x = (touches.pageY - e.currentTarget.offsetTop - (opts.height / opts.pix / 2) * (opts.pix - 1)) * opts.pix;\r\n    } else {\r\n      x = touches.clientX * opts.pix;\r\n      y = (touches.pageY - e.currentTarget.offsetTop - (opts.height / opts.pix / 2) * (opts.pix - 1)) * opts.pix;\r\n    }\r\n  } else {\r\n    if (opts.rotate) {\r\n      y = opts.height - touches.x * opts.pix;\r\n      x = touches.y * opts.pix;\r\n    } else {\r\n      x = touches.x * opts.pix;\r\n      y = touches.y * opts.pix;\r\n    }\r\n  }\r\n  return {\r\n    x: x,\r\n    y: y\r\n  }\r\n}\r\n\r\nfunction getSeriesDataItem(series, index, group) {\r\n  var data = [];\r\n  var newSeries = [];\r\n  var indexIsArr = index.constructor.toString().indexOf('Array') > -1;\r\n  if(indexIsArr){\r\n    let tempSeries = filterSeries(series);\r\n    for (var i = 0; i < group.length; i++) {\r\n      newSeries.push(tempSeries[group[i]]);\r\n    }\r\n  }else{\r\n    newSeries = series;\r\n  };\r\n  for (let i = 0; i < newSeries.length; i++) {\r\n    let item = newSeries[i];\r\n    let tmpindex = -1;\r\n    if(indexIsArr){\r\n      tmpindex = index[i];\r\n    }else{\r\n      tmpindex = index;\r\n    }\r\n    if (item.data[tmpindex] !== null && typeof item.data[tmpindex] !== 'undefined' && item.show) {\r\n      let seriesItem = {};\r\n      seriesItem.color = item.color;\r\n      seriesItem.type = item.type;\r\n      seriesItem.style = item.style;\r\n      seriesItem.pointShape = item.pointShape;\r\n      seriesItem.disableLegend = item.disableLegend;\r\n      seriesItem.legendShape = item.legendShape;\r\n      seriesItem.name = item.name;\r\n      seriesItem.show = item.show;\r\n      seriesItem.data = item.formatter ? item.formatter(item.data[tmpindex]) : item.data[tmpindex];\r\n      data.push(seriesItem);\r\n    }\r\n  }\r\n  return data;\r\n}\r\n\r\nfunction getMaxTextListLength(list, fontSize, context) {\r\n  var lengthList = list.map(function(item) {\r\n    return measureText(item, fontSize, context);\r\n  });\r\n  return Math.max.apply(null, lengthList);\r\n}\r\n\r\nfunction getRadarCoordinateSeries(length) {\r\n  var eachAngle = 2 * Math.PI / length;\r\n  var CoordinateSeries = [];\r\n  for (var i = 0; i < length; i++) {\r\n    CoordinateSeries.push(eachAngle * i);\r\n  }\r\n  return CoordinateSeries.map(function(item) {\r\n    return -1 * item + Math.PI / 2;\r\n  });\r\n}\r\n\r\nfunction getToolTipData(seriesData, opts, index, group, categories) {\r\n  var option = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\r\n  var calPoints = opts.chartData.calPoints?opts.chartData.calPoints:[];\r\n  let points = {};\r\n  if(group.length > 0){\r\n    let filterPoints = [];\r\n    for (let i = 0; i < group.length; i++) {\r\n      filterPoints.push(calPoints[group[i]])\r\n    }\r\n    points = filterPoints[0][index[0]];\r\n  }else{\r\n    for (let i = 0; i < calPoints.length; i++) {\r\n      if(calPoints[i][index]){\r\n        points = calPoints[i][index];\r\n        break;\r\n      }\r\n    }\r\n  };\r\n  var textList = seriesData.map(function(item) {\r\n    let titleText = null;\r\n    if (opts.categories && opts.categories.length>0) {\r\n      titleText = categories[index];\r\n    };\r\n    return {\r\n      text: option.formatter ? option.formatter(item, titleText, index, opts) : item.name + ': ' + item.data,\r\n      color: item.color,\r\n      legendShape: opts.extra.tooltip.legendShape == 'auto'? item.legendShape : opts.extra.tooltip.legendShape\r\n    };\r\n  });\r\n  var offset = {\r\n    x: Math.round(points.x),\r\n    y: Math.round(points.y)\r\n  };\r\n  return {\r\n    textList: textList,\r\n    offset: offset\r\n  };\r\n}\r\n\r\nfunction getMixToolTipData(seriesData, opts, index, categories) {\r\n  var option = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\r\n  var points = opts.chartData.xAxisPoints[index] + opts.chartData.eachSpacing / 2;\r\n  var textList = seriesData.map(function(item) {\r\n    return {\r\n      text: option.formatter ? option.formatter(item, categories[index], index, opts) : item.name + ': ' + item.data,\r\n      color: item.color,\r\n      disableLegend: item.disableLegend ? true : false,\r\n      legendShape: opts.extra.tooltip.legendShape == 'auto'? item.legendShape : opts.extra.tooltip.legendShape\r\n    };\r\n  });\r\n  textList = textList.filter(function(item) {\r\n    if (item.disableLegend !== true) {\r\n      return item;\r\n    }\r\n  });\r\n  var offset = {\r\n    x: Math.round(points),\r\n    y: 0\r\n  };\r\n  return {\r\n    textList: textList,\r\n    offset: offset\r\n  };\r\n}\r\n\r\nfunction getCandleToolTipData(series, seriesData, opts, index, categories, extra) {\r\n  var option = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : {};\r\n  var calPoints = opts.chartData.calPoints;\r\n  let upColor = extra.color.upFill;\r\n  let downColor = extra.color.downFill;\r\n  //颜色顺序为开盘，收盘，最低，最高\r\n  let color = [upColor, upColor, downColor, upColor];\r\n  var textList = [];\r\n  seriesData.map(function(item) {\r\n    if (index == 0) {\r\n      if (item.data[1] - item.data[0] < 0) {\r\n        color[1] = downColor;\r\n      } else {\r\n        color[1] = upColor;\r\n      }\r\n    } else {\r\n      if (item.data[0] < series[index - 1][1]) {\r\n        color[0] = downColor;\r\n      }\r\n      if (item.data[1] < item.data[0]) {\r\n        color[1] = downColor;\r\n      }\r\n      if (item.data[2] > series[index - 1][1]) {\r\n        color[2] = upColor;\r\n      }\r\n      if (item.data[3] < series[index - 1][1]) {\r\n        color[3] = downColor;\r\n      }\r\n    }\r\n    let text1 = {\r\n      text: '开盘：' + item.data[0],\r\n      color: color[0],\r\n      legendShape: opts.extra.tooltip.legendShape == 'auto'? item.legendShape : opts.extra.tooltip.legendShape\r\n    };\r\n    let text2 = {\r\n      text: '收盘：' + item.data[1],\r\n      color: color[1],\r\n      legendShape: opts.extra.tooltip.legendShape == 'auto'? item.legendShape : opts.extra.tooltip.legendShape\r\n    };\r\n    let text3 = {\r\n      text: '最低：' + item.data[2],\r\n      color: color[2],\r\n      legendShape: opts.extra.tooltip.legendShape == 'auto'? item.legendShape : opts.extra.tooltip.legendShape\r\n    };\r\n    let text4 = {\r\n      text: '最高：' + item.data[3],\r\n      color: color[3],\r\n      legendShape: opts.extra.tooltip.legendShape == 'auto'? item.legendShape : opts.extra.tooltip.legendShape\r\n    };\r\n    textList.push(text1, text2, text3, text4);\r\n  });\r\n  var validCalPoints = [];\r\n  var offset = {\r\n    x: 0,\r\n    y: 0\r\n  };\r\n  for (let i = 0; i < calPoints.length; i++) {\r\n    let points = calPoints[i];\r\n    if (typeof points[index] !== 'undefined' && points[index] !== null) {\r\n      validCalPoints.push(points[index]);\r\n    }\r\n  }\r\n  offset.x = Math.round(validCalPoints[0][0].x);\r\n  return {\r\n    textList: textList,\r\n    offset: offset\r\n  };\r\n}\r\n\r\nfunction filterSeries(series) {\r\n  let tempSeries = [];\r\n  for (let i = 0; i < series.length; i++) {\r\n    if (series[i].show == true) {\r\n      tempSeries.push(series[i])\r\n    }\r\n  }\r\n  return tempSeries;\r\n}\r\n\r\nfunction findCurrentIndex(currentPoints, calPoints, opts, config) {\r\n  var offset = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\r\n  var current={ index:-1, group:[] };\r\n  var spacing = opts.chartData.eachSpacing / 2;\r\n  let xAxisPoints = [];\r\n  if (calPoints && calPoints.length > 0) {\r\n    if (!opts.categories) {\r\n      spacing = 0;\r\n    }else{\r\n      for (let i = 1; i < opts.chartData.xAxisPoints.length; i++) {\r\n        xAxisPoints.push(opts.chartData.xAxisPoints[i] - spacing);\r\n      }\r\n      if ((opts.type == 'line' || opts.type == 'area') && opts.xAxis.boundaryGap == 'justify') {\r\n        xAxisPoints = opts.chartData.xAxisPoints;\r\n      }\r\n    }\r\n    if (isInExactChartArea(currentPoints, opts, config)) {\r\n      if (!opts.categories) {\r\n        let timePoints = Array(calPoints.length);\r\n        for (let i = 0; i < calPoints.length; i++) {\r\n          timePoints[i] = Array(calPoints[i].length)\r\n          for (let j = 0; j < calPoints[i].length; j++) {\r\n            timePoints[i][j] = (Math.abs(calPoints[i][j].x - currentPoints.x));\r\n          }\r\n        };\r\n        let pointValue =  Array(timePoints.length);\r\n        let pointIndex =  Array(timePoints.length);\r\n        for (let i = 0; i < timePoints.length; i++) {\r\n          pointValue[i] = Math.min.apply(null, timePoints[i]);\r\n          pointIndex[i] = timePoints[i].indexOf(pointValue[i]);\r\n        }\r\n        let minValue = Math.min.apply(null, pointValue);\r\n        current.index = [];\r\n        for (let i = 0; i < pointValue.length; i++) {\r\n          if(pointValue[i] == minValue){\r\n            current.group.push(i);\r\n            current.index.push(pointIndex[i]);\r\n          }\r\n        };\r\n      }else{\r\n        xAxisPoints.forEach(function(item, index) {\r\n          if (currentPoints.x + offset + spacing > item) {\r\n            current.index = index;\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n  return current;\r\n}\r\n\r\nfunction findBarChartCurrentIndex(currentPoints, calPoints, opts, config) {\r\n  var offset = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\r\n  var current={ index:-1, group:[] };\r\n  var spacing = opts.chartData.eachSpacing / 2;\r\n  let yAxisPoints = opts.chartData.yAxisPoints;\r\n  if (calPoints && calPoints.length > 0) {\r\n    if (isInExactChartArea(currentPoints, opts, config)) {\r\n      yAxisPoints.forEach(function(item, index) {\r\n        if (currentPoints.y + offset + spacing > item) {\r\n          current.index = index;\r\n        }\r\n      });\r\n    }\r\n  }\r\n  return current;\r\n}\r\n\r\nfunction findLegendIndex(currentPoints, legendData, opts) {\r\n  let currentIndex = -1;\r\n  let gap = 0;\r\n  if (isInExactLegendArea(currentPoints, legendData.area)) {\r\n    let points = legendData.points;\r\n    let index = -1;\r\n    for (let i = 0, len = points.length; i < len; i++) {\r\n      let item = points[i];\r\n      for (let j = 0; j < item.length; j++) {\r\n        index += 1;\r\n        let area = item[j]['area'];\r\n        if (area && currentPoints.x > area[0] - gap && currentPoints.x < area[2] + gap && currentPoints.y > area[1] - gap && currentPoints.y < area[3] + gap) {\r\n          currentIndex = index;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return currentIndex;\r\n  }\r\n  return currentIndex;\r\n}\r\n\r\nfunction isInExactLegendArea(currentPoints, area) {\r\n  return currentPoints.x > area.start.x && currentPoints.x < area.end.x && currentPoints.y > area.start.y && currentPoints.y < area.end.y;\r\n}\r\n\r\nfunction isInExactChartArea(currentPoints, opts, config) {\r\n  return currentPoints.x <= opts.width - opts.area[1] + 10 && currentPoints.x >= opts.area[3] - 10 && currentPoints.y >= opts.area[0] && currentPoints.y <= opts.height - opts.area[2];\r\n}\r\n\r\nfunction findRadarChartCurrentIndex(currentPoints, radarData, count) {\r\n  var eachAngleArea = 2 * Math.PI / count;\r\n  var currentIndex = -1;\r\n  if (isInExactPieChartArea(currentPoints, radarData.center, radarData.radius)) {\r\n    var fixAngle = function fixAngle(angle) {\r\n      if (angle < 0) {\r\n        angle += 2 * Math.PI;\r\n      }\r\n      if (angle > 2 * Math.PI) {\r\n        angle -= 2 * Math.PI;\r\n      }\r\n      return angle;\r\n    };\r\n    var angle = Math.atan2(radarData.center.y - currentPoints.y, currentPoints.x - radarData.center.x);\r\n    angle = -1 * angle;\r\n    if (angle < 0) {\r\n      angle += 2 * Math.PI;\r\n    }\r\n    var angleList = radarData.angleList.map(function(item) {\r\n      item = fixAngle(-1 * item);\r\n      return item;\r\n    });\r\n    angleList.forEach(function(item, index) {\r\n      var rangeStart = fixAngle(item - eachAngleArea / 2);\r\n      var rangeEnd = fixAngle(item + eachAngleArea / 2);\r\n      if (rangeEnd < rangeStart) {\r\n        rangeEnd += 2 * Math.PI;\r\n      }\r\n      if (angle >= rangeStart && angle <= rangeEnd || angle + 2 * Math.PI >= rangeStart && angle + 2 * Math.PI <= rangeEnd) {\r\n        currentIndex = index;\r\n      }\r\n    });\r\n  }\r\n  return currentIndex;\r\n}\r\n\r\nfunction findFunnelChartCurrentIndex(currentPoints, funnelData) {\r\n  var currentIndex = -1;\r\n  for (var i = 0, len = funnelData.series.length; i < len; i++) {\r\n    var item = funnelData.series[i];\r\n    if (currentPoints.x > item.funnelArea[0] && currentPoints.x < item.funnelArea[2] && currentPoints.y > item.funnelArea[1] && currentPoints.y < item.funnelArea[3]) {\r\n      currentIndex = i;\r\n      break;\r\n    }\r\n  }\r\n  return currentIndex;\r\n}\r\n\r\nfunction findWordChartCurrentIndex(currentPoints, wordData) {\r\n  var currentIndex = -1;\r\n  for (var i = 0, len = wordData.length; i < len; i++) {\r\n    var item = wordData[i];\r\n    if (currentPoints.x > item.area[0] && currentPoints.x < item.area[2] && currentPoints.y > item.area[1] && currentPoints.y < item.area[3]) {\r\n      currentIndex = i;\r\n      break;\r\n    }\r\n  }\r\n  return currentIndex;\r\n}\r\n\r\nfunction findMapChartCurrentIndex(currentPoints, opts) {\r\n  var currentIndex = -1;\r\n  var cData = opts.chartData.mapData;\r\n  var data = opts.series;\r\n  var tmp = pointToCoordinate(currentPoints.y, currentPoints.x, cData.bounds, cData.scale, cData.xoffset, cData.yoffset);\r\n  var poi = [tmp.x, tmp.y];\r\n  for (var i = 0, len = data.length; i < len; i++) {\r\n    var item = data[i].geometry.coordinates;\r\n    if (isPoiWithinPoly(poi, item, opts.chartData.mapData.mercator)) {\r\n      currentIndex = i;\r\n      break;\r\n    }\r\n  }\r\n  return currentIndex;\r\n}\r\n\r\nfunction findRoseChartCurrentIndex(currentPoints, pieData, opts) {\r\n  var currentIndex = -1;\r\n  var series = getRoseDataPoints(opts._series_, opts.extra.rose.type, pieData.radius, pieData.radius);\r\n  if (pieData && pieData.center && isInExactPieChartArea(currentPoints, pieData.center, pieData.radius)) {\r\n    var angle = Math.atan2(pieData.center.y - currentPoints.y, currentPoints.x - pieData.center.x);\r\n    angle = -angle;\r\n    if(opts.extra.rose && opts.extra.rose.offsetAngle){\r\n      angle = angle - opts.extra.rose.offsetAngle * Math.PI / 180;\r\n    }\r\n    for (var i = 0, len = series.length; i < len; i++) {\r\n      if (isInAngleRange(angle, series[i]._start_, series[i]._start_ + series[i]._rose_proportion_ * 2 * Math.PI)) {\r\n        currentIndex = i;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return currentIndex;\r\n}\r\n\r\nfunction findPieChartCurrentIndex(currentPoints, pieData, opts) {\r\n  var currentIndex = -1;\r\n  var series = getPieDataPoints(pieData.series);\r\n  if (pieData && pieData.center && isInExactPieChartArea(currentPoints, pieData.center, pieData.radius)) {\r\n    var angle = Math.atan2(pieData.center.y - currentPoints.y, currentPoints.x - pieData.center.x);\r\n    angle = -angle;\r\n    if(opts.extra.pie && opts.extra.pie.offsetAngle){\r\n      angle = angle - opts.extra.pie.offsetAngle * Math.PI / 180;\r\n    }\r\n    if(opts.extra.ring && opts.extra.ring.offsetAngle){\r\n      angle = angle - opts.extra.ring.offsetAngle * Math.PI / 180;\r\n    }\r\n    for (var i = 0, len = series.length; i < len; i++) {\r\n      if (isInAngleRange(angle, series[i]._start_, series[i]._start_ + series[i]._proportion_ * 2 * Math.PI)) {\r\n        currentIndex = i;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return currentIndex;\r\n}\r\n\r\nfunction isInExactPieChartArea(currentPoints, center, radius) {\r\n  return Math.pow(currentPoints.x - center.x, 2) + Math.pow(currentPoints.y - center.y, 2) <= Math.pow(radius, 2);\r\n}\r\n\r\n\r\nfunction splitPoints(points,eachSeries) {\r\n  var newPoints = [];\r\n  var items = [];\r\n  points.forEach(function(item, index) {\r\n    if(eachSeries.connectNulls){\r\n      if (item !== null) {\r\n        items.push(item);\r\n      }\r\n    }else{\r\n      if (item !== null) {\r\n        items.push(item);\r\n      } else {\r\n        if (items.length) {\r\n          newPoints.push(items);\r\n        }\r\n        items = [];\r\n      }\r\n    }\r\n    \r\n  });\r\n  if (items.length) {\r\n    newPoints.push(items);\r\n  }\r\n  return newPoints;\r\n}\r\n\r\n\r\nfunction calLegendData(series, opts, config, chartData, context) {\r\n  let legendData = {\r\n    area: {\r\n      start: {\r\n        x: 0,\r\n        y: 0\r\n      },\r\n      end: {\r\n        x: 0,\r\n        y: 0\r\n      },\r\n      width: 0,\r\n      height: 0,\r\n      wholeWidth: 0,\r\n      wholeHeight: 0\r\n    },\r\n    points: [],\r\n    widthArr: [],\r\n    heightArr: []\r\n  };\r\n  if (opts.legend.show === false) {\r\n    chartData.legendData = legendData;\r\n    return legendData;\r\n  }\r\n  let padding = opts.legend.padding * opts.pix;\r\n  let margin = opts.legend.margin * opts.pix;\r\n  let fontSize = opts.legend.fontSize ? opts.legend.fontSize * opts.pix : config.fontSize;\r\n  let shapeWidth = 15 * opts.pix;\r\n  let shapeRight = 5 * opts.pix;\r\n  let lineHeight = Math.max(opts.legend.lineHeight * opts.pix, fontSize);\r\n  if (opts.legend.position == 'top' || opts.legend.position == 'bottom') {\r\n    let legendList = [];\r\n    let widthCount = 0;\r\n    let widthCountArr = [];\r\n    let currentRow = [];\r\n    for (let i = 0; i < series.length; i++) {\r\n      let item = series[i];\r\n      const legendText = item.legendText ? item.legendText : item.name;\r\n      let itemWidth = shapeWidth + shapeRight + measureText(legendText || 'undefined', fontSize, context) + opts.legend.itemGap * opts.pix;\r\n      if (widthCount + itemWidth > opts.width - opts.area[1] - opts.area[3]) {\r\n        legendList.push(currentRow);\r\n        widthCountArr.push(widthCount - opts.legend.itemGap * opts.pix);\r\n        widthCount = itemWidth;\r\n        currentRow = [item];\r\n      } else {\r\n        widthCount += itemWidth;\r\n        currentRow.push(item);\r\n      }\r\n    }\r\n    if (currentRow.length) {\r\n      legendList.push(currentRow);\r\n      widthCountArr.push(widthCount - opts.legend.itemGap * opts.pix);\r\n      legendData.widthArr = widthCountArr;\r\n      let legendWidth = Math.max.apply(null, widthCountArr);\r\n      switch (opts.legend.float) {\r\n        case 'left':\r\n          legendData.area.start.x = opts.area[3];\r\n          legendData.area.end.x = opts.area[3] + legendWidth + 2 * padding;\r\n          break;\r\n        case 'right':\r\n          legendData.area.start.x = opts.width - opts.area[1] - legendWidth - 2 * padding;\r\n          legendData.area.end.x = opts.width - opts.area[1];\r\n          break;\r\n        default:\r\n          legendData.area.start.x = (opts.width - legendWidth) / 2 - padding;\r\n          legendData.area.end.x = (opts.width + legendWidth) / 2 + padding;\r\n      }\r\n      legendData.area.width = legendWidth + 2 * padding;\r\n      legendData.area.wholeWidth = legendWidth + 2 * padding;\r\n      legendData.area.height = legendList.length * lineHeight + 2 * padding;\r\n      legendData.area.wholeHeight = legendList.length * lineHeight + 2 * padding + 2 * margin;\r\n      legendData.points = legendList;\r\n    }\r\n  } else {\r\n    let len = series.length;\r\n    let maxHeight = opts.height - opts.area[0] - opts.area[2] - 2 * margin - 2 * padding;\r\n    let maxLength = Math.min(Math.floor(maxHeight / lineHeight), len);\r\n    legendData.area.height = maxLength * lineHeight + padding * 2;\r\n    legendData.area.wholeHeight = maxLength * lineHeight + padding * 2;\r\n    switch (opts.legend.float) {\r\n      case 'top':\r\n        legendData.area.start.y = opts.area[0] + margin;\r\n        legendData.area.end.y = opts.area[0] + margin + legendData.area.height;\r\n        break;\r\n      case 'bottom':\r\n        legendData.area.start.y = opts.height - opts.area[2] - margin - legendData.area.height;\r\n        legendData.area.end.y = opts.height - opts.area[2] - margin;\r\n        break;\r\n      default:\r\n        legendData.area.start.y = (opts.height - legendData.area.height) / 2;\r\n        legendData.area.end.y = (opts.height + legendData.area.height) / 2;\r\n    }\r\n    let lineNum = len % maxLength === 0 ? len / maxLength : Math.floor((len / maxLength) + 1);\r\n    let currentRow = [];\r\n    for (let i = 0; i < lineNum; i++) {\r\n      let temp = series.slice(i * maxLength, i * maxLength + maxLength);\r\n      currentRow.push(temp);\r\n    }\r\n    legendData.points = currentRow;\r\n    if (currentRow.length) {\r\n      for (let i = 0; i < currentRow.length; i++) {\r\n        let item = currentRow[i];\r\n        let maxWidth = 0;\r\n        for (let j = 0; j < item.length; j++) {\r\n          let itemWidth = shapeWidth + shapeRight + measureText(item[j].name || 'undefined', fontSize, context) + opts.legend.itemGap * opts.pix;\r\n          if (itemWidth > maxWidth) {\r\n            maxWidth = itemWidth;\r\n          }\r\n        }\r\n        legendData.widthArr.push(maxWidth);\r\n        legendData.heightArr.push(item.length * lineHeight + padding * 2);\r\n      }\r\n      let legendWidth = 0\r\n      for (let i = 0; i < legendData.widthArr.length; i++) {\r\n        legendWidth += legendData.widthArr[i];\r\n      }\r\n      legendData.area.width = legendWidth - opts.legend.itemGap * opts.pix + 2 * padding;\r\n      legendData.area.wholeWidth = legendData.area.width + padding;\r\n    }\r\n  }\r\n  switch (opts.legend.position) {\r\n    case 'top':\r\n      legendData.area.start.y = opts.area[0] + margin;\r\n      legendData.area.end.y = opts.area[0] + margin + legendData.area.height;\r\n      break;\r\n    case 'bottom':\r\n      legendData.area.start.y = opts.height - opts.area[2] - legendData.area.height - margin;\r\n      legendData.area.end.y = opts.height - opts.area[2] - margin;\r\n      break;\r\n    case 'left':\r\n      legendData.area.start.x = opts.area[3];\r\n      legendData.area.end.x = opts.area[3] + legendData.area.width;\r\n      break;\r\n    case 'right':\r\n      legendData.area.start.x = opts.width - opts.area[1] - legendData.area.width;\r\n      legendData.area.end.x = opts.width - opts.area[1];\r\n      break;\r\n  }\r\n  chartData.legendData = legendData;\r\n  return legendData;\r\n}\r\n\r\nfunction calCategoriesData(categories, opts, config, eachSpacing, context) {\r\n  var result = {\r\n    angle: 0,\r\n    xAxisHeight: opts.xAxis.lineHeight * opts.pix + opts.xAxis.marginTop * opts.pix\r\n  };\r\n  var fontSize = opts.xAxis.fontSize * opts.pix;\r\n  var categoriesTextLenth = categories.map(function(item,index) {\r\n    var xitem = opts.xAxis.formatter ? opts.xAxis.formatter(item,index,opts) : item;\r\n    return measureText(String(xitem), fontSize, context);\r\n  });\r\n  var maxTextLength = Math.max.apply(this, categoriesTextLenth);\r\n  if (opts.xAxis.rotateLabel == true) {\r\n    result.angle = opts.xAxis.rotateAngle * Math.PI / 180;\r\n    let tempHeight = opts.xAxis.marginTop * opts.pix * 2 +  Math.abs(maxTextLength * Math.sin(result.angle))\r\n    tempHeight = tempHeight < fontSize + opts.xAxis.marginTop * opts.pix * 2 ? tempHeight + opts.xAxis.marginTop * opts.pix * 2 : tempHeight;\r\n    result.xAxisHeight = tempHeight;\r\n  }\r\n  if (opts.enableScroll && opts.xAxis.scrollShow) {\r\n    result.xAxisHeight += 6 * opts.pix;\r\n  }\r\n  if (opts.xAxis.disabled){\r\n    result.xAxisHeight = 0;\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction getXAxisTextList(series, opts, config, stack) {\r\n  var index = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : -1;\r\n  var data;\r\n  if (stack == 'stack') {\r\n    data = dataCombineStack(series, opts.categories.length);\r\n  } else {\r\n    data = dataCombine(series);\r\n  }\r\n  var sorted = [];\r\n  // remove null from data\r\n  data = data.filter(function(item) {\r\n    //return item !== null;\r\n    if (typeof item === 'object' && item !== null) {\r\n      if (item.constructor.toString().indexOf('Array') > -1) {\r\n        return item !== null;\r\n      } else {\r\n        return item.value !== null;\r\n      }\r\n    } else {\r\n      return item !== null;\r\n    }\r\n  });\r\n  data.map(function(item) {\r\n    if (typeof item === 'object') {\r\n      if (item.constructor.toString().indexOf('Array') > -1) {\r\n        if (opts.type == 'candle') {\r\n          item.map(function(subitem) {\r\n            sorted.push(subitem);\r\n          })\r\n        } else {\r\n          sorted.push(item[0]);\r\n        }\r\n      } else {\r\n        sorted.push(item.value);\r\n      }\r\n    } else {\r\n      sorted.push(item);\r\n    }\r\n  })\r\n\r\n  var minData = 0;\r\n  var maxData = 0;\r\n  if (sorted.length > 0) {\r\n    minData = Math.min.apply(this, sorted);\r\n    maxData = Math.max.apply(this, sorted);\r\n  }\r\n  //为了兼容v1.9.0之前的项目\r\n  if (index > -1) {\r\n    if (typeof opts.xAxis.data[index].min === 'number') {\r\n      minData = Math.min(opts.xAxis.data[index].min, minData);\r\n    }\r\n    if (typeof opts.xAxis.data[index].max === 'number') {\r\n      maxData = Math.max(opts.xAxis.data[index].max, maxData);\r\n    }\r\n  } else {\r\n    if (typeof opts.xAxis.min === 'number') {\r\n      minData = Math.min(opts.xAxis.min, minData);\r\n    }\r\n    if (typeof opts.xAxis.max === 'number') {\r\n      maxData = Math.max(opts.xAxis.max, maxData);\r\n    }\r\n  }\r\n  if (minData === maxData) {\r\n    var rangeSpan = maxData || 10;\r\n    maxData += rangeSpan;\r\n  }\r\n  //var dataRange = getDataRange(minData, maxData);\r\n  var minRange = minData;\r\n  var maxRange = maxData;\r\n  var range = [];\r\n  var eachRange = (maxRange - minRange) / opts.xAxis.splitNumber;\r\n  for (var i = 0; i <= opts.xAxis.splitNumber; i++) {\r\n    range.push(minRange + eachRange * i);\r\n  }\r\n  return range;\r\n}\r\n\r\nfunction calXAxisData(series, opts, config, context) {\r\n  //堆叠图重算Y轴\r\n  var columnstyle = assign({}, {\r\n    type: \"\"\r\n  }, opts.extra.bar);\r\n  var result = {\r\n    angle: 0,\r\n    xAxisHeight: opts.xAxis.lineHeight * opts.pix + opts.xAxis.marginTop * opts.pix\r\n  };\r\n  result.ranges = getXAxisTextList(series, opts, config, columnstyle.type);\r\n  result.rangesFormat = result.ranges.map(function(item) {\r\n    //item = opts.xAxis.formatter ? opts.xAxis.formatter(item) : util.toFixed(item, 2);\r\n    item = util.toFixed(item, 2);\r\n    return item;\r\n  });\r\n  var xAxisScaleValues = result.ranges.map(function(item) {\r\n    // 如果刻度值是浮点数,则保留两位小数\r\n    item = util.toFixed(item, 2);\r\n    // 若有自定义格式则调用自定义的格式化函数\r\n    //item = opts.xAxis.formatter ? opts.xAxis.formatter(Number(item)) : item;\r\n    return item;\r\n  });\r\n  result = Object.assign(result, getXAxisPoints(xAxisScaleValues, opts, config));\r\n  // 计算X轴刻度的属性譬如每个刻度的间隔,刻度的起始点\\结束点以及总长\r\n  var eachSpacing = result.eachSpacing;\r\n  var textLength = xAxisScaleValues.map(function(item) {\r\n    return measureText(item, opts.xAxis.fontSize * opts.pix, context);\r\n  });\r\n  if (opts.xAxis.disabled === true) {\r\n    result.xAxisHeight = 0;\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction getRadarDataPoints(angleList, center, radius, series, opts) {\r\n  var process = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\r\n  var radarOption = opts.extra.radar || {};\r\n  radarOption.max = radarOption.max || 0;\r\n  var maxData = Math.max(radarOption.max, Math.max.apply(null, dataCombine(series)));\r\n  var data = [];\r\n  for (let i = 0; i < series.length; i++) {\r\n    let each = series[i];\r\n    let listItem = {};\r\n    listItem.color = each.color;\r\n    listItem.legendShape = each.legendShape;\r\n    listItem.pointShape = each.pointShape;\r\n    listItem.data = [];\r\n    each.data.forEach(function(item, index) {\r\n      let tmp = {};\r\n      tmp.angle = angleList[index];\r\n      tmp.proportion = item / maxData;\r\n      tmp.value = item;\r\n      tmp.position = convertCoordinateOrigin(radius * tmp.proportion * process * Math.cos(tmp.angle), radius * tmp.proportion * process * Math.sin(tmp.angle), center);\r\n      listItem.data.push(tmp);\r\n    });\r\n    data.push(listItem);\r\n  }\r\n  return data;\r\n}\r\n\r\nfunction getPieDataPoints(series, radius) {\r\n  var process = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\r\n  var count = 0;\r\n  var _start_ = 0;\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    item.data = item.data === null ? 0 : item.data;\r\n    count += item.data;\r\n  }\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    item.data = item.data === null ? 0 : item.data;\r\n    if (count === 0) {\r\n      item._proportion_ = 1 / series.length * process;\r\n    } else {\r\n      item._proportion_ = item.data / count * process;\r\n    }\r\n    item._radius_ = radius;\r\n  }\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    item._start_ = _start_;\r\n    _start_ += 2 * item._proportion_ * Math.PI;\r\n  }\r\n  return series;\r\n}\r\n\r\nfunction getFunnelDataPoints(series, radius, option, eachSpacing) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  for (let i = 0; i < series.length; i++) {\r\n    if(option.type == 'funnel'){\r\n      series[i].radius = series[i].data / series[0].data * radius * process;\r\n    }else{\r\n      series[i].radius =  (eachSpacing * (series.length - i)) / (eachSpacing * series.length) * radius * process;\r\n    }\r\n    series[i]._proportion_ = series[i].data / series[0].data;\r\n  }\r\n  // if(option.type !== 'pyramid'){\r\n  //   series.reverse();\r\n  // }\r\n  return series;\r\n}\r\n\r\nfunction getRoseDataPoints(series, type, minRadius, radius) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  var count = 0;\r\n  var _start_ = 0;\r\n  var dataArr = [];\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    item.data = item.data === null ? 0 : item.data;\r\n    count += item.data;\r\n    dataArr.push(item.data);\r\n  }\r\n  var minData = Math.min.apply(null, dataArr);\r\n  var maxData = Math.max.apply(null, dataArr);\r\n  var radiusLength = radius - minRadius;\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    item.data = item.data === null ? 0 : item.data;\r\n    if (count === 0) {\r\n      item._proportion_ = 1 / series.length * process;\r\n      item._rose_proportion_ = 1 / series.length * process;\r\n    } else {\r\n      item._proportion_ = item.data / count * process;\r\n      if(type == 'area'){\r\n        item._rose_proportion_ = 1 / series.length * process;\r\n      }else{\r\n        item._rose_proportion_ = item.data / count * process;\r\n      }\r\n    }\r\n    item._radius_ = minRadius + radiusLength * ((item.data - minData) / (maxData - minData)) || radius;\r\n  }\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    item._start_ = _start_;\r\n    _start_ += 2 * item._rose_proportion_ * Math.PI;\r\n  }\r\n  return series;\r\n}\r\n\r\nfunction getArcbarDataPoints(series, arcbarOption) {\r\n  var process = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\r\n  if (process == 1) {\r\n    process = 0.999999;\r\n  }\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    item.data = item.data === null ? 0 : item.data;\r\n    let totalAngle;\r\n    if (arcbarOption.type == 'circle') {\r\n      totalAngle = 2;\r\n    } else {\r\n      if(arcbarOption.direction == 'ccw'){\r\n        if (arcbarOption.startAngle < arcbarOption.endAngle) {\r\n          totalAngle = 2 + arcbarOption.startAngle - arcbarOption.endAngle;\r\n        } else {\r\n          totalAngle = arcbarOption.startAngle - arcbarOption.endAngle;\r\n        }\r\n      }else{\r\n        if (arcbarOption.endAngle < arcbarOption.startAngle) {\r\n          totalAngle = 2 + arcbarOption.endAngle - arcbarOption.startAngle;\r\n        } else {\r\n          totalAngle = arcbarOption.startAngle - arcbarOption.endAngle;\r\n        }\r\n      }\r\n    }\r\n    item._proportion_ = totalAngle * item.data * process + arcbarOption.startAngle;\r\n    if(arcbarOption.direction == 'ccw'){\r\n      item._proportion_ = arcbarOption.startAngle - totalAngle * item.data * process ;\r\n    }\r\n    if (item._proportion_ >= 2) {\r\n      item._proportion_ = item._proportion_ % 2;\r\n    }\r\n  }\r\n  return series;\r\n}\r\n\r\nfunction getGaugeArcbarDataPoints(series, arcbarOption) {\r\n  var process = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\r\n  if (process == 1) {\r\n    process = 0.999999;\r\n  }\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    item.data = item.data === null ? 0 : item.data;\r\n    let totalAngle;\r\n    if (arcbarOption.type == 'circle') {\r\n      totalAngle = 2;\r\n    } else {\r\n      if (arcbarOption.endAngle < arcbarOption.startAngle) {\r\n        totalAngle = 2 + arcbarOption.endAngle - arcbarOption.startAngle;\r\n      } else {\r\n        totalAngle = arcbarOption.startAngle - arcbarOption.endAngle;\r\n      }\r\n    }\r\n    item._proportion_ = totalAngle * item.data * process + arcbarOption.startAngle;\r\n    if (item._proportion_ >= 2) {\r\n      item._proportion_ = item._proportion_ % 2;\r\n    }\r\n  }\r\n  return series;\r\n}\r\n\r\nfunction getGaugeAxisPoints(categories, startAngle, endAngle) {\r\n  let totalAngle;\r\n  if (endAngle < startAngle) {\r\n    totalAngle = 2 + endAngle - startAngle;\r\n  } else {\r\n    totalAngle = startAngle - endAngle;\r\n  }\r\n  let tempStartAngle = startAngle;\r\n  for (let i = 0; i < categories.length; i++) {\r\n    categories[i].value = categories[i].value === null ? 0 : categories[i].value;\r\n    categories[i]._startAngle_ = tempStartAngle;\r\n    categories[i]._endAngle_ = totalAngle * categories[i].value + startAngle;\r\n    if (categories[i]._endAngle_ >= 2) {\r\n      categories[i]._endAngle_ = categories[i]._endAngle_ % 2;\r\n    }\r\n    tempStartAngle = categories[i]._endAngle_;\r\n  }\r\n  return categories;\r\n}\r\n\r\nfunction getGaugeDataPoints(series, categories, gaugeOption) {\r\n  let process = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    item.data = item.data === null ? 0 : item.data;\r\n    if (gaugeOption.pointer.color == 'auto') {\r\n      for (let i = 0; i < categories.length; i++) {\r\n        if (item.data <= categories[i].value) {\r\n          item.color = categories[i].color;\r\n          break;\r\n        }\r\n      }\r\n    } else {\r\n      item.color = gaugeOption.pointer.color;\r\n    }\r\n    let totalAngle;\r\n    if (gaugeOption.endAngle < gaugeOption.startAngle) {\r\n      totalAngle = 2 + gaugeOption.endAngle - gaugeOption.startAngle;\r\n    } else {\r\n      totalAngle = gaugeOption.startAngle - gaugeOption.endAngle;\r\n    }\r\n    item._endAngle_ = totalAngle * item.data + gaugeOption.startAngle;\r\n    item._oldAngle_ = gaugeOption.oldAngle;\r\n    if (gaugeOption.oldAngle < gaugeOption.endAngle) {\r\n      item._oldAngle_ += 2;\r\n    }\r\n    if (item.data >= gaugeOption.oldData) {\r\n      item._proportion_ = (item._endAngle_ - item._oldAngle_) * process + gaugeOption.oldAngle;\r\n    } else {\r\n      item._proportion_ = item._oldAngle_ - (item._oldAngle_ - item._endAngle_) * process;\r\n    }\r\n    if (item._proportion_ >= 2) {\r\n      item._proportion_ = item._proportion_ % 2;\r\n    }\r\n  }\r\n  return series;\r\n}\r\n\r\nfunction getPieTextMaxLength(series, config, context, opts) {\r\n  series = getPieDataPoints(series);\r\n  let maxLength = 0;\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    let text = item.formatter ? item.formatter(+item._proportion_.toFixed(2)) : util.toFixed(item._proportion_ * 100) + '%';\r\n    maxLength = Math.max(maxLength, measureText(text, item.textSize * opts.pix || config.fontSize, context));\r\n  }\r\n  return maxLength;\r\n}\r\n\r\nfunction fixColumeData(points, eachSpacing, columnLen, index, config, opts) {\r\n  return points.map(function(item) {\r\n    if (item === null) {\r\n      return null;\r\n    }\r\n    var seriesGap = 0;\r\n    var categoryGap = 0;\r\n    if (opts.type == 'mix') {\r\n      seriesGap = opts.extra.mix.column.seriesGap * opts.pix || 0;\r\n      categoryGap = opts.extra.mix.column.categoryGap * opts.pix || 0;\r\n    } else {\r\n      seriesGap = opts.extra.column.seriesGap * opts.pix || 0;\r\n      categoryGap = opts.extra.column.categoryGap * opts.pix || 0;\r\n    }\r\n    seriesGap =  Math.min(seriesGap, eachSpacing / columnLen)\r\n    categoryGap =  Math.min(categoryGap, eachSpacing / columnLen)\r\n    item.width = Math.ceil((eachSpacing - 2 * categoryGap - seriesGap * (columnLen - 1)) / columnLen);\r\n    if (opts.extra.mix && opts.extra.mix.column.width && +opts.extra.mix.column.width > 0) {\r\n      item.width = Math.min(item.width, +opts.extra.mix.column.width * opts.pix);\r\n    }\r\n    if (opts.extra.column && opts.extra.column.width && +opts.extra.column.width > 0) {\r\n      item.width = Math.min(item.width, +opts.extra.column.width * opts.pix);\r\n    }\r\n    if (item.width <= 0) {\r\n      item.width = 1;\r\n    }\r\n    item.x += (index + 0.5 - columnLen / 2) * (item.width + seriesGap);\r\n    return item;\r\n  });\r\n}\r\n\r\nfunction fixBarData(points, eachSpacing, columnLen, index, config, opts) {\r\n  return points.map(function(item) {\r\n    if (item === null) {\r\n      return null;\r\n    }\r\n    var seriesGap = 0;\r\n    var categoryGap = 0;\r\n    seriesGap = opts.extra.bar.seriesGap * opts.pix || 0;\r\n    categoryGap = opts.extra.bar.categoryGap * opts.pix || 0;\r\n    seriesGap =  Math.min(seriesGap, eachSpacing / columnLen)\r\n    categoryGap =  Math.min(categoryGap, eachSpacing / columnLen)\r\n    item.width = Math.ceil((eachSpacing - 2 * categoryGap - seriesGap * (columnLen - 1)) / columnLen);\r\n    if (opts.extra.bar && opts.extra.bar.width && +opts.extra.bar.width > 0) {\r\n      item.width = Math.min(item.width, +opts.extra.bar.width * opts.pix);\r\n    }\r\n    if (item.width <= 0) {\r\n      item.width = 1;\r\n    }\r\n    item.y += (index + 0.5 - columnLen / 2) * (item.width + seriesGap);\r\n    return item;\r\n  });\r\n}\r\n\r\nfunction fixColumeMeterData(points, eachSpacing, columnLen, index, config, opts, border) {\r\n  var categoryGap = opts.extra.column.categoryGap * opts.pix || 0;\r\n  return points.map(function(item) {\r\n    if (item === null) {\r\n      return null;\r\n    }\r\n    item.width = eachSpacing - 2 * categoryGap;\r\n    if (opts.extra.column && opts.extra.column.width && +opts.extra.column.width > 0) {\r\n      item.width = Math.min(item.width, +opts.extra.column.width * opts.pix);\r\n    }\r\n    if (index > 0) {\r\n      item.width -= border;\r\n    }\r\n    return item;\r\n  });\r\n}\r\n\r\nfunction fixColumeStackData(points, eachSpacing, columnLen, index, config, opts, series) {\r\n  var categoryGap = opts.extra.column.categoryGap * opts.pix || 0;\r\n  return points.map(function(item, indexn) {\r\n    if (item === null) {\r\n      return null;\r\n    }\r\n    item.width = Math.ceil(eachSpacing - 2 * categoryGap);\r\n    if (opts.extra.column && opts.extra.column.width && +opts.extra.column.width > 0) {\r\n      item.width = Math.min(item.width, +opts.extra.column.width * opts.pix);\r\n    }\r\n    if (item.width <= 0) {\r\n      item.width = 1;\r\n    }\r\n    return item;\r\n  });\r\n}\r\n\r\nfunction fixBarStackData(points, eachSpacing, columnLen, index, config, opts, series) {\r\n  var categoryGap = opts.extra.bar.categoryGap * opts.pix || 0;\r\n  return points.map(function(item, indexn) {\r\n    if (item === null) {\r\n      return null;\r\n    }\r\n    item.width = Math.ceil(eachSpacing - 2 * categoryGap);\r\n    if (opts.extra.bar && opts.extra.bar.width && +opts.extra.bar.width > 0) {\r\n      item.width = Math.min(item.width, +opts.extra.bar.width * opts.pix);\r\n    }\r\n    if (item.width <= 0) {\r\n      item.width = 1;\r\n    }\r\n    return item;\r\n  });\r\n}\r\n\r\nfunction getXAxisPoints(categories, opts, config) {\r\n  var spacingValid = opts.width - opts.area[1] - opts.area[3];\r\n  var dataCount = opts.enableScroll ? Math.min(opts.xAxis.itemCount, categories.length) : categories.length;\r\n  if ((opts.type == 'line' || opts.type == 'area' || opts.type == 'scatter' || opts.type == 'bubble' || opts.type == 'bar') && dataCount > 1 && opts.xAxis.boundaryGap == 'justify') {\r\n    dataCount -= 1;\r\n  }\r\n  var widthRatio = 0;\r\n  if(opts.type == 'mount' && opts.extra && opts.extra.mount && opts.extra.mount.widthRatio && opts.extra.mount.widthRatio > 1){\r\n    if(opts.extra.mount.widthRatio>2) opts.extra.mount.widthRatio = 2\r\n    widthRatio = opts.extra.mount.widthRatio - 1;\r\n    dataCount += widthRatio;\r\n  }\r\n  var eachSpacing = spacingValid / dataCount;\r\n  var xAxisPoints = [];\r\n  var startX = opts.area[3];\r\n  var endX = opts.width - opts.area[1];\r\n  categories.forEach(function(item, index) {\r\n    xAxisPoints.push(startX + widthRatio / 2 * eachSpacing + index * eachSpacing);\r\n  });\r\n  if (opts.xAxis.boundaryGap !== 'justify') {\r\n    if (opts.enableScroll === true) {\r\n      xAxisPoints.push(startX + widthRatio * eachSpacing + categories.length * eachSpacing);\r\n    } else {\r\n      xAxisPoints.push(endX);\r\n    }\r\n  }\r\n  return {\r\n    xAxisPoints: xAxisPoints,\r\n    startX: startX,\r\n    endX: endX,\r\n    eachSpacing: eachSpacing\r\n  };\r\n}\r\n\r\nfunction getCandleDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config) {\r\n  var process = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 1;\r\n  var points = [];\r\n  var validHeight = opts.height - opts.area[0] - opts.area[2];\r\n  data.forEach(function(item, index) {\r\n    if (item === null) {\r\n      points.push(null);\r\n    } else {\r\n      var cPoints = [];\r\n      item.forEach(function(items, indexs) {\r\n        var point = {};\r\n        point.x = xAxisPoints[index] + Math.round(eachSpacing / 2);\r\n        var value = items.value || items;\r\n        var height = validHeight * (value - minRange) / (maxRange - minRange);\r\n        height *= process;\r\n        point.y = opts.height - Math.round(height) - opts.area[2];\r\n        cPoints.push(point);\r\n      });\r\n      points.push(cPoints);\r\n    }\r\n  });\r\n  return points;\r\n}\r\n\r\nfunction getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config) {\r\n  var process = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 1;\r\n  var boundaryGap = 'center';\r\n  if (opts.type == 'line' || opts.type == 'area' || opts.type == 'scatter' || opts.type == 'bubble' ) {\r\n    boundaryGap = opts.xAxis.boundaryGap;\r\n  }\r\n  var points = [];\r\n  var validHeight = opts.height - opts.area[0] - opts.area[2];\r\n  var validWidth = opts.width - opts.area[1] - opts.area[3];\r\n  data.forEach(function(item, index) {\r\n    if (item === null) {\r\n      points.push(null);\r\n    } else {\r\n      var point = {};\r\n      point.color = item.color;\r\n      point.x = xAxisPoints[index];\r\n      var value = item;\r\n      if (typeof item === 'object' && item !== null) {\r\n        if (item.constructor.toString().indexOf('Array') > -1) {\r\n          let xranges, xminRange, xmaxRange;\r\n          xranges = [].concat(opts.chartData.xAxisData.ranges);\r\n          xminRange = xranges.shift();\r\n          xmaxRange = xranges.pop();\r\n          value = item[1];\r\n          point.x = opts.area[3] + validWidth * (item[0] - xminRange) / (xmaxRange - xminRange);\r\n          if(opts.type == 'bubble'){\r\n            point.r = item[2];\r\n            point.t = item[3];\r\n          }\r\n        } else {\r\n          value = item.value;\r\n        }\r\n      }\r\n      if (boundaryGap == 'center') {\r\n        point.x += eachSpacing / 2;\r\n      }\r\n      var height = validHeight * (value - minRange) / (maxRange - minRange);\r\n      height *= process;\r\n      point.y = opts.height - height - opts.area[2];\r\n      points.push(point);\r\n    }\r\n  });\r\n  return points;\r\n}\r\n\r\nfunction getLineDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, lineOption, process){\r\n  var process = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : 1;\r\n  var boundaryGap = opts.xAxis.boundaryGap;\r\n  var points = [];\r\n  var validHeight = opts.height - opts.area[0] - opts.area[2];\r\n  var validWidth = opts.width - opts.area[1] - opts.area[3];\r\n  data.forEach(function(item, index) {\r\n    if (item === null) {\r\n      points.push(null);\r\n    } else {\r\n      var point = {};\r\n      point.color = item.color;\r\n      if(lineOption.animation == 'vertical'){\r\n        point.x = xAxisPoints[index];\r\n        var value = item;\r\n        if (typeof item === 'object' && item !== null) {\r\n          if (item.constructor.toString().indexOf('Array') > -1) {\r\n            let xranges, xminRange, xmaxRange;\r\n            xranges = [].concat(opts.chartData.xAxisData.ranges);\r\n            xminRange = xranges.shift();\r\n            xmaxRange = xranges.pop();\r\n            value = item[1];\r\n            point.x = opts.area[3] + validWidth * (item[0] - xminRange) / (xmaxRange - xminRange);\r\n          } else {\r\n            value = item.value;\r\n          }\r\n        }\r\n        if (boundaryGap == 'center') {\r\n          point.x += eachSpacing / 2;\r\n        }\r\n        var height = validHeight * (value - minRange) / (maxRange - minRange);\r\n        height *= process;\r\n        point.y = opts.height - height - opts.area[2];\r\n        points.push(point);\r\n      }else{\r\n        point.x = xAxisPoints[0] + eachSpacing * index * process;\r\n        var value = item;\r\n        if (boundaryGap == 'center') {\r\n          point.x += eachSpacing / 2;\r\n        }\r\n        var height = validHeight * (value - minRange) / (maxRange - minRange);\r\n        point.y = opts.height - height - opts.area[2];\r\n        points.push(point);\r\n      }\r\n    }\r\n  });\r\n  return points;\r\n}\r\n\r\nfunction getColumnDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, zeroPoints, process){\r\n  var process = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : 1;\r\n  var points = [];\r\n  var validHeight = opts.height - opts.area[0] - opts.area[2];\r\n  var validWidth = opts.width - opts.area[1] - opts.area[3];\r\n  data.forEach(function(item, index) {\r\n    if (item === null) {\r\n      points.push(null);\r\n    } else {\r\n      var point = {};\r\n      point.color = item.color;\r\n      point.x = xAxisPoints[index];\r\n      var value = item;\r\n      if (typeof item === 'object' && item !== null) {\r\n        if (item.constructor.toString().indexOf('Array') > -1) {\r\n          let xranges, xminRange, xmaxRange;\r\n          xranges = [].concat(opts.chartData.xAxisData.ranges);\r\n          xminRange = xranges.shift();\r\n          xmaxRange = xranges.pop();\r\n          value = item[1];\r\n          point.x = opts.area[3] + validWidth * (item[0] - xminRange) / (xmaxRange - xminRange);\r\n        } else {\r\n          value = item.value;\r\n        }\r\n      }\r\n      point.x += eachSpacing / 2;\r\n      var height = validHeight * (value * process - minRange) / (maxRange - minRange);\r\n      point.y = opts.height - height - opts.area[2];\r\n      points.push(point);\r\n    }\r\n  });\r\n  return points;\r\n}\r\n\r\nfunction getMountDataPoints(series, minRange, maxRange, xAxisPoints, eachSpacing, opts, mountOption, zeroPoints) {\r\n  var process = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : 1;\r\n  var points = [];\r\n  var validHeight = opts.height - opts.area[0] - opts.area[2];\r\n  var validWidth = opts.width - opts.area[1] - opts.area[3];\r\n  var mountWidth = eachSpacing * mountOption.widthRatio;\r\n  series.forEach(function(item, index) {\r\n    if (item === null) {\r\n      points.push(null);\r\n    } else {\r\n      var point = {};\r\n      point.color = item.color;\r\n      point.x = xAxisPoints[index];\r\n      point.x += eachSpacing / 2;\r\n      var value = item.data;\r\n      var height = validHeight * (value * process - minRange) / (maxRange - minRange);\r\n      point.y = opts.height - height - opts.area[2];\r\n      point.value = value;\r\n      point.width = mountWidth;\r\n      points.push(point);\r\n    }\r\n  });\r\n  return points;\r\n}\r\n\r\nfunction getBarDataPoints(data, minRange, maxRange, yAxisPoints, eachSpacing, opts, config) {\r\n  var process = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 1;\r\n  var points = [];\r\n  var validHeight = opts.height - opts.area[0] - opts.area[2];\r\n  var validWidth = opts.width - opts.area[1] - opts.area[3];\r\n  data.forEach(function(item, index) {\r\n    if (item === null) {\r\n      points.push(null);\r\n    } else {\r\n      var point = {};\r\n      point.color = item.color;\r\n      point.y = yAxisPoints[index];\r\n      var value = item;\r\n      if (typeof item === 'object' && item !== null) {\r\n        value = item.value;\r\n      }\r\n      var height = validWidth * (value - minRange) / (maxRange - minRange);\r\n      height *= process;\r\n      point.height = height;\r\n      point.value = value;\r\n      point.x = height + opts.area[3];\r\n      points.push(point);\r\n    }\r\n  });\r\n  return points;\r\n}\r\n\r\nfunction getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, seriesIndex, stackSeries) {\r\n  var process = arguments.length > 9 && arguments[9] !== undefined ? arguments[9] : 1;\r\n  var points = [];\r\n  var validHeight = opts.height - opts.area[0] - opts.area[2];\r\n  data.forEach(function(item, index) {\r\n    if (item === null) {\r\n      points.push(null);\r\n    } else {\r\n      var point = {};\r\n      point.color = item.color;\r\n      point.x = xAxisPoints[index] + Math.round(eachSpacing / 2);\r\n\r\n      if (seriesIndex > 0) {\r\n        var value = 0;\r\n        for (let i = 0; i <= seriesIndex; i++) {\r\n          value += stackSeries[i].data[index];\r\n        }\r\n        var value0 = value - item;\r\n        var height = validHeight * (value - minRange) / (maxRange - minRange);\r\n        var height0 = validHeight * (value0 - minRange) / (maxRange - minRange);\r\n      } else {\r\n        var value = item;\r\n        if (typeof item === 'object' && item !== null) {\r\n          value = item.value;\r\n        }\r\n        var height = validHeight * (value - minRange) / (maxRange - minRange);\r\n        var height0 = 0;\r\n      }\r\n      var heightc = height0;\r\n      height *= process;\r\n      heightc *= process;\r\n      point.y = opts.height - Math.round(height) - opts.area[2];\r\n      point.y0 = opts.height - Math.round(heightc) - opts.area[2];\r\n      points.push(point);\r\n    }\r\n  });\r\n  return points;\r\n}\r\n\r\nfunction getBarStackDataPoints(data, minRange, maxRange, yAxisPoints, eachSpacing, opts, config, seriesIndex, stackSeries) {\r\n  var process = arguments.length > 9 && arguments[9] !== undefined ? arguments[9] : 1;\r\n  var points = [];\r\n  var validHeight = opts.width - opts.area[1] - opts.area[3];\r\n  data.forEach(function(item, index) {\r\n    if (item === null) {\r\n      points.push(null);\r\n    } else {\r\n      var point = {};\r\n      point.color = item.color;\r\n      point.y = yAxisPoints[index];\r\n      if (seriesIndex > 0) {\r\n        var value = 0;\r\n        for (let i = 0; i <= seriesIndex; i++) {\r\n          value += stackSeries[i].data[index];\r\n        }\r\n        var value0 = value - item;\r\n        var height = validHeight * (value - minRange) / (maxRange - minRange);\r\n        var height0 = validHeight * (value0 - minRange) / (maxRange - minRange);\r\n      } else {\r\n        var value = item;\r\n        if (typeof item === 'object' && item !== null) {\r\n          value = item.value;\r\n        }\r\n        var height = validHeight * (value - minRange) / (maxRange - minRange);\r\n        var height0 = 0;\r\n      }\r\n      var heightc = height0;\r\n      height *= process;\r\n      heightc *= process;\r\n      point.height = height - heightc;\r\n      point.x = opts.area[3] + height;\r\n      point.x0 = opts.area[3] + heightc;\r\n      points.push(point);\r\n    }\r\n  });\r\n  return points;\r\n}\r\n\r\nfunction getYAxisTextList(series, opts, config, stack, yData) {\r\n  var index = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : -1;\r\n  var data;\r\n  if (stack == 'stack') {\r\n    data = dataCombineStack(series, opts.categories.length);\r\n  } else {\r\n    data = dataCombine(series);\r\n  }\r\n  var sorted = [];\r\n  // remove null from data\r\n  data = data.filter(function(item) {\r\n    //return item !== null;\r\n    if (typeof item === 'object' && item !== null) {\r\n      if (item.constructor.toString().indexOf('Array') > -1) {\r\n        return item !== null;\r\n      } else {\r\n        return item.value !== null;\r\n      }\r\n    } else {\r\n      return item !== null;\r\n    }\r\n  });\r\n  data.map(function(item) {\r\n    if (typeof item === 'object') {\r\n      if (item.constructor.toString().indexOf('Array') > -1) {\r\n        if (opts.type == 'candle') {\r\n          item.map(function(subitem) {\r\n            sorted.push(subitem);\r\n          })\r\n        } else {\r\n          sorted.push(item[1]);\r\n        }\r\n      } else {\r\n        sorted.push(item.value);\r\n      }\r\n    } else {\r\n      sorted.push(item);\r\n    }\r\n  })\r\n  var minData = yData.min || 0;\r\n  var maxData = yData.max || 0;\r\n  if (sorted.length > 0) {\r\n    minData = Math.min.apply(this, sorted);\r\n    maxData = Math.max.apply(this, sorted);\r\n  }\r\n  if (minData === maxData) {\r\n    if(maxData == 0){\r\n      maxData = 10;\r\n    }else{\r\n      minData = 0;\r\n    }\r\n  }\r\n  var dataRange = getDataRange(minData, maxData);\r\n  var minRange = (yData.min === undefined || yData.min === null) ? dataRange.minRange : yData.min;\r\n  var maxRange = (yData.max === undefined || yData.max === null) ? dataRange.maxRange : yData.max;\r\n  var eachRange = (maxRange - minRange) / opts.yAxis.splitNumber;\r\n  var range = [];\r\n  for (var i = 0; i <= opts.yAxis.splitNumber; i++) {\r\n    range.push(minRange + eachRange * i);\r\n  }\r\n  return range.reverse();\r\n}\r\n\r\nfunction calYAxisData(series, opts, config, context) {\r\n  //堆叠图重算Y轴\r\n  var columnstyle = assign({}, {\r\n    type: \"\"\r\n  }, opts.extra.column);\r\n  //如果是多Y轴，重新计算\r\n  var YLength = opts.yAxis.data.length;\r\n  var newSeries = new Array(YLength);\r\n  if (YLength > 0) {\r\n    for (let i = 0; i < YLength; i++) {\r\n      newSeries[i] = [];\r\n      for (let j = 0; j < series.length; j++) {\r\n        if (series[j].index == i) {\r\n          newSeries[i].push(series[j]);\r\n        }\r\n      }\r\n    }\r\n    var rangesArr = new Array(YLength);\r\n    var rangesFormatArr = new Array(YLength);\r\n    var yAxisWidthArr = new Array(YLength);\r\n\r\n    for (let i = 0; i < YLength; i++) {\r\n      let yData = opts.yAxis.data[i];\r\n      //如果总开关不显示，强制每个Y轴为不显示\r\n      if (opts.yAxis.disabled == true) {\r\n        yData.disabled = true;\r\n      }\r\n      if(yData.type === 'categories'){\r\n        if(!yData.formatter){\r\n          yData.formatter = (val,index,opts) => {return val + (yData.unit || '')};\r\n        }\r\n        yData.categories = yData.categories || opts.categories;\r\n        rangesArr[i] = yData.categories;\r\n      }else{\r\n        if(!yData.formatter){\r\n          yData.formatter = (val,index,opts) => {return util.toFixed(val, yData.tofix || 0) + (yData.unit || '')};\r\n        }\r\n        rangesArr[i] = getYAxisTextList(newSeries[i], opts, config, columnstyle.type, yData, i);\r\n      }\r\n      let yAxisFontSizes = yData.fontSize * opts.pix || config.fontSize;\r\n      yAxisWidthArr[i] = {\r\n        position: yData.position ? yData.position : 'left',\r\n        width: 0\r\n      };\r\n      rangesFormatArr[i] = rangesArr[i].map(function(items,index) {\r\n        items = yData.formatter(items,index,opts);\r\n        yAxisWidthArr[i].width = Math.max(yAxisWidthArr[i].width, measureText(items, yAxisFontSizes, context) + 5);\r\n        return items;\r\n      });\r\n      let calibration = yData.calibration ? 4 * opts.pix : 0;\r\n      yAxisWidthArr[i].width += calibration + 3 * opts.pix;\r\n      if (yData.disabled === true) {\r\n        yAxisWidthArr[i].width = 0;\r\n      }\r\n    }\r\n  } else {\r\n    var rangesArr = new Array(1);\r\n    var rangesFormatArr = new Array(1);\r\n    var yAxisWidthArr = new Array(1);\r\n    if(opts.type === 'bar'){\r\n      rangesArr[0] = opts.categories;\r\n      if(!opts.yAxis.formatter){\r\n        opts.yAxis.formatter = (val,index,opts) => {return val + (opts.yAxis.unit || '')}\r\n      }\r\n    }else{\r\n      if(!opts.yAxis.formatter){\r\n        opts.yAxis.formatter = (val,index,opts) => {return val.toFixed(opts.yAxis.tofix ) + (opts.yAxis.unit || '')}\r\n      }\r\n      rangesArr[0] = getYAxisTextList(series, opts, config, columnstyle.type, {});\r\n    }\r\n    yAxisWidthArr[0] = {\r\n      position: 'left',\r\n      width: 0\r\n    };\r\n    var yAxisFontSize = opts.yAxis.fontSize * opts.pix || config.fontSize;\r\n    rangesFormatArr[0] = rangesArr[0].map(function(item,index) {\r\n      item = opts.yAxis.formatter(item,index,opts);\r\n      yAxisWidthArr[0].width = Math.max(yAxisWidthArr[0].width, measureText(item, yAxisFontSize, context) + 5);\r\n      return item;\r\n    });\r\n    yAxisWidthArr[0].width += 3 * opts.pix;\r\n    if (opts.yAxis.disabled === true) {\r\n      yAxisWidthArr[0] = {\r\n        position: 'left',\r\n        width: 0\r\n      };\r\n      opts.yAxis.data[0] = {\r\n        disabled: true\r\n      };\r\n    } else {\r\n      opts.yAxis.data[0] = {\r\n        disabled: false,\r\n        position: 'left',\r\n        max: opts.yAxis.max,\r\n        min: opts.yAxis.min,\r\n        formatter: opts.yAxis.formatter\r\n      };\r\n      if(opts.type === 'bar'){\r\n        opts.yAxis.data[0].categories = opts.categories;\r\n        opts.yAxis.data[0].type = 'categories';\r\n      }\r\n    }\r\n  }\r\n  return {\r\n    rangesFormat: rangesFormatArr,\r\n    ranges: rangesArr,\r\n    yAxisWidth: yAxisWidthArr\r\n  };\r\n}\r\n\r\nfunction calTooltipYAxisData(point, series, opts, config, eachSpacing) {\r\n  let ranges = [].concat(opts.chartData.yAxisData.ranges);\r\n  let spacingValid = opts.height - opts.area[0] - opts.area[2];\r\n  let minAxis = opts.area[0];\r\n  let items = [];\r\n  for (let i = 0; i < ranges.length; i++) {\r\n    let maxVal = Math.max.apply(this, ranges[i]);\r\n    let minVal = Math.min.apply(this, ranges[i]);\r\n    let item = maxVal - (maxVal - minVal) * (point - minAxis) / spacingValid;\r\n    item = opts.yAxis.data && opts.yAxis.data[i].formatter ? opts.yAxis.data[i].formatter(item, i, opts) : item.toFixed(0);\r\n    items.push(String(item))\r\n  }\r\n  return items;\r\n}\r\n\r\nfunction calMarkLineData(points, opts) {\r\n  let minRange, maxRange;\r\n  let spacingValid = opts.height - opts.area[0] - opts.area[2];\r\n  for (let i = 0; i < points.length; i++) {\r\n    points[i].yAxisIndex = points[i].yAxisIndex ? points[i].yAxisIndex : 0;\r\n    let range = [].concat(opts.chartData.yAxisData.ranges[points[i].yAxisIndex]);\r\n    minRange = range.pop();\r\n    maxRange = range.shift();\r\n    let height = spacingValid * (points[i].value - minRange) / (maxRange - minRange);\r\n    points[i].y = opts.height - Math.round(height) - opts.area[2];\r\n  }\r\n  return points;\r\n}\r\n\r\nfunction contextRotate(context, opts) {\r\n  if (opts.rotateLock !== true) {\r\n    context.translate(opts.height, 0);\r\n    context.rotate(90 * Math.PI / 180);\r\n  } else if (opts._rotate_ !== true) {\r\n    context.translate(opts.height, 0);\r\n    context.rotate(90 * Math.PI / 180);\r\n    opts._rotate_ = true;\r\n  }\r\n}\r\n\r\nfunction drawPointShape(points, color, shape, context, opts) {\r\n  context.beginPath();\r\n  if (opts.dataPointShapeType == 'hollow') {\r\n    context.setStrokeStyle(color);\r\n    context.setFillStyle(opts.background);\r\n    context.setLineWidth(2 * opts.pix);\r\n  } else {\r\n    context.setStrokeStyle(\"#ffffff\");\r\n    context.setFillStyle(color);\r\n    context.setLineWidth(1 * opts.pix);\r\n  }\r\n  if (shape === 'diamond') {\r\n    points.forEach(function(item, index) {\r\n      if (item !== null) {\r\n        context.moveTo(item.x, item.y - 4.5);\r\n        context.lineTo(item.x - 4.5, item.y);\r\n        context.lineTo(item.x, item.y + 4.5);\r\n        context.lineTo(item.x + 4.5, item.y);\r\n        context.lineTo(item.x, item.y - 4.5);\r\n      }\r\n    });\r\n  } else if (shape === 'circle') {\r\n    points.forEach(function(item, index) {\r\n      if (item !== null) {\r\n        context.moveTo(item.x + 2.5 * opts.pix, item.y);\r\n        context.arc(item.x, item.y, 3 * opts.pix, 0, 2 * Math.PI, false);\r\n      }\r\n    });\r\n  } else if (shape === 'square') {\r\n    points.forEach(function(item, index) {\r\n      if (item !== null) {\r\n        context.moveTo(item.x - 3.5, item.y - 3.5);\r\n        context.rect(item.x - 3.5, item.y - 3.5, 7, 7);\r\n      }\r\n    });\r\n  } else if (shape === 'triangle') {\r\n    points.forEach(function(item, index) {\r\n      if (item !== null) {\r\n        context.moveTo(item.x, item.y - 4.5);\r\n        context.lineTo(item.x - 4.5, item.y + 4.5);\r\n        context.lineTo(item.x + 4.5, item.y + 4.5);\r\n        context.lineTo(item.x, item.y - 4.5);\r\n      }\r\n    });\r\n  } else if (shape === 'none') {\r\n    return;\r\n  }\r\n  context.closePath();\r\n  context.fill();\r\n  context.stroke();\r\n}\r\n\r\nfunction drawActivePoint(points, color, shape, context, opts, option, seriesIndex) {\r\n  if(!opts.tooltip){\r\n    return\r\n  }\r\n  if(opts.tooltip.group.length>0 && opts.tooltip.group.includes(seriesIndex) == false){\r\n    return\r\n  }\r\n  var pointIndex = typeof opts.tooltip.index === 'number' ? opts.tooltip.index : opts.tooltip.index[opts.tooltip.group.indexOf(seriesIndex)];\r\n  context.beginPath();\r\n  if (option.activeType == 'hollow') {\r\n    context.setStrokeStyle(color);\r\n    context.setFillStyle(opts.background);\r\n    context.setLineWidth(2 * opts.pix);\r\n  } else {\r\n    context.setStrokeStyle(\"#ffffff\");\r\n    context.setFillStyle(color);\r\n    context.setLineWidth(1 * opts.pix);\r\n  }\r\n  if (shape === 'diamond') {\r\n    points.forEach(function(item, index) {\r\n      if (item !== null && pointIndex == index ) {\r\n        context.moveTo(item.x, item.y - 4.5);\r\n        context.lineTo(item.x - 4.5, item.y);\r\n        context.lineTo(item.x, item.y + 4.5);\r\n        context.lineTo(item.x + 4.5, item.y);\r\n        context.lineTo(item.x, item.y - 4.5);\r\n      }\r\n    });\r\n  } else if (shape === 'circle') {\r\n    points.forEach(function(item, index) {\r\n      if (item !== null && pointIndex == index) {\r\n        context.moveTo(item.x + 2.5 * opts.pix, item.y);\r\n        context.arc(item.x, item.y, 3 * opts.pix, 0, 2 * Math.PI, false);\r\n      }\r\n    });\r\n  } else if (shape === 'square') {\r\n    points.forEach(function(item, index) {\r\n      if (item !== null && pointIndex == index) {\r\n        context.moveTo(item.x - 3.5, item.y - 3.5);\r\n        context.rect(item.x - 3.5, item.y - 3.5, 7, 7);\r\n      }\r\n    });\r\n  } else if (shape === 'triangle') {\r\n    points.forEach(function(item, index) {\r\n      if (item !== null && pointIndex == index) {\r\n        context.moveTo(item.x, item.y - 4.5);\r\n        context.lineTo(item.x - 4.5, item.y + 4.5);\r\n        context.lineTo(item.x + 4.5, item.y + 4.5);\r\n        context.lineTo(item.x, item.y - 4.5);\r\n      }\r\n    });\r\n  } else if (shape === 'none') {\r\n    return;\r\n  }\r\n  context.closePath();\r\n  context.fill();\r\n  context.stroke();\r\n}\r\n\r\nfunction drawRingTitle(opts, config, context, center) {\r\n  var titlefontSize = opts.title.fontSize || config.titleFontSize;\r\n  var subtitlefontSize = opts.subtitle.fontSize || config.subtitleFontSize;\r\n  var title = opts.title.name || '';\r\n  var subtitle = opts.subtitle.name || '';\r\n  var titleFontColor = opts.title.color || opts.fontColor;\r\n  var subtitleFontColor = opts.subtitle.color || opts.fontColor;\r\n  var titleHeight = title ? titlefontSize : 0;\r\n  var subtitleHeight = subtitle ? subtitlefontSize : 0;\r\n  var margin = 5;\r\n  if (subtitle) {\r\n    var textWidth = measureText(subtitle, subtitlefontSize * opts.pix, context);\r\n    var startX = center.x - textWidth / 2 + (opts.subtitle.offsetX|| 0) * opts.pix ;\r\n    var startY = center.y + subtitlefontSize * opts.pix / 2 + (opts.subtitle.offsetY || 0) * opts.pix;\r\n    if (title) {\r\n      startY += (titleHeight * opts.pix + margin) / 2;\r\n    }\r\n    context.beginPath();\r\n    context.setFontSize(subtitlefontSize * opts.pix);\r\n    context.setFillStyle(subtitleFontColor);\r\n    context.fillText(subtitle, startX, startY);\r\n    context.closePath();\r\n    context.stroke();\r\n  }\r\n  if (title) {\r\n    var _textWidth = measureText(title, titlefontSize * opts.pix, context);\r\n    var _startX = center.x - _textWidth / 2 + (opts.title.offsetX || 0);\r\n    var _startY = center.y + titlefontSize * opts.pix / 2 + (opts.title.offsetY || 0) * opts.pix;\r\n    if (subtitle) {\r\n      _startY -= (subtitleHeight * opts.pix + margin) / 2;\r\n    }\r\n    context.beginPath();\r\n    context.setFontSize(titlefontSize * opts.pix);\r\n    context.setFillStyle(titleFontColor);\r\n    context.fillText(title, _startX, _startY);\r\n    context.closePath();\r\n    context.stroke();\r\n  }\r\n}\r\n\r\nfunction drawPointText(points, series, config, context, opts) {\r\n  // 绘制数据文案\r\n  var data = series.data;\r\n  var textOffset = series.textOffset ? series.textOffset : 0;\r\n  points.forEach(function(item, index) {\r\n    if (item !== null) {\r\n      context.beginPath();\r\n      var fontSize = series.textSize ? series.textSize * opts.pix : config.fontSize;\r\n      context.setFontSize(fontSize);\r\n      context.setFillStyle(series.textColor || opts.fontColor);\r\n      var value = data[index]\r\n      if (typeof data[index] === 'object' && data[index] !== null) {\r\n        if (data[index].constructor.toString().indexOf('Array')>-1) {\r\n          value = data[index][1];\r\n        } else {\r\n          value = data[index].value\r\n        }\r\n      }\r\n      var formatVal = series.formatter ? series.formatter(value,index,series,opts) : value;\r\n      context.setTextAlign('center');\r\n      context.fillText(String(formatVal), item.x, item.y - 4 + textOffset * opts.pix);\r\n      context.closePath();\r\n      context.stroke();\r\n      context.setTextAlign('left');\r\n    }\r\n  });\r\n}\r\n\r\nfunction drawColumePointText(points, series, config, context, opts) {\r\n  // 绘制数据文案\r\n  var data = series.data;\r\n  var textOffset = series.textOffset ? series.textOffset : 0;\r\n  var Position = opts.extra.column.labelPosition;\r\n  points.forEach(function(item, index) {\r\n    if (item !== null) {\r\n      context.beginPath();\r\n      var fontSize = series.textSize ? series.textSize * opts.pix : config.fontSize;\r\n      context.setFontSize(fontSize);\r\n      context.setFillStyle(series.textColor || opts.fontColor);\r\n      var value = data[index]\r\n      if (typeof data[index] === 'object' && data[index] !== null) {\r\n        if (data[index].constructor.toString().indexOf('Array')>-1) {\r\n          value = data[index][1];\r\n        } else {\r\n          value = data[index].value\r\n        }\r\n      }\r\n      var formatVal = series.formatter ? series.formatter(value,index,series,opts) : value;\r\n      context.setTextAlign('center');\r\n      var startY = item.y - 4 * opts.pix + textOffset * opts.pix;\r\n      if(item.y > series.zeroPoints){\r\n        startY = item.y + textOffset * opts.pix + fontSize;\r\n      }\r\n      if(Position == 'insideTop'){\r\n        startY = item.y + fontSize + textOffset * opts.pix;\r\n        if(item.y > series.zeroPoints){\r\n          startY = item.y - textOffset * opts.pix - 4 * opts.pix;\r\n        }\r\n      }\r\n      if(Position == 'center'){\r\n        startY = item.y + textOffset * opts.pix + (opts.height - opts.area[2] - item.y + fontSize)/2;\r\n        if(series.zeroPoints < opts.height - opts.area[2]){\r\n          startY = item.y + textOffset * opts.pix + (series.zeroPoints - item.y + fontSize)/2;\r\n        }\r\n        if(item.y > series.zeroPoints){\r\n          startY = item.y - textOffset * opts.pix - (item.y - series.zeroPoints - fontSize)/2;\r\n        }\r\n        if(opts.extra.column.type == 'stack'){\r\n          startY = item.y + textOffset * opts.pix + (item.y0 - item.y + fontSize)/2;\r\n        }\r\n      }\r\n      if(Position == 'bottom'){\r\n        startY = opts.height - opts.area[2] + textOffset * opts.pix - 4 * opts.pix;\r\n        if(series.zeroPoints < opts.height - opts.area[2]){\r\n          startY = series.zeroPoints + textOffset * opts.pix - 4 * opts.pix;\r\n        }\r\n        if(item.y > series.zeroPoints){\r\n          startY = series.zeroPoints - textOffset * opts.pix + fontSize + 2 * opts.pix;\r\n        }\r\n        if(opts.extra.column.type == 'stack'){\r\n          startY = item.y0 + textOffset * opts.pix - 4 * opts.pix;\r\n        }\r\n      }\r\n      context.fillText(String(formatVal), item.x, startY);\r\n      context.closePath();\r\n      context.stroke();\r\n      context.setTextAlign('left');\r\n    }\r\n  });\r\n}\r\n\r\nfunction drawMountPointText(points, series, config, context, opts, zeroPoints) {\r\n  // 绘制数据文案\r\n  var data = series.data;\r\n  var textOffset = series.textOffset ? series.textOffset : 0;\r\n  var Position = opts.extra.mount.labelPosition;\r\n  points.forEach(function(item, index) {\r\n    if (item !== null) {\r\n      context.beginPath();\r\n      var fontSize = series[index].textSize ? series[index].textSize * opts.pix : config.fontSize;\r\n      context.setFontSize(fontSize);\r\n      context.setFillStyle(series[index].textColor || opts.fontColor);\r\n      var value = item.value\r\n      var formatVal = series[index].formatter ? series[index].formatter(value,index,series,opts) : value;\r\n      context.setTextAlign('center');\r\n      var startY = item.y - 4 * opts.pix + textOffset * opts.pix;\r\n      if(item.y > zeroPoints){\r\n        startY = item.y + textOffset * opts.pix + fontSize;\r\n      }\r\n      context.fillText(String(formatVal), item.x, startY);\r\n      context.closePath();\r\n      context.stroke();\r\n      context.setTextAlign('left');\r\n    }\r\n  });\r\n}\r\n\r\nfunction drawBarPointText(points, series, config, context, opts) {\r\n  // 绘制数据文案\r\n  var data = series.data;\r\n  var textOffset = series.textOffset ? series.textOffset : 0;\r\n  points.forEach(function(item, index) {\r\n    if (item !== null) {\r\n      context.beginPath();\r\n      var fontSize = series.textSize ? series.textSize * opts.pix : config.fontSize;\r\n      context.setFontSize(fontSize);\r\n      context.setFillStyle(series.textColor || opts.fontColor);\r\n      var value = data[index]\r\n      if (typeof data[index] === 'object' && data[index] !== null) {\r\n        value = data[index].value ;\r\n      }\r\n      var formatVal = series.formatter ? series.formatter(value,index,series,opts) : value;\r\n      context.setTextAlign('left');\r\n      context.fillText(String(formatVal), item.x + 4 * opts.pix , item.y + fontSize / 2 - 3 );\r\n      context.closePath();\r\n      context.stroke();\r\n    }\r\n  });\r\n}\r\n\r\nfunction drawGaugeLabel(gaugeOption, radius, centerPosition, opts, config, context) {\r\n  radius -= gaugeOption.width / 2 + gaugeOption.labelOffset * opts.pix;\r\n  radius = radius < 10 ? 10 : radius;\r\n  let totalAngle;\r\n  if (gaugeOption.endAngle < gaugeOption.startAngle) {\r\n    totalAngle = 2 + gaugeOption.endAngle - gaugeOption.startAngle;\r\n  } else {\r\n    totalAngle = gaugeOption.startAngle - gaugeOption.endAngle;\r\n  }\r\n  let splitAngle = totalAngle / gaugeOption.splitLine.splitNumber;\r\n  let totalNumber = gaugeOption.endNumber - gaugeOption.startNumber;\r\n  let splitNumber = totalNumber / gaugeOption.splitLine.splitNumber;\r\n  let nowAngle = gaugeOption.startAngle;\r\n  let nowNumber = gaugeOption.startNumber;\r\n  for (let i = 0; i < gaugeOption.splitLine.splitNumber + 1; i++) {\r\n    var pos = {\r\n      x: radius * Math.cos(nowAngle * Math.PI),\r\n      y: radius * Math.sin(nowAngle * Math.PI)\r\n    };\r\n    var labelText = gaugeOption.formatter ? gaugeOption.formatter(nowNumber,i,opts) : nowNumber;\r\n    pos.x += centerPosition.x - measureText(labelText, config.fontSize, context) / 2;\r\n    pos.y += centerPosition.y;\r\n    var startX = pos.x;\r\n    var startY = pos.y;\r\n    context.beginPath();\r\n    context.setFontSize(config.fontSize);\r\n    context.setFillStyle(gaugeOption.labelColor || opts.fontColor);\r\n    context.fillText(labelText, startX, startY + config.fontSize / 2);\r\n    context.closePath();\r\n    context.stroke();\r\n    nowAngle += splitAngle;\r\n    if (nowAngle >= 2) {\r\n      nowAngle = nowAngle % 2;\r\n    }\r\n    nowNumber += splitNumber;\r\n  }\r\n}\r\n\r\nfunction drawRadarLabel(angleList, radius, centerPosition, opts, config, context) {\r\n  var radarOption = opts.extra.radar || {};\r\n  angleList.forEach(function(angle, index) {\r\n    if(radarOption.labelPointShow === true && opts.categories[index] !== ''){\r\n      var posPoint = {\r\n        x: radius * Math.cos(angle),\r\n        y: radius * Math.sin(angle)\r\n      };\r\n      var posPointAxis = convertCoordinateOrigin(posPoint.x, posPoint.y, centerPosition);\r\n      context.setFillStyle(radarOption.labelPointColor);\r\n      context.beginPath();\r\n      context.arc(posPointAxis.x, posPointAxis.y, radarOption.labelPointRadius * opts.pix, 0, 2 * Math.PI, false);\r\n      context.closePath();\r\n      context.fill();\r\n    }\r\n    if(radarOption.labelShow === true){\r\n      var pos = {\r\n        x: (radius + config.radarLabelTextMargin * opts.pix) * Math.cos(angle),\r\n        y: (radius + config.radarLabelTextMargin * opts.pix) * Math.sin(angle)\r\n      };\r\n      var posRelativeCanvas = convertCoordinateOrigin(pos.x, pos.y, centerPosition);\r\n      var startX = posRelativeCanvas.x;\r\n      var startY = posRelativeCanvas.y;\r\n      if (util.approximatelyEqual(pos.x, 0)) {\r\n        startX -= measureText(opts.categories[index] || '', config.fontSize, context) / 2;\r\n      } else if (pos.x < 0) {\r\n        startX -= measureText(opts.categories[index] || '', config.fontSize, context);\r\n      }\r\n      context.beginPath();\r\n      context.setFontSize(config.fontSize);\r\n      context.setFillStyle(radarOption.labelColor || opts.fontColor);\r\n      context.fillText(opts.categories[index] || '', startX, startY + config.fontSize / 2);\r\n      context.closePath();\r\n      context.stroke();\r\n    }\r\n  });\r\n\r\n}\r\n\r\nfunction drawPieText(series, opts, config, context, radius, center) {\r\n  var lineRadius = config.pieChartLinePadding;\r\n  var textObjectCollection = [];\r\n  var lastTextObject = null;\r\n  var seriesConvert = series.map(function(item,index) {\r\n    var text = item.formatter ? item.formatter(item,index,series,opts) : util.toFixed(item._proportion_.toFixed(4) * 100) + '%';\r\n    text = item.labelText ? item.labelText : text;\r\n    var arc = 2 * Math.PI - (item._start_ + 2 * Math.PI * item._proportion_ / 2);\r\n    if (item._rose_proportion_) {\r\n      arc = 2 * Math.PI - (item._start_ + 2 * Math.PI * item._rose_proportion_ / 2);\r\n    }\r\n    var color = item.color;\r\n    var radius = item._radius_;\r\n    return {\r\n      arc: arc,\r\n      text: text,\r\n      color: color,\r\n      radius: radius,\r\n      textColor: item.textColor,\r\n      textSize: item.textSize,\r\n      labelShow: item.labelShow\r\n    };\r\n  });\r\n  for (let i = 0; i < seriesConvert.length; i++) {\r\n    let item = seriesConvert[i];\r\n    // line end\r\n    let orginX1 = Math.cos(item.arc) * (item.radius + lineRadius);\r\n    let orginY1 = Math.sin(item.arc) * (item.radius + lineRadius);\r\n    // line start\r\n    let orginX2 = Math.cos(item.arc) * item.radius;\r\n    let orginY2 = Math.sin(item.arc) * item.radius;\r\n    // text start\r\n    let orginX3 = orginX1 >= 0 ? orginX1 + config.pieChartTextPadding : orginX1 - config.pieChartTextPadding;\r\n    let orginY3 = orginY1;\r\n    let textWidth = measureText(item.text, item.textSize * opts.pix || config.fontSize, context);\r\n    let startY = orginY3;\r\n    if (lastTextObject && util.isSameXCoordinateArea(lastTextObject.start, {\r\n        x: orginX3\r\n      })) {\r\n      if (orginX3 > 0) {\r\n        startY = Math.min(orginY3, lastTextObject.start.y);\r\n      } else if (orginX1 < 0) {\r\n        startY = Math.max(orginY3, lastTextObject.start.y);\r\n      } else {\r\n        if (orginY3 > 0) {\r\n          startY = Math.max(orginY3, lastTextObject.start.y);\r\n        } else {\r\n          startY = Math.min(orginY3, lastTextObject.start.y);\r\n        }\r\n      }\r\n    }\r\n    if (orginX3 < 0) {\r\n      orginX3 -= textWidth;\r\n    }\r\n    let textObject = {\r\n      lineStart: {\r\n        x: orginX2,\r\n        y: orginY2\r\n      },\r\n      lineEnd: {\r\n        x: orginX1,\r\n        y: orginY1\r\n      },\r\n      start: {\r\n        x: orginX3,\r\n        y: startY\r\n      },\r\n      width: textWidth,\r\n      height: config.fontSize,\r\n      text: item.text,\r\n      color: item.color,\r\n      textColor: item.textColor,\r\n      textSize: item.textSize\r\n    };\r\n    lastTextObject = avoidCollision(textObject, lastTextObject);\r\n    textObjectCollection.push(lastTextObject);\r\n  }\r\n  for (let i = 0; i < textObjectCollection.length; i++) {\r\n    if(seriesConvert[i].labelShow === false){\r\n      continue;\r\n    }\r\n    let item = textObjectCollection[i];\r\n    let lineStartPoistion = convertCoordinateOrigin(item.lineStart.x, item.lineStart.y, center);\r\n    let lineEndPoistion = convertCoordinateOrigin(item.lineEnd.x, item.lineEnd.y, center);\r\n    let textPosition = convertCoordinateOrigin(item.start.x, item.start.y, center);\r\n    context.setLineWidth(1 * opts.pix);\r\n    context.setFontSize(item.textSize * opts.pix || config.fontSize);\r\n    context.beginPath();\r\n    context.setStrokeStyle(item.color);\r\n    context.setFillStyle(item.color);\r\n    context.moveTo(lineStartPoistion.x, lineStartPoistion.y);\r\n    let curveStartX = item.start.x < 0 ? textPosition.x + item.width : textPosition.x;\r\n    let textStartX = item.start.x < 0 ? textPosition.x - 5 : textPosition.x + 5;\r\n    context.quadraticCurveTo(lineEndPoistion.x, lineEndPoistion.y, curveStartX, textPosition.y);\r\n    context.moveTo(lineStartPoistion.x, lineStartPoistion.y);\r\n    context.stroke();\r\n    context.closePath();\r\n    context.beginPath();\r\n    context.moveTo(textPosition.x + item.width, textPosition.y);\r\n    context.arc(curveStartX, textPosition.y, 2 * opts.pix, 0, 2 * Math.PI);\r\n    context.closePath();\r\n    context.fill();\r\n    context.beginPath();\r\n    context.setFontSize(item.textSize * opts.pix || config.fontSize);\r\n    context.setFillStyle(item.textColor || opts.fontColor);\r\n    context.fillText(item.text, textStartX, textPosition.y + 3);\r\n    context.closePath();\r\n    context.stroke();\r\n    context.closePath();\r\n  }\r\n}\r\n\r\nfunction drawToolTipSplitLine(offsetX, opts, config, context) {\r\n  var toolTipOption = opts.extra.tooltip || {};\r\n  toolTipOption.gridType = toolTipOption.gridType == undefined ? 'solid' : toolTipOption.gridType;\r\n  toolTipOption.dashLength = toolTipOption.dashLength == undefined ? 4 : toolTipOption.dashLength;\r\n  var startY = opts.area[0];\r\n  var endY = opts.height - opts.area[2];\r\n  if (toolTipOption.gridType == 'dash') {\r\n    context.setLineDash([toolTipOption.dashLength, toolTipOption.dashLength]);\r\n  }\r\n  context.setStrokeStyle(toolTipOption.gridColor || '#cccccc');\r\n  context.setLineWidth(1 * opts.pix);\r\n  context.beginPath();\r\n  context.moveTo(offsetX, startY);\r\n  context.lineTo(offsetX, endY);\r\n  context.stroke();\r\n  context.setLineDash([]);\r\n  if (toolTipOption.xAxisLabel) {\r\n    let labelText = opts.categories[opts.tooltip.index];\r\n    context.setFontSize(config.fontSize);\r\n    let textWidth = measureText(labelText, config.fontSize, context);\r\n    let textX = offsetX - 0.5 * textWidth;\r\n    let textY = endY + 2 * opts.pix;\r\n    context.beginPath();\r\n    context.setFillStyle(hexToRgb(toolTipOption.labelBgColor || config.toolTipBackground, toolTipOption.labelBgOpacity || config.toolTipOpacity));\r\n    context.setStrokeStyle(toolTipOption.labelBgColor || config.toolTipBackground);\r\n    context.setLineWidth(1 * opts.pix);\r\n    context.rect(textX - toolTipOption.boxPadding * opts.pix, textY, textWidth + 2 * toolTipOption.boxPadding * opts.pix, config.fontSize + 2 * toolTipOption.boxPadding * opts.pix);\r\n    context.closePath();\r\n    context.stroke();\r\n    context.fill();\r\n    context.beginPath();\r\n    context.setFontSize(config.fontSize);\r\n    context.setFillStyle(toolTipOption.labelFontColor || opts.fontColor);\r\n    context.fillText(String(labelText), textX, textY + toolTipOption.boxPadding * opts.pix + config.fontSize);\r\n    context.closePath();\r\n    context.stroke();\r\n  }\r\n}\r\n\r\nfunction drawMarkLine(opts, config, context) {\r\n  let markLineOption = assign({}, {\r\n    type: 'solid',\r\n    dashLength: 4,\r\n    data: []\r\n  }, opts.extra.markLine);\r\n  let startX = opts.area[3];\r\n  let endX = opts.width - opts.area[1];\r\n  let points = calMarkLineData(markLineOption.data, opts);\r\n  for (let i = 0; i < points.length; i++) {\r\n    let item = assign({}, {\r\n      lineColor: '#DE4A42',\r\n      showLabel: false,\r\n      labelFontSize: 13,\r\n      labelPadding: 6,\r\n      labelFontColor: '#666666',\r\n      labelBgColor: '#DFE8FF',\r\n      labelBgOpacity: 0.8,\r\n      labelAlign: 'left',\r\n      labelOffsetX: 0,\r\n      labelOffsetY: 0,\r\n    }, points[i]);\r\n    if (markLineOption.type == 'dash') {\r\n      context.setLineDash([markLineOption.dashLength, markLineOption.dashLength]);\r\n    }\r\n    context.setStrokeStyle(item.lineColor);\r\n    context.setLineWidth(1 * opts.pix);\r\n    context.beginPath();\r\n    context.moveTo(startX, item.y);\r\n    context.lineTo(endX, item.y);\r\n    context.stroke();\r\n    context.setLineDash([]);\r\n    if (item.showLabel) {\r\n      let fontSize = item.labelFontSize * opts.pix;\r\n      let labelText = item.labelText ? item.labelText : item.value;\r\n      context.setFontSize(fontSize);\r\n      let textWidth = measureText(labelText, fontSize, context);\r\n      let bgWidth = textWidth + item.labelPadding * opts.pix * 2;\r\n      let bgStartX = item.labelAlign == 'left' ? opts.area[3] - bgWidth : opts.width - opts.area[1];\r\n      bgStartX += item.labelOffsetX;\r\n      let bgStartY = item.y - 0.5 * fontSize - item.labelPadding * opts.pix;\r\n      bgStartY += item.labelOffsetY;\r\n      let textX = bgStartX + item.labelPadding * opts.pix;\r\n      let textY = item.y;\r\n      context.setFillStyle(hexToRgb(item.labelBgColor, item.labelBgOpacity));\r\n      context.setStrokeStyle(item.labelBgColor);\r\n      context.setLineWidth(1 * opts.pix);\r\n      context.beginPath();\r\n      context.rect(bgStartX, bgStartY, bgWidth, fontSize + 2 * item.labelPadding * opts.pix);\r\n      context.closePath();\r\n      context.stroke();\r\n      context.fill();\r\n      context.setFontSize(fontSize);\r\n      context.setTextAlign('left');\r\n      context.setFillStyle(item.labelFontColor);\r\n      context.fillText(String(labelText), textX, bgStartY + fontSize + item.labelPadding * opts.pix/2);\r\n      context.stroke();\r\n      context.setTextAlign('left');\r\n    }\r\n  }\r\n}\r\n\r\nfunction drawToolTipHorizentalLine(opts, config, context, eachSpacing, xAxisPoints) {\r\n  var toolTipOption = assign({}, {\r\n    gridType: 'solid',\r\n    dashLength: 4\r\n  }, opts.extra.tooltip);\r\n  var startX = opts.area[3];\r\n  var endX = opts.width - opts.area[1];\r\n  if (toolTipOption.gridType == 'dash') {\r\n    context.setLineDash([toolTipOption.dashLength, toolTipOption.dashLength]);\r\n  }\r\n  context.setStrokeStyle(toolTipOption.gridColor || '#cccccc');\r\n  context.setLineWidth(1 * opts.pix);\r\n  context.beginPath();\r\n  context.moveTo(startX, opts.tooltip.offset.y);\r\n  context.lineTo(endX, opts.tooltip.offset.y);\r\n  context.stroke();\r\n  context.setLineDash([]);\r\n  if (toolTipOption.yAxisLabel) {\r\n    let boxPadding = toolTipOption.boxPadding * opts.pix;\r\n    let labelText = calTooltipYAxisData(opts.tooltip.offset.y, opts.series, opts, config, eachSpacing);\r\n    let widthArr = opts.chartData.yAxisData.yAxisWidth;\r\n    let tStartLeft = opts.area[3];\r\n    let tStartRight = opts.width - opts.area[1];\r\n    for (let i = 0; i < labelText.length; i++) {\r\n      context.setFontSize(toolTipOption.fontSize * opts.pix);\r\n      let textWidth = measureText(labelText[i], toolTipOption.fontSize * opts.pix, context);\r\n      let bgStartX, bgEndX, bgWidth;\r\n      if (widthArr[i].position == 'left') {\r\n        bgStartX = tStartLeft - (textWidth + boxPadding * 2) - 2 * opts.pix;\r\n        bgEndX = Math.max(bgStartX, bgStartX + textWidth + boxPadding * 2);\r\n      } else {\r\n        bgStartX = tStartRight + 2 * opts.pix;\r\n        bgEndX = Math.max(bgStartX + widthArr[i].width, bgStartX + textWidth + boxPadding * 2);\r\n      }\r\n      bgWidth = bgEndX - bgStartX;\r\n      let textX = bgStartX + (bgWidth - textWidth) / 2;\r\n      let textY = opts.tooltip.offset.y;\r\n      context.beginPath();\r\n      context.setFillStyle(hexToRgb(toolTipOption.labelBgColor || config.toolTipBackground, toolTipOption.labelBgOpacity || config.toolTipOpacity));\r\n      context.setStrokeStyle(toolTipOption.labelBgColor || config.toolTipBackground);\r\n      context.setLineWidth(1 * opts.pix);\r\n      context.rect(bgStartX, textY - 0.5 * config.fontSize - boxPadding, bgWidth, config.fontSize + 2 * boxPadding);\r\n      context.closePath();\r\n      context.stroke();\r\n      context.fill();\r\n      context.beginPath();\r\n      context.setFontSize(config.fontSize);\r\n      context.setFillStyle(toolTipOption.labelFontColor || opts.fontColor);\r\n      context.fillText(labelText[i], textX, textY + 0.5 * config.fontSize);\r\n      context.closePath();\r\n      context.stroke();\r\n      if (widthArr[i].position == 'left') {\r\n        tStartLeft -= (widthArr[i].width + opts.yAxis.padding * opts.pix);\r\n      } else {\r\n        tStartRight += widthArr[i].width + opts.yAxis.padding * opts.pix;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction drawToolTipSplitArea(offsetX, opts, config, context, eachSpacing) {\r\n  var toolTipOption = assign({}, {\r\n    activeBgColor: '#000000',\r\n    activeBgOpacity: 0.08,\r\n    activeWidth: eachSpacing\r\n  }, opts.extra.column);\r\n  toolTipOption.activeWidth = toolTipOption.activeWidth > eachSpacing ? eachSpacing : toolTipOption.activeWidth;\r\n  var startY = opts.area[0];\r\n  var endY = opts.height - opts.area[2];\r\n  context.beginPath();\r\n  context.setFillStyle(hexToRgb(toolTipOption.activeBgColor, toolTipOption.activeBgOpacity));\r\n  context.rect(offsetX - toolTipOption.activeWidth / 2, startY, toolTipOption.activeWidth, endY - startY);\r\n  context.closePath();\r\n  context.fill();\r\n  context.setFillStyle(\"#FFFFFF\");\r\n}\r\n\r\nfunction drawBarToolTipSplitArea(offsetX, opts, config, context, eachSpacing) {\r\n  var toolTipOption = assign({}, {\r\n    activeBgColor: '#000000',\r\n    activeBgOpacity: 0.08\r\n  }, opts.extra.bar);\r\n  var startX = opts.area[3];\r\n  var endX = opts.width - opts.area[1];\r\n  context.beginPath();\r\n  context.setFillStyle(hexToRgb(toolTipOption.activeBgColor, toolTipOption.activeBgOpacity));\r\n  context.rect( startX ,offsetX - eachSpacing / 2 ,  endX - startX,eachSpacing);\r\n  context.closePath();\r\n  context.fill();\r\n  context.setFillStyle(\"#FFFFFF\");\r\n}\r\n\r\n\r\nfunction drawToolTip(textList, offset, opts, config, context, eachSpacing, xAxisPoints) {\r\n  var toolTipOption = assign({}, {\r\n    showBox: true,\r\n    showArrow: true,\r\n    showCategory: false,\r\n    bgColor: '#000000',\r\n    bgOpacity: 0.7,\r\n    borderColor: '#000000',\r\n    borderWidth: 0,\r\n    borderRadius: 0,\r\n    borderOpacity: 0.7,\r\n    boxPadding: 3,\r\n    fontColor: '#FFFFFF',\r\n    fontSize: 13,\r\n    lineHeight: 20,\r\n    legendShow: true,\r\n    legendShape: 'auto',\r\n    splitLine: true,\r\n  }, opts.extra.tooltip);\r\n  if(toolTipOption.showCategory==true && opts.categories){\r\n    textList.unshift({text:opts.categories[opts.tooltip.index],color:null})\r\n  }\r\n  var fontSize = toolTipOption.fontSize * opts.pix;\r\n  var lineHeight = toolTipOption.lineHeight * opts.pix;\r\n  var boxPadding = toolTipOption.boxPadding * opts.pix;\r\n  var legendWidth = fontSize;\r\n  var legendMarginRight = 5 * opts.pix;\r\n  if(toolTipOption.legendShow == false){\r\n    legendWidth = 0;\r\n    legendMarginRight = 0;\r\n  }\r\n  var arrowWidth = toolTipOption.showArrow ? 8 * opts.pix : 0;\r\n  var isOverRightBorder = false;\r\n  if (opts.type == 'line' || opts.type == 'mount' || opts.type == 'area' || opts.type == 'candle' || opts.type == 'mix') {\r\n    if (toolTipOption.splitLine == true) {\r\n      drawToolTipSplitLine(opts.tooltip.offset.x, opts, config, context);\r\n    }\r\n  }\r\n  offset = assign({\r\n    x: 0,\r\n    y: 0\r\n  }, offset);\r\n  offset.y -= 8 * opts.pix;\r\n  var textWidth = textList.map(function(item) {\r\n    return measureText(item.text, fontSize, context);\r\n  });\r\n  var toolTipWidth = legendWidth + legendMarginRight + 4 * boxPadding + Math.max.apply(null, textWidth);\r\n  var toolTipHeight = 2 * boxPadding + textList.length * lineHeight;\r\n  if (toolTipOption.showBox == false) {\r\n    return\r\n  }\r\n  // if beyond the right border\r\n  if (offset.x - Math.abs(opts._scrollDistance_ || 0) + arrowWidth + toolTipWidth > opts.width) {\r\n    isOverRightBorder = true;\r\n  }\r\n  if (toolTipHeight + offset.y > opts.height) {\r\n    offset.y = opts.height - toolTipHeight;\r\n  }\r\n  // draw background rect\r\n  context.beginPath();\r\n  context.setFillStyle(hexToRgb(toolTipOption.bgColor, toolTipOption.bgOpacity));\r\n  context.setLineWidth(toolTipOption.borderWidth * opts.pix);\r\n  context.setStrokeStyle(hexToRgb(toolTipOption.borderColor, toolTipOption.borderOpacity));\r\n  var radius = toolTipOption.borderRadius;\r\n  if (isOverRightBorder) {\r\n    // 增加左侧仍然超出的判断\r\n    if(toolTipWidth + arrowWidth > opts.width){\r\n      offset.x = opts.width + Math.abs(opts._scrollDistance_ || 0) + arrowWidth + (toolTipWidth - opts.width)\r\n    }\r\n    if(toolTipWidth > offset.x){\r\n      offset.x = opts.width + Math.abs(opts._scrollDistance_ || 0) + arrowWidth + (toolTipWidth - opts.width)\r\n    }\r\n    if (toolTipOption.showArrow) {\r\n      context.moveTo(offset.x, offset.y + 10 * opts.pix);\r\n      context.lineTo(offset.x - arrowWidth, offset.y + 10 * opts.pix + 5 * opts.pix);\r\n    }\r\n    context.arc(offset.x - arrowWidth - radius, offset.y + toolTipHeight - radius, radius, 0, Math.PI / 2, false);\r\n    context.arc(offset.x - arrowWidth - Math.round(toolTipWidth) + radius, offset.y + toolTipHeight - radius, radius,\r\n      Math.PI / 2, Math.PI, false);\r\n    context.arc(offset.x - arrowWidth - Math.round(toolTipWidth) + radius, offset.y + radius, radius, -Math.PI, -Math.PI / 2, false);\r\n    context.arc(offset.x - arrowWidth - radius, offset.y + radius, radius, -Math.PI / 2, 0, false);\r\n    if (toolTipOption.showArrow) {\r\n      context.lineTo(offset.x - arrowWidth, offset.y + 10 * opts.pix - 5 * opts.pix);\r\n      context.lineTo(offset.x, offset.y + 10 * opts.pix);\r\n    }\r\n  } else {\r\n    if (toolTipOption.showArrow) {\r\n      context.moveTo(offset.x, offset.y + 10 * opts.pix);\r\n      context.lineTo(offset.x + arrowWidth, offset.y + 10 * opts.pix - 5 * opts.pix);\r\n    }\r\n    context.arc(offset.x + arrowWidth + radius, offset.y + radius, radius, -Math.PI, -Math.PI / 2, false);\r\n    context.arc(offset.x + arrowWidth + Math.round(toolTipWidth) - radius, offset.y + radius, radius, -Math.PI / 2, 0,\r\n      false);\r\n    context.arc(offset.x + arrowWidth + Math.round(toolTipWidth) - radius, offset.y + toolTipHeight - radius, radius, 0,\r\n      Math.PI / 2, false);\r\n    context.arc(offset.x + arrowWidth + radius, offset.y + toolTipHeight - radius, radius, Math.PI / 2, Math.PI, false);\r\n    if (toolTipOption.showArrow) {\r\n      context.lineTo(offset.x + arrowWidth, offset.y + 10 * opts.pix + 5 * opts.pix);\r\n      context.lineTo(offset.x, offset.y + 10 * opts.pix);\r\n    }\r\n  }\r\n  context.closePath();\r\n  context.fill();\r\n  if (toolTipOption.borderWidth > 0) {\r\n    context.stroke();\r\n  }\r\n  // draw legend\r\n  if(toolTipOption.legendShow){\r\n    textList.forEach(function(item, index) {\r\n      if (item.color !== null) {\r\n        context.beginPath();\r\n        context.setFillStyle(item.color);\r\n        var startX = offset.x + arrowWidth + 2 * boxPadding;\r\n        var startY = offset.y + (lineHeight - fontSize) / 2 + lineHeight * index + boxPadding + 1;\r\n        if (isOverRightBorder) {\r\n          startX = offset.x - toolTipWidth - arrowWidth + 2 * boxPadding;\r\n        }\r\n        switch (item.legendShape) {\r\n          case 'line':\r\n            context.moveTo(startX, startY + 0.5 * legendWidth - 2 * opts.pix);\r\n            context.fillRect(startX, startY + 0.5 * legendWidth - 2 * opts.pix, legendWidth, 4 * opts.pix);\r\n            break;\r\n          case 'triangle':\r\n            context.moveTo(startX + 7.5 * opts.pix, startY + 0.5 * legendWidth - 5 * opts.pix);\r\n            context.lineTo(startX + 2.5 * opts.pix, startY + 0.5 * legendWidth + 5 * opts.pix);\r\n            context.lineTo(startX + 12.5 * opts.pix, startY + 0.5 * legendWidth + 5 * opts.pix);\r\n            context.lineTo(startX + 7.5 * opts.pix, startY + 0.5 * legendWidth - 5 * opts.pix);\r\n            break;\r\n          case 'diamond':\r\n            context.moveTo(startX + 7.5 * opts.pix, startY + 0.5 * legendWidth - 5 * opts.pix);\r\n            context.lineTo(startX + 2.5 * opts.pix, startY + 0.5 * legendWidth);\r\n            context.lineTo(startX + 7.5 * opts.pix, startY + 0.5 * legendWidth + 5 * opts.pix);\r\n            context.lineTo(startX + 12.5 * opts.pix, startY + 0.5 * legendWidth);\r\n            context.lineTo(startX + 7.5 * opts.pix, startY + 0.5 * legendWidth - 5 * opts.pix);\r\n            break;\r\n          case 'circle':\r\n            context.moveTo(startX + 7.5 * opts.pix, startY + 0.5 * legendWidth);\r\n            context.arc(startX + 7.5 * opts.pix, startY + 0.5 * legendWidth, 5 * opts.pix, 0, 2 * Math.PI);\r\n            break;\r\n          case 'rect':\r\n            context.moveTo(startX, startY + 0.5 * legendWidth - 5 * opts.pix);\r\n            context.fillRect(startX, startY + 0.5 * legendWidth - 5 * opts.pix, 15 * opts.pix, 10 * opts.pix);\r\n            break;\r\n          case 'square':\r\n            context.moveTo(startX + 2 * opts.pix, startY + 0.5 * legendWidth - 5 * opts.pix);\r\n            context.fillRect(startX + 2 * opts.pix, startY + 0.5 * legendWidth - 5 * opts.pix, 10 * opts.pix, 10 * opts.pix);\r\n            break;\r\n          default:\r\n            context.moveTo(startX, startY + 0.5 * legendWidth - 5 * opts.pix);\r\n            context.fillRect(startX, startY + 0.5 * legendWidth - 5 * opts.pix, 15 * opts.pix, 10 * opts.pix);\r\n        }\r\n        context.closePath();\r\n        context.fill();\r\n      }\r\n    });\r\n  }\r\n  \r\n  // draw text list\r\n  textList.forEach(function(item, index) {\r\n    var startX = offset.x + arrowWidth + 2 * boxPadding + legendWidth + legendMarginRight;\r\n    if (isOverRightBorder) {\r\n      startX = offset.x - toolTipWidth - arrowWidth + 2 * boxPadding + legendWidth + legendMarginRight;\r\n    }\r\n    var startY = offset.y + lineHeight * index + (lineHeight - fontSize)/2 - 1 + boxPadding + fontSize;\r\n    context.beginPath();\r\n    context.setFontSize(fontSize);\r\n    context.setTextBaseline('normal');\r\n    context.setFillStyle(toolTipOption.fontColor);\r\n    context.fillText(item.text, startX, startY);\r\n    context.closePath();\r\n    context.stroke();\r\n  });\r\n}\r\n\r\nfunction drawColumnDataPoints(series, opts, config, context) {\r\n  let process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  let xAxisData = opts.chartData.xAxisData,\r\n    xAxisPoints = xAxisData.xAxisPoints,\r\n    eachSpacing = xAxisData.eachSpacing;\r\n  let columnOption = assign({}, {\r\n    type: 'group',\r\n    width: eachSpacing / 2,\r\n    meterBorder: 4,\r\n    meterFillColor: '#FFFFFF',\r\n    barBorderCircle: false,\r\n    barBorderRadius: [],\r\n    seriesGap: 2,\r\n    linearType: 'none',\r\n    linearOpacity: 1,\r\n    customColor: [],\r\n    colorStop: 0,\r\n    labelPosition: 'outside'\r\n  }, opts.extra.column);\r\n  let calPoints = [];\r\n  context.save();\r\n  let leftNum = -2;\r\n  let rightNum = xAxisPoints.length + 2;\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n    leftNum = Math.floor(-opts._scrollDistance_ / eachSpacing) - 2;\r\n    rightNum = leftNum + opts.xAxis.itemCount + 4;\r\n  }\r\n  if (opts.tooltip && opts.tooltip.textList && opts.tooltip.textList.length && process === 1) {\r\n    drawToolTipSplitArea(opts.tooltip.offset.x, opts, config, context, eachSpacing);\r\n  }\r\n  columnOption.customColor = fillCustomColor(columnOption.linearType, columnOption.customColor, series, config);\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    let ranges, minRange, maxRange;\r\n    ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n    minRange = ranges.pop();\r\n    maxRange = ranges.shift();\r\n    \r\n    // 计算0轴坐标\r\n    let spacingValid = opts.height - opts.area[0] - opts.area[2];\r\n    let zeroHeight = spacingValid * (0 - minRange) / (maxRange - minRange);\r\n    let zeroPoints = opts.height - Math.round(zeroHeight) - opts.area[2];\r\n    eachSeries.zeroPoints = zeroPoints;\r\n    var data = eachSeries.data;\r\n    switch (columnOption.type) {\r\n      case 'group':\r\n        var points = getColumnDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, zeroPoints, process);\r\n        var tooltipPoints = getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, seriesIndex, series, process);\r\n        calPoints.push(tooltipPoints);\r\n        points = fixColumeData(points, eachSpacing, series.length, seriesIndex, config, opts);\r\n        for (let i = 0; i < points.length; i++) {\r\n          let item = points[i];\r\n          //fix issues/I27B1N yyoinge & Joeshu\r\n          if (item !== null && i > leftNum && i < rightNum) {\r\n            var startX = item.x - item.width / 2;\r\n            var height = opts.height - item.y - opts.area[2];\r\n            context.beginPath();\r\n            var fillColor = item.color || eachSeries.color\r\n            var strokeColor = item.color || eachSeries.color\r\n            if (columnOption.linearType !== 'none') {\r\n              var grd = context.createLinearGradient(startX, item.y, startX, zeroPoints);\r\n              //透明渐变\r\n              if (columnOption.linearType == 'opacity') {\r\n                grd.addColorStop(0, hexToRgb(fillColor, columnOption.linearOpacity));\r\n                grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n              } else {\r\n                grd.addColorStop(0, hexToRgb(columnOption.customColor[eachSeries.linearIndex], columnOption.linearOpacity));\r\n                grd.addColorStop(columnOption.colorStop, hexToRgb(columnOption.customColor[eachSeries.linearIndex],columnOption.linearOpacity));\r\n                grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n              }\r\n              fillColor = grd\r\n            }\r\n            // 圆角边框\r\n            if ((columnOption.barBorderRadius && columnOption.barBorderRadius.length === 4) || columnOption.barBorderCircle === true) {\r\n              const left = startX;\r\n              const top = item.y > zeroPoints ? zeroPoints : item.y;\r\n              const width = item.width;\r\n              const height = Math.abs(zeroPoints - item.y);\r\n              if (columnOption.barBorderCircle) {\r\n                columnOption.barBorderRadius = [width / 2, width / 2, 0, 0];\r\n              }\r\n              if(item.y > zeroPoints){\r\n                columnOption.barBorderRadius = [0, 0,width / 2, width / 2];\r\n              }\r\n              let [r0, r1, r2, r3] = columnOption.barBorderRadius;\r\n              let minRadius = Math.min(width/2,height/2);\r\n              r0 = r0 > minRadius ? minRadius : r0;\r\n              r1 = r1 > minRadius ? minRadius : r1;\r\n              r2 = r2 > minRadius ? minRadius : r2;\r\n              r3 = r3 > minRadius ? minRadius : r3;\r\n              r0 = r0 < 0 ? 0 : r0;\r\n              r1 = r1 < 0 ? 0 : r1;\r\n              r2 = r2 < 0 ? 0 : r2;\r\n              r3 = r3 < 0 ? 0 : r3;\r\n              context.arc(left + r0, top + r0, r0, -Math.PI, -Math.PI / 2);\r\n              context.arc(left + width - r1, top + r1, r1, -Math.PI / 2, 0);\r\n              context.arc(left + width - r2, top + height - r2, r2, 0, Math.PI / 2);\r\n              context.arc(left + r3, top + height - r3, r3, Math.PI / 2, Math.PI);\r\n            } else {\r\n              context.moveTo(startX, item.y);\r\n              context.lineTo(startX + item.width, item.y);\r\n              context.lineTo(startX + item.width, zeroPoints);\r\n              context.lineTo(startX, zeroPoints);\r\n              context.lineTo(startX, item.y);\r\n              context.setLineWidth(1)\r\n              context.setStrokeStyle(strokeColor);\r\n            }\r\n            context.setFillStyle(fillColor);\r\n            context.closePath();\r\n            //context.stroke();\r\n            context.fill();\r\n          }\r\n        };\r\n        break;\r\n      case 'stack':\r\n        // 绘制堆叠数据图\r\n        var points = getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, seriesIndex, series, process);\r\n        calPoints.push(points);\r\n        points = fixColumeStackData(points, eachSpacing, series.length, seriesIndex, config, opts, series);\r\n        for (let i = 0; i < points.length; i++) {\r\n          let item = points[i];\r\n          if (item !== null && i > leftNum && i < rightNum) {\r\n            context.beginPath();\r\n            var fillColor = item.color || eachSeries.color;\r\n            var startX = item.x - item.width / 2 + 1;\r\n            var height = opts.height - item.y - opts.area[2];\r\n            var height0 = opts.height - item.y0 - opts.area[2];\r\n            if (seriesIndex > 0) {\r\n              height -= height0;\r\n            }\r\n            context.setFillStyle(fillColor);\r\n            context.moveTo(startX, item.y);\r\n            context.fillRect(startX, item.y, item.width, height);\r\n            context.closePath();\r\n            context.fill();\r\n          }\r\n        };\r\n        break;\r\n      case 'meter':\r\n        // 绘制温度计数据图\r\n        var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n        calPoints.push(points);\r\n        points = fixColumeMeterData(points, eachSpacing, series.length, seriesIndex, config, opts, columnOption.meterBorder);\r\n          for (let i = 0; i < points.length; i++) {\r\n            let item = points[i];\r\n            if (item !== null && i > leftNum && i < rightNum) {\r\n              //画背景颜色\r\n              context.beginPath();\r\n              if (seriesIndex == 0 && columnOption.meterBorder > 0) {\r\n                context.setStrokeStyle(eachSeries.color);\r\n                context.setLineWidth(columnOption.meterBorder * opts.pix);\r\n              }\r\n              if(seriesIndex == 0){\r\n                context.setFillStyle(columnOption.meterFillColor);\r\n              }else{\r\n                context.setFillStyle(item.color || eachSeries.color);\r\n              }\r\n              var startX = item.x - item.width / 2;\r\n              var height = opts.height - item.y - opts.area[2];\r\n              if ((columnOption.barBorderRadius && columnOption.barBorderRadius.length === 4) || columnOption.barBorderCircle === true) {\r\n                const left = startX;\r\n                const top = item.y;\r\n                const width = item.width;\r\n                const height = zeroPoints - item.y;\r\n                if (columnOption.barBorderCircle) {\r\n                  columnOption.barBorderRadius = [width / 2, width / 2, 0, 0];\r\n                }\r\n                let [r0, r1, r2, r3] = columnOption.barBorderRadius;\r\n                let minRadius = Math.min(width/2,height/2);\r\n                r0 = r0 > minRadius ? minRadius : r0;\r\n                r1 = r1 > minRadius ? minRadius : r1;\r\n                r2 = r2 > minRadius ? minRadius : r2;\r\n                r3 = r3 > minRadius ? minRadius : r3;\r\n                r0 = r0 < 0 ? 0 : r0;\r\n                r1 = r1 < 0 ? 0 : r1;\r\n                r2 = r2 < 0 ? 0 : r2;\r\n                r3 = r3 < 0 ? 0 : r3;\r\n                context.arc(left + r0, top + r0, r0, -Math.PI, -Math.PI / 2);\r\n                context.arc(left + width - r1, top + r1, r1, -Math.PI / 2, 0);\r\n                context.arc(left + width - r2, top + height - r2, r2, 0, Math.PI / 2);\r\n                context.arc(left + r3, top + height - r3, r3, Math.PI / 2, Math.PI);\r\n                context.fill();\r\n              }else{\r\n                context.moveTo(startX, item.y);\r\n                context.lineTo(startX + item.width, item.y);\r\n                context.lineTo(startX + item.width, zeroPoints);\r\n                context.lineTo(startX, zeroPoints);\r\n                context.lineTo(startX, item.y);\r\n                context.fill();\r\n              }\r\n              if (seriesIndex == 0 && columnOption.meterBorder > 0) {\r\n                context.closePath();\r\n                context.stroke();\r\n              }\r\n            }\r\n          }\r\n        break;\r\n    }\r\n  });\r\n\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    series.forEach(function(eachSeries, seriesIndex) {\r\n      let ranges, minRange, maxRange;\r\n      ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n      minRange = ranges.pop();\r\n      maxRange = ranges.shift();\r\n      var data = eachSeries.data;\r\n      switch (columnOption.type) {\r\n        case 'group':\r\n          var points = getColumnDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n          points = fixColumeData(points, eachSpacing, series.length, seriesIndex, config, opts);\r\n          drawColumePointText(points, eachSeries, config, context, opts);\r\n          break;\r\n        case 'stack':\r\n          var points = getStackDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, seriesIndex, series, process);\r\n          drawColumePointText(points, eachSeries, config, context, opts);\r\n          break;\r\n        case 'meter':\r\n          var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n          drawColumePointText(points, eachSeries, config, context, opts);\r\n          break;\r\n      }\r\n    });\r\n  }\r\n  context.restore();\r\n  return {\r\n    xAxisPoints: xAxisPoints,\r\n    calPoints: calPoints,\r\n    eachSpacing: eachSpacing\r\n  };\r\n}\r\n\r\nfunction drawMountDataPoints(series, opts, config, context) {\r\n  let process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  let xAxisData = opts.chartData.xAxisData,\r\n    xAxisPoints = xAxisData.xAxisPoints,\r\n    eachSpacing = xAxisData.eachSpacing;\r\n  let mountOption = assign({}, {\r\n    type: 'mount',\r\n    widthRatio: 1,\r\n    borderWidth: 1,\r\n    barBorderCircle: false,\r\n    barBorderRadius: [],\r\n    linearType: 'none',\r\n    linearOpacity: 1,\r\n    customColor: [],\r\n    colorStop: 0,\r\n  }, opts.extra.mount);\r\n  mountOption.widthRatio = mountOption.widthRatio <= 0 ? 0 : mountOption.widthRatio;\r\n  mountOption.widthRatio = mountOption.widthRatio >= 2 ? 2 : mountOption.widthRatio;\r\n  let calPoints = [];\r\n  context.save();\r\n  let leftNum = -2;\r\n  let rightNum = xAxisPoints.length + 2;\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n    leftNum = Math.floor(-opts._scrollDistance_ / eachSpacing) - 2;\r\n    rightNum = leftNum + opts.xAxis.itemCount + 4;\r\n  }\r\n  mountOption.customColor = fillCustomColor(mountOption.linearType, mountOption.customColor, series, config);\r\n    let ranges, minRange, maxRange;\r\n    ranges = [].concat(opts.chartData.yAxisData.ranges[0]);\r\n    minRange = ranges.pop();\r\n    maxRange = ranges.shift();\r\n    \r\n    // 计算0轴坐标\r\n    let spacingValid = opts.height - opts.area[0] - opts.area[2];\r\n    let zeroHeight = spacingValid * (0 - minRange) / (maxRange - minRange);\r\n    let zeroPoints = opts.height - Math.round(zeroHeight) - opts.area[2];\r\n    \r\n    var points = getMountDataPoints(series, minRange, maxRange, xAxisPoints, eachSpacing, opts, mountOption, zeroPoints, process);\r\n    switch (mountOption.type) {\r\n      case 'bar':\r\n        for (let i = 0; i < points.length; i++) {\r\n          let item = points[i];\r\n          if (item !== null && i > leftNum && i < rightNum) {\r\n            var startX = item.x - eachSpacing*mountOption.widthRatio/2;\r\n            var height = opts.height - item.y - opts.area[2];\r\n            context.beginPath();\r\n            var fillColor = item.color || series[i].color\r\n            var strokeColor = item.color || series[i].color\r\n            if (mountOption.linearType !== 'none') {\r\n              var grd = context.createLinearGradient(startX, item.y, startX, zeroPoints);\r\n              //透明渐变\r\n              if (mountOption.linearType == 'opacity') {\r\n                grd.addColorStop(0, hexToRgb(fillColor, mountOption.linearOpacity));\r\n                grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n              } else {\r\n                grd.addColorStop(0, hexToRgb(mountOption.customColor[series[i].linearIndex], mountOption.linearOpacity));\r\n                grd.addColorStop(mountOption.colorStop, hexToRgb(mountOption.customColor[series[i].linearIndex],mountOption.linearOpacity));\r\n                grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n              }\r\n              fillColor = grd\r\n            }\r\n            // 圆角边框\r\n            if ((mountOption.barBorderRadius && mountOption.barBorderRadius.length === 4) || mountOption.barBorderCircle === true) {\r\n              const left = startX;\r\n              const top = item.y > zeroPoints ? zeroPoints : item.y;\r\n              const width = item.width;\r\n              const height = Math.abs(zeroPoints - item.y);\r\n              if (mountOption.barBorderCircle) {\r\n                mountOption.barBorderRadius = [width / 2, width / 2, 0, 0];\r\n              }\r\n              if(item.y > zeroPoints){\r\n                mountOption.barBorderRadius = [0, 0,width / 2, width / 2];\r\n              }\r\n              let [r0, r1, r2, r3] = mountOption.barBorderRadius;\r\n              let minRadius = Math.min(width/2,height/2);\r\n              r0 = r0 > minRadius ? minRadius : r0;\r\n              r1 = r1 > minRadius ? minRadius : r1;\r\n              r2 = r2 > minRadius ? minRadius : r2;\r\n              r3 = r3 > minRadius ? minRadius : r3;\r\n              r0 = r0 < 0 ? 0 : r0;\r\n              r1 = r1 < 0 ? 0 : r1;\r\n              r2 = r2 < 0 ? 0 : r2;\r\n              r3 = r3 < 0 ? 0 : r3;\r\n              context.arc(left + r0, top + r0, r0, -Math.PI, -Math.PI / 2);\r\n              context.arc(left + width - r1, top + r1, r1, -Math.PI / 2, 0);\r\n              context.arc(left + width - r2, top + height - r2, r2, 0, Math.PI / 2);\r\n              context.arc(left + r3, top + height - r3, r3, Math.PI / 2, Math.PI);\r\n            } else {\r\n              context.moveTo(startX, item.y);\r\n              context.lineTo(startX + item.width, item.y);\r\n              context.lineTo(startX + item.width, zeroPoints);\r\n              context.lineTo(startX, zeroPoints);\r\n              context.lineTo(startX, item.y);\r\n            }\r\n            context.setStrokeStyle(strokeColor);\r\n            context.setFillStyle(fillColor);\r\n            if(mountOption.borderWidth > 0){\r\n              context.setLineWidth(mountOption.borderWidth * opts.pix);\r\n              context.closePath();\r\n              context.stroke();\r\n            }\r\n            context.fill();\r\n          }\r\n        };\r\n        break;\r\n      case 'triangle':\r\n        for (let i = 0; i < points.length; i++) {\r\n          let item = points[i];\r\n          if (item !== null && i > leftNum && i < rightNum) {\r\n            var startX = item.x - eachSpacing*mountOption.widthRatio/2;\r\n            var height = opts.height - item.y - opts.area[2];\r\n            context.beginPath();\r\n            var fillColor = item.color || series[i].color\r\n            var strokeColor = item.color || series[i].color\r\n            if (mountOption.linearType !== 'none') {\r\n              var grd = context.createLinearGradient(startX, item.y, startX, zeroPoints);\r\n              //透明渐变\r\n              if (mountOption.linearType == 'opacity') {\r\n                grd.addColorStop(0, hexToRgb(fillColor, mountOption.linearOpacity));\r\n                grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n              } else {\r\n                grd.addColorStop(0, hexToRgb(mountOption.customColor[series[i].linearIndex], mountOption.linearOpacity));\r\n                grd.addColorStop(mountOption.colorStop, hexToRgb(mountOption.customColor[series[i].linearIndex],mountOption.linearOpacity));\r\n                grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n              }\r\n              fillColor = grd\r\n            }\r\n            context.moveTo(startX, zeroPoints);\r\n            context.lineTo(item.x, item.y);\r\n            context.lineTo(startX + item.width, zeroPoints);\r\n            context.setStrokeStyle(strokeColor);\r\n            context.setFillStyle(fillColor);\r\n            if(mountOption.borderWidth > 0){\r\n              context.setLineWidth(mountOption.borderWidth * opts.pix);\r\n              context.stroke();\r\n            }\r\n            context.fill();\r\n          }\r\n        };\r\n        break;\r\n      case 'mount':\r\n        for (let i = 0; i < points.length; i++) {\r\n          let item = points[i];\r\n          if (item !== null && i > leftNum && i < rightNum) {\r\n            var startX = item.x - eachSpacing*mountOption.widthRatio/2;\r\n            var height = opts.height - item.y - opts.area[2];\r\n            context.beginPath();\r\n            var fillColor = item.color || series[i].color\r\n            var strokeColor = item.color || series[i].color\r\n            if (mountOption.linearType !== 'none') {\r\n              var grd = context.createLinearGradient(startX, item.y, startX, zeroPoints);\r\n              //透明渐变\r\n              if (mountOption.linearType == 'opacity') {\r\n                grd.addColorStop(0, hexToRgb(fillColor, mountOption.linearOpacity));\r\n                grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n              } else {\r\n                grd.addColorStop(0, hexToRgb(mountOption.customColor[series[i].linearIndex], mountOption.linearOpacity));\r\n                grd.addColorStop(mountOption.colorStop, hexToRgb(mountOption.customColor[series[i].linearIndex],mountOption.linearOpacity));\r\n                grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n              }\r\n              fillColor = grd\r\n            }\r\n            context.moveTo(startX, zeroPoints);\r\n            context.bezierCurveTo(item.x - item.width/4, zeroPoints, item.x - item.width/4, item.y, item.x, item.y);\r\n            context.bezierCurveTo(item.x + item.width/4, item.y, item.x + item.width/4, zeroPoints, startX + item.width, zeroPoints);\r\n            context.setStrokeStyle(strokeColor);\r\n            context.setFillStyle(fillColor);\r\n            if(mountOption.borderWidth > 0){\r\n              context.setLineWidth(mountOption.borderWidth * opts.pix);\r\n              context.stroke();\r\n            }\r\n            context.fill();\r\n          }\r\n        };\r\n        break;\r\n      case 'sharp':\r\n        for (let i = 0; i < points.length; i++) {\r\n          let item = points[i];\r\n          if (item !== null && i > leftNum && i < rightNum) {\r\n            var startX = item.x - eachSpacing*mountOption.widthRatio/2;\r\n            var height = opts.height - item.y - opts.area[2];\r\n            context.beginPath();\r\n            var fillColor = item.color || series[i].color\r\n            var strokeColor = item.color || series[i].color\r\n            if (mountOption.linearType !== 'none') {\r\n              var grd = context.createLinearGradient(startX, item.y, startX, zeroPoints);\r\n              //透明渐变\r\n              if (mountOption.linearType == 'opacity') {\r\n                grd.addColorStop(0, hexToRgb(fillColor, mountOption.linearOpacity));\r\n                grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n              } else {\r\n                grd.addColorStop(0, hexToRgb(mountOption.customColor[series[i].linearIndex], mountOption.linearOpacity));\r\n                grd.addColorStop(mountOption.colorStop, hexToRgb(mountOption.customColor[series[i].linearIndex],mountOption.linearOpacity));\r\n                grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n              }\r\n              fillColor = grd\r\n            }\r\n            context.moveTo(startX, zeroPoints);\r\n            context.quadraticCurveTo(item.x - 0, zeroPoints - height/4, item.x, item.y);\r\n            context.quadraticCurveTo(item.x + 0, zeroPoints - height/4, startX + item.width, zeroPoints)\r\n            context.setStrokeStyle(strokeColor);\r\n            context.setFillStyle(fillColor);\r\n            if(mountOption.borderWidth > 0){\r\n              context.setLineWidth(mountOption.borderWidth * opts.pix);\r\n              context.stroke();\r\n            }\r\n            context.fill();\r\n          }\r\n        };\r\n        break;\r\n    }\r\n\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    let ranges, minRange, maxRange;\r\n    ranges = [].concat(opts.chartData.yAxisData.ranges[0]);\r\n    minRange = ranges.pop();\r\n    maxRange = ranges.shift();\r\n    var points = getMountDataPoints(series, minRange, maxRange, xAxisPoints, eachSpacing, opts, mountOption, zeroPoints, process);\r\n    drawMountPointText(points, series, config, context, opts, zeroPoints);\r\n  }\r\n  context.restore();\r\n  return {\r\n    xAxisPoints: xAxisPoints,\r\n    calPoints: points,\r\n    eachSpacing: eachSpacing\r\n  };\r\n}\r\n\r\nfunction drawBarDataPoints(series, opts, config, context) {\r\n  let process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  let yAxisPoints = [];\r\n  let eachSpacing = (opts.height - opts.area[0] - opts.area[2])/opts.categories.length;\r\n  for (let i = 0; i < opts.categories.length; i++) {\r\n    yAxisPoints.push(opts.area[0] + eachSpacing / 2 + eachSpacing * i);\r\n  }\r\n  let columnOption = assign({}, {\r\n    type: 'group',\r\n    width: eachSpacing / 2,\r\n    meterBorder: 4,\r\n    meterFillColor: '#FFFFFF',\r\n    barBorderCircle: false,\r\n    barBorderRadius: [],\r\n    seriesGap: 2,\r\n    linearType: 'none',\r\n    linearOpacity: 1,\r\n    customColor: [],\r\n    colorStop: 0,\r\n  }, opts.extra.bar);\r\n  let calPoints = [];\r\n  context.save();\r\n  let leftNum = -2;\r\n  let rightNum = yAxisPoints.length + 2;\r\n  if (opts.tooltip && opts.tooltip.textList && opts.tooltip.textList.length && process === 1) {\r\n    drawBarToolTipSplitArea(opts.tooltip.offset.y, opts, config, context, eachSpacing);\r\n  }\r\n  columnOption.customColor = fillCustomColor(columnOption.linearType, columnOption.customColor, series, config);\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    let ranges, minRange, maxRange;\r\n    ranges = [].concat(opts.chartData.xAxisData.ranges);\r\n    maxRange = ranges.pop();\r\n    minRange = ranges.shift();\r\n    var data = eachSeries.data;\r\n    switch (columnOption.type) {\r\n      case 'group':\r\n        var points = getBarDataPoints(data, minRange, maxRange, yAxisPoints, eachSpacing, opts, config, process);\r\n        var tooltipPoints = getBarStackDataPoints(data, minRange, maxRange, yAxisPoints, eachSpacing, opts, config, seriesIndex, series, process);\r\n        calPoints.push(tooltipPoints);\r\n        points = fixBarData(points, eachSpacing, series.length, seriesIndex, config, opts);\r\n        for (let i = 0; i < points.length; i++) {\r\n          let item = points[i];\r\n          //fix issues/I27B1N yyoinge & Joeshu\r\n          if (item !== null && i > leftNum && i < rightNum) {\r\n            //var startX = item.x - item.width / 2;\r\n            var startX = opts.area[3];\r\n            var startY = item.y - item.width / 2;\r\n            var height = item.height;\r\n            context.beginPath();\r\n            var fillColor = item.color || eachSeries.color\r\n            var strokeColor = item.color || eachSeries.color\r\n            if (columnOption.linearType !== 'none') {\r\n              var grd = context.createLinearGradient(startX, item.y, item.x, item.y);\r\n              //透明渐变\r\n              if (columnOption.linearType == 'opacity') {\r\n                grd.addColorStop(0, hexToRgb(fillColor, columnOption.linearOpacity));\r\n                grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n              } else {\r\n                grd.addColorStop(0, hexToRgb(columnOption.customColor[eachSeries.linearIndex], columnOption.linearOpacity));\r\n                grd.addColorStop(columnOption.colorStop, hexToRgb(columnOption.customColor[eachSeries.linearIndex],columnOption.linearOpacity));\r\n                grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n              }\r\n              fillColor = grd\r\n            }\r\n            // 圆角边框\r\n            if ((columnOption.barBorderRadius && columnOption.barBorderRadius.length === 4) || columnOption.barBorderCircle === true) {\r\n              const left = startX;\r\n              const width = item.width;\r\n              const top = item.y - item.width / 2;\r\n              const height = item.height;\r\n              if (columnOption.barBorderCircle) {\r\n                columnOption.barBorderRadius = [width / 2, width / 2, 0, 0];\r\n              }\r\n              let [r0, r1, r2, r3] = columnOption.barBorderRadius;\r\n              let minRadius = Math.min(width/2,height/2);\r\n              r0 = r0 > minRadius ? minRadius : r0;\r\n              r1 = r1 > minRadius ? minRadius : r1;\r\n              r2 = r2 > minRadius ? minRadius : r2;\r\n              r3 = r3 > minRadius ? minRadius : r3;\r\n              r0 = r0 < 0 ? 0 : r0;\r\n              r1 = r1 < 0 ? 0 : r1;\r\n              r2 = r2 < 0 ? 0 : r2;\r\n              r3 = r3 < 0 ? 0 : r3;\r\n              \r\n              context.arc(left + r3, top + r3, r3, -Math.PI, -Math.PI / 2);\r\n              context.arc(item.x - r0, top + r0, r0, -Math.PI / 2, 0);\r\n              context.arc(item.x - r1, top + width - r1, r1, 0, Math.PI / 2);\r\n              context.arc(left + r2, top + width - r2, r2, Math.PI / 2, Math.PI);\r\n            } else {\r\n              context.moveTo(startX, startY);\r\n              context.lineTo(item.x, startY);\r\n              context.lineTo(item.x, startY + item.width);\r\n              context.lineTo(startX, startY + item.width);\r\n              context.lineTo(startX, startY);\r\n              context.setLineWidth(1)\r\n              context.setStrokeStyle(strokeColor);\r\n            }\r\n            context.setFillStyle(fillColor);\r\n            context.closePath();\r\n            //context.stroke();\r\n            context.fill();\r\n          }\r\n        };\r\n        break;\r\n      case 'stack':\r\n        // 绘制堆叠数据图\r\n        var points = getBarStackDataPoints(data, minRange, maxRange, yAxisPoints, eachSpacing, opts, config, seriesIndex, series, process);\r\n        calPoints.push(points);\r\n        points = fixBarStackData(points, eachSpacing, series.length, seriesIndex, config, opts, series);\r\n        for (let i = 0; i < points.length; i++) {\r\n          let item = points[i];\r\n          if (item !== null && i > leftNum && i < rightNum) {\r\n            context.beginPath();\r\n            var fillColor = item.color || eachSeries.color;\r\n            var startX = item.x0;\r\n            context.setFillStyle(fillColor);\r\n            context.moveTo(startX, item.y - item.width/2);\r\n            context.fillRect(startX, item.y - item.width/2, item.height , item.width);\r\n            context.closePath();\r\n            context.fill();\r\n          }\r\n        };\r\n        break;\r\n    }\r\n  });\r\n\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    series.forEach(function(eachSeries, seriesIndex) {\r\n      let ranges, minRange, maxRange;\r\n      ranges = [].concat(opts.chartData.xAxisData.ranges);\r\n      maxRange = ranges.pop();\r\n      minRange = ranges.shift();\r\n      var data = eachSeries.data;\r\n      switch (columnOption.type) {\r\n        case 'group':\r\n          var points = getBarDataPoints(data, minRange, maxRange, yAxisPoints, eachSpacing, opts, config, process);\r\n          points = fixBarData(points, eachSpacing, series.length, seriesIndex, config, opts);\r\n          drawBarPointText(points, eachSeries, config, context, opts);\r\n          break;\r\n        case 'stack':\r\n          var points = getBarStackDataPoints(data, minRange, maxRange, yAxisPoints, eachSpacing, opts, config, seriesIndex, series, process);\r\n          drawBarPointText(points, eachSeries, config, context, opts);\r\n          break;\r\n      }\r\n    });\r\n  }\r\n  return {\r\n    yAxisPoints: yAxisPoints,\r\n    calPoints: calPoints,\r\n    eachSpacing: eachSpacing\r\n  };\r\n}\r\n\r\nfunction drawCandleDataPoints(series, seriesMA, opts, config, context) {\r\n  var process = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\r\n  var candleOption = assign({}, {\r\n    color: {},\r\n    average: {}\r\n  }, opts.extra.candle);\r\n  candleOption.color = assign({}, {\r\n    upLine: '#f04864',\r\n    upFill: '#f04864',\r\n    downLine: '#2fc25b',\r\n    downFill: '#2fc25b'\r\n  }, candleOption.color);\r\n  candleOption.average = assign({}, {\r\n    show: false,\r\n    name: [],\r\n    day: [],\r\n    color: config.color\r\n  }, candleOption.average);\r\n  opts.extra.candle = candleOption;\r\n  let xAxisData = opts.chartData.xAxisData,\r\n    xAxisPoints = xAxisData.xAxisPoints,\r\n    eachSpacing = xAxisData.eachSpacing;\r\n  let calPoints = [];\r\n  context.save();\r\n  let leftNum = -2;\r\n  let rightNum = xAxisPoints.length + 2;\r\n  let leftSpace = 0;\r\n  let rightSpace = opts.width + eachSpacing;\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n    leftNum = Math.floor(-opts._scrollDistance_ / eachSpacing) - 2;\r\n    rightNum = leftNum + opts.xAxis.itemCount + 4;\r\n    leftSpace = -opts._scrollDistance_ - eachSpacing * 2 + opts.area[3];\r\n    rightSpace = leftSpace + (opts.xAxis.itemCount + 4) * eachSpacing;\r\n  }\r\n  //画均线\r\n  if (candleOption.average.show || seriesMA) { //Merge pull request !12 from 邱贵翔\r\n    seriesMA.forEach(function(eachSeries, seriesIndex) {\r\n      let ranges, minRange, maxRange;\r\n      ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n      minRange = ranges.pop();\r\n      maxRange = ranges.shift();\r\n      var data = eachSeries.data;\r\n      var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n      var splitPointList = splitPoints(points,eachSeries);\r\n      for (let i = 0; i < splitPointList.length; i++) {\r\n        let points = splitPointList[i];\r\n        context.beginPath();\r\n        context.setStrokeStyle(eachSeries.color);\r\n        context.setLineWidth(1);\r\n        if (points.length === 1) {\r\n          context.moveTo(points[0].x, points[0].y);\r\n          context.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\r\n        } else {\r\n          context.moveTo(points[0].x, points[0].y);\r\n          let startPoint = 0;\r\n          for (let j = 0; j < points.length; j++) {\r\n            let item = points[j];\r\n            if (startPoint == 0 && item.x > leftSpace) {\r\n              context.moveTo(item.x, item.y);\r\n              startPoint = 1;\r\n            }\r\n            if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n              var ctrlPoint = createCurveControlPoints(points, j - 1);\r\n              context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y, item.x,\r\n                item.y);\r\n            }\r\n          }\r\n          context.moveTo(points[0].x, points[0].y);\r\n        }\r\n        context.closePath();\r\n        context.stroke();\r\n      }\r\n    });\r\n  }\r\n  //画K线\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    let ranges, minRange, maxRange;\r\n    ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n    minRange = ranges.pop();\r\n    maxRange = ranges.shift();\r\n    var data = eachSeries.data;\r\n    var points = getCandleDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n    calPoints.push(points);\r\n    var splitPointList = splitPoints(points,eachSeries);\r\n    for (let i = 0; i < splitPointList[0].length; i++) {\r\n      if (i > leftNum && i < rightNum) {\r\n        let item = splitPointList[0][i];\r\n        context.beginPath();\r\n        //如果上涨\r\n        if (data[i][1] - data[i][0] > 0) {\r\n          context.setStrokeStyle(candleOption.color.upLine);\r\n          context.setFillStyle(candleOption.color.upFill);\r\n          context.setLineWidth(1 * opts.pix);\r\n          context.moveTo(item[3].x, item[3].y); //顶点\r\n          context.lineTo(item[1].x, item[1].y); //收盘中间点\r\n          context.lineTo(item[1].x - eachSpacing / 4, item[1].y); //收盘左侧点\r\n          context.lineTo(item[0].x - eachSpacing / 4, item[0].y); //开盘左侧点\r\n          context.lineTo(item[0].x, item[0].y); //开盘中间点\r\n          context.lineTo(item[2].x, item[2].y); //底点\r\n          context.lineTo(item[0].x, item[0].y); //开盘中间点\r\n          context.lineTo(item[0].x + eachSpacing / 4, item[0].y); //开盘右侧点\r\n          context.lineTo(item[1].x + eachSpacing / 4, item[1].y); //收盘右侧点\r\n          context.lineTo(item[1].x, item[1].y); //收盘中间点\r\n          context.moveTo(item[3].x, item[3].y); //顶点\r\n        } else {\r\n          context.setStrokeStyle(candleOption.color.downLine);\r\n          context.setFillStyle(candleOption.color.downFill);\r\n          context.setLineWidth(1 * opts.pix);\r\n          context.moveTo(item[3].x, item[3].y); //顶点\r\n          context.lineTo(item[0].x, item[0].y); //开盘中间点\r\n          context.lineTo(item[0].x - eachSpacing / 4, item[0].y); //开盘左侧点\r\n          context.lineTo(item[1].x - eachSpacing / 4, item[1].y); //收盘左侧点\r\n          context.lineTo(item[1].x, item[1].y); //收盘中间点\r\n          context.lineTo(item[2].x, item[2].y); //底点\r\n          context.lineTo(item[1].x, item[1].y); //收盘中间点\r\n          context.lineTo(item[1].x + eachSpacing / 4, item[1].y); //收盘右侧点\r\n          context.lineTo(item[0].x + eachSpacing / 4, item[0].y); //开盘右侧点\r\n          context.lineTo(item[0].x, item[0].y); //开盘中间点\r\n          context.moveTo(item[3].x, item[3].y); //顶点\r\n        }\r\n        context.closePath();\r\n        context.fill();\r\n        context.stroke();\r\n      }\r\n    }\r\n  });\r\n  context.restore();\r\n  return {\r\n    xAxisPoints: xAxisPoints,\r\n    calPoints: calPoints,\r\n    eachSpacing: eachSpacing\r\n  };\r\n}\r\n\r\nfunction drawAreaDataPoints(series, opts, config, context) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  var areaOption = assign({}, {\r\n    type: 'straight',\r\n    opacity: 0.2,\r\n    addLine: false,\r\n    width: 2,\r\n    gradient: false,\r\n    activeType: 'none'\r\n  }, opts.extra.area);\r\n  let xAxisData = opts.chartData.xAxisData,\r\n    xAxisPoints = xAxisData.xAxisPoints,\r\n    eachSpacing = xAxisData.eachSpacing;\r\n  let endY = opts.height - opts.area[2];\r\n  let calPoints = [];\r\n  context.save();\r\n  let leftSpace = 0;\r\n  let rightSpace = opts.width + eachSpacing;\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n    leftSpace = -opts._scrollDistance_ - eachSpacing * 2 + opts.area[3];\r\n    rightSpace = leftSpace + (opts.xAxis.itemCount + 4) * eachSpacing;\r\n  }\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    let ranges, minRange, maxRange;\r\n    ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n    minRange = ranges.pop();\r\n    maxRange = ranges.shift();\r\n    let data = eachSeries.data;\r\n    let points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n    calPoints.push(points);\r\n    let splitPointList = splitPoints(points,eachSeries);\r\n    for (let i = 0; i < splitPointList.length; i++) {\r\n      let points = splitPointList[i];\r\n      // 绘制区域数\r\n      context.beginPath();\r\n      context.setStrokeStyle(hexToRgb(eachSeries.color, areaOption.opacity));\r\n      if (areaOption.gradient) {\r\n        let gradient = context.createLinearGradient(0, opts.area[0], 0, opts.height - opts.area[2]);\r\n        gradient.addColorStop('0', hexToRgb(eachSeries.color, areaOption.opacity));\r\n        gradient.addColorStop('1.0', hexToRgb(\"#FFFFFF\", 0.1));\r\n        context.setFillStyle(gradient);\r\n      } else {\r\n        context.setFillStyle(hexToRgb(eachSeries.color, areaOption.opacity));\r\n      }\r\n      context.setLineWidth(areaOption.width * opts.pix);\r\n      if (points.length > 1) {\r\n        let firstPoint = points[0];\r\n        let lastPoint = points[points.length - 1];\r\n        context.moveTo(firstPoint.x, firstPoint.y);\r\n        let startPoint = 0;\r\n        if (areaOption.type === 'curve') {\r\n          for (let j = 0; j < points.length; j++) {\r\n            let item = points[j];\r\n            if (startPoint == 0 && item.x > leftSpace) {\r\n              context.moveTo(item.x, item.y);\r\n              startPoint = 1;\r\n            }\r\n            if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n              let ctrlPoint = createCurveControlPoints(points, j - 1);\r\n              context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y, item.x, item.y);\r\n            }\r\n          };\r\n        } \r\n        if (areaOption.type === 'straight') {\r\n          for (let j = 0; j < points.length; j++) {\r\n            let item = points[j];\r\n            if (startPoint == 0 && item.x > leftSpace) {\r\n              context.moveTo(item.x, item.y);\r\n              startPoint = 1;\r\n            }\r\n            if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n              context.lineTo(item.x, item.y);\r\n            }\r\n          };\r\n        }\r\n        if (areaOption.type === 'step') {\r\n          for (let j = 0; j < points.length; j++) {\r\n            let item = points[j];\r\n            if (startPoint == 0 && item.x > leftSpace) {\r\n              context.moveTo(item.x, item.y);\r\n              startPoint = 1;\r\n            }\r\n            if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n              context.lineTo(item.x, points[j - 1].y);\r\n              context.lineTo(item.x, item.y);\r\n            }\r\n          };\r\n        }\r\n        context.lineTo(lastPoint.x, endY);\r\n        context.lineTo(firstPoint.x, endY);\r\n        context.lineTo(firstPoint.x, firstPoint.y);\r\n      } else {\r\n        let item = points[0];\r\n        context.moveTo(item.x - eachSpacing / 2, item.y);\r\n        // context.lineTo(item.x + eachSpacing / 2, item.y);\r\n        // context.lineTo(item.x + eachSpacing / 2, endY);\r\n        // context.lineTo(item.x - eachSpacing / 2, endY);\r\n        // context.moveTo(item.x - eachSpacing / 2, item.y);\r\n      }\r\n      context.closePath();\r\n      context.fill();\r\n      //画连线\r\n      if (areaOption.addLine) {\r\n        if (eachSeries.lineType == 'dash') {\r\n          let dashLength = eachSeries.dashLength ? eachSeries.dashLength : 8;\r\n          dashLength *= opts.pix;\r\n          context.setLineDash([dashLength, dashLength]);\r\n        }\r\n        context.beginPath();\r\n        context.setStrokeStyle(eachSeries.color);\r\n        context.setLineWidth(areaOption.width * opts.pix);\r\n        if (points.length === 1) {\r\n          context.moveTo(points[0].x, points[0].y);\r\n          // context.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\r\n        } else {\r\n          context.moveTo(points[0].x, points[0].y);\r\n          let startPoint = 0;\r\n          if (areaOption.type === 'curve') {\r\n            for (let j = 0; j < points.length; j++) {\r\n              let item = points[j];\r\n              if (startPoint == 0 && item.x > leftSpace) {\r\n                context.moveTo(item.x, item.y);\r\n                startPoint = 1;\r\n              }\r\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n                let ctrlPoint = createCurveControlPoints(points, j - 1);\r\n                context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y, item.x, item.y);\r\n              }\r\n            };\r\n          }\r\n          if (areaOption.type === 'straight') {\r\n            for (let j = 0; j < points.length; j++) {\r\n              let item = points[j];\r\n              if (startPoint == 0 && item.x > leftSpace) {\r\n                context.moveTo(item.x, item.y);\r\n                startPoint = 1;\r\n              }\r\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n                context.lineTo(item.x, item.y);\r\n              }\r\n            };\r\n          }\r\n          if (areaOption.type === 'step') {\r\n            for (let j = 0; j < points.length; j++) {\r\n              let item = points[j];\r\n              if (startPoint == 0 && item.x > leftSpace) {\r\n                context.moveTo(item.x, item.y);\r\n                startPoint = 1;\r\n              }\r\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n                context.lineTo(item.x, points[j - 1].y);\r\n                context.lineTo(item.x, item.y);\r\n              }\r\n            };\r\n          }\r\n          context.moveTo(points[0].x, points[0].y);\r\n        }\r\n        context.stroke();\r\n        context.setLineDash([]);\r\n      }\r\n    }\r\n    //画点\r\n    if (opts.dataPointShape !== false) {\r\n      drawPointShape(points, eachSeries.color, eachSeries.pointShape, context, opts);\r\n    }\r\n    drawActivePoint(points, eachSeries.color, eachSeries.pointShape, context, opts, areaOption,seriesIndex);\r\n  });\r\n\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    series.forEach(function(eachSeries, seriesIndex) {\r\n      let ranges, minRange, maxRange;\r\n      ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n      minRange = ranges.pop();\r\n      maxRange = ranges.shift();\r\n      var data = eachSeries.data;\r\n      var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n      drawPointText(points, eachSeries, config, context, opts);\r\n    });\r\n  }\r\n  context.restore();\r\n  return {\r\n    xAxisPoints: xAxisPoints,\r\n    calPoints: calPoints,\r\n    eachSpacing: eachSpacing\r\n  };\r\n}\r\n\r\nfunction drawScatterDataPoints(series, opts, config, context) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  var scatterOption = assign({}, {\r\n    type: 'circle'\r\n  }, opts.extra.scatter);\r\n  let xAxisData = opts.chartData.xAxisData,\r\n    xAxisPoints = xAxisData.xAxisPoints,\r\n    eachSpacing = xAxisData.eachSpacing;\r\n  var calPoints = [];\r\n  context.save();\r\n  let leftSpace = 0;\r\n  let rightSpace = opts.width + eachSpacing;\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n    leftSpace = -opts._scrollDistance_ - eachSpacing * 2 + opts.area[3];\r\n    rightSpace = leftSpace + (opts.xAxis.itemCount + 4) * eachSpacing;\r\n  }\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    let ranges, minRange, maxRange;\r\n    ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n    minRange = ranges.pop();\r\n    maxRange = ranges.shift();\r\n    var data = eachSeries.data;\r\n    var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n    context.beginPath();\r\n    context.setStrokeStyle(eachSeries.color);\r\n    context.setFillStyle(eachSeries.color);\r\n    context.setLineWidth(1 * opts.pix);\r\n    var shape = eachSeries.pointShape;\r\n    if (shape === 'diamond') {\r\n      points.forEach(function(item, index) {\r\n        if (item !== null) {\r\n          context.moveTo(item.x, item.y - 4.5);\r\n          context.lineTo(item.x - 4.5, item.y);\r\n          context.lineTo(item.x, item.y + 4.5);\r\n          context.lineTo(item.x + 4.5, item.y);\r\n          context.lineTo(item.x, item.y - 4.5);\r\n        }\r\n      });\r\n    } else if (shape === 'circle') {\r\n      points.forEach(function(item, index) {\r\n        if (item !== null) {\r\n          context.moveTo(item.x + 2.5 * opts.pix, item.y);\r\n          context.arc(item.x, item.y, 3 * opts.pix, 0, 2 * Math.PI, false);\r\n        }\r\n      });\r\n    } else if (shape === 'square') {\r\n      points.forEach(function(item, index) {\r\n        if (item !== null) {\r\n          context.moveTo(item.x - 3.5, item.y - 3.5);\r\n          context.rect(item.x - 3.5, item.y - 3.5, 7, 7);\r\n        }\r\n      });\r\n    } else if (shape === 'triangle') {\r\n      points.forEach(function(item, index) {\r\n        if (item !== null) {\r\n          context.moveTo(item.x, item.y - 4.5);\r\n          context.lineTo(item.x - 4.5, item.y + 4.5);\r\n          context.lineTo(item.x + 4.5, item.y + 4.5);\r\n          context.lineTo(item.x, item.y - 4.5);\r\n        }\r\n      });\r\n    } else if (shape === 'triangle') {\r\n      return;\r\n    }\r\n    context.closePath();\r\n    context.fill();\r\n    context.stroke();\r\n  });\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    series.forEach(function(eachSeries, seriesIndex) {\r\n      let ranges, minRange, maxRange;\r\n      ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n      minRange = ranges.pop();\r\n      maxRange = ranges.shift();\r\n      var data = eachSeries.data;\r\n      var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n      drawPointText(points, eachSeries, config, context, opts);\r\n    });\r\n  }\r\n  context.restore();\r\n  return {\r\n    xAxisPoints: xAxisPoints,\r\n    calPoints: calPoints,\r\n    eachSpacing: eachSpacing\r\n  };\r\n}\r\n\r\nfunction drawBubbleDataPoints(series, opts, config, context) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  var bubbleOption = assign({}, {\r\n    opacity: 1,\r\n    border:2\r\n  }, opts.extra.bubble);\r\n  let xAxisData = opts.chartData.xAxisData,\r\n    xAxisPoints = xAxisData.xAxisPoints,\r\n    eachSpacing = xAxisData.eachSpacing;\r\n  var calPoints = [];\r\n  context.save();\r\n  let leftSpace = 0;\r\n  let rightSpace = opts.width + eachSpacing;\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n    leftSpace = -opts._scrollDistance_ - eachSpacing * 2 + opts.area[3];\r\n    rightSpace = leftSpace + (opts.xAxis.itemCount + 4) * eachSpacing;\r\n  }\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    let ranges, minRange, maxRange;\r\n    ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n    minRange = ranges.pop();\r\n    maxRange = ranges.shift();\r\n    var data = eachSeries.data;\r\n    var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n    context.beginPath();\r\n    context.setStrokeStyle(eachSeries.color);\r\n    context.setLineWidth(bubbleOption.border * opts.pix);\r\n    context.setFillStyle(hexToRgb(eachSeries.color, bubbleOption.opacity));\r\n    points.forEach(function(item, index) {\r\n      context.moveTo(item.x + item.r, item.y);\r\n      context.arc(item.x, item.y, item.r * opts.pix, 0, 2 * Math.PI, false);\r\n    });\r\n    context.closePath();\r\n    context.fill();\r\n    context.stroke();\r\n    \r\n    if (opts.dataLabel !== false && process === 1) {\r\n      points.forEach(function(item, index) {\r\n        context.beginPath();\r\n        var fontSize = eachSeries.textSize * opts.pix || config.fontSize;\r\n        context.setFontSize(fontSize);\r\n        context.setFillStyle(eachSeries.textColor || \"#FFFFFF\");\r\n        context.setTextAlign('center');\r\n        context.fillText(String(item.t), item.x, item.y + fontSize/2);\r\n        context.closePath();\r\n        context.stroke();\r\n        context.setTextAlign('left');\r\n      });\r\n    }\r\n  });\r\n  context.restore();\r\n  return {\r\n    xAxisPoints: xAxisPoints,\r\n    calPoints: calPoints,\r\n    eachSpacing: eachSpacing\r\n  };\r\n}\r\n\r\nfunction drawLineDataPoints(series, opts, config, context) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  var lineOption = assign({}, {\r\n    type: 'straight',\r\n    width: 2,\r\n    activeType: 'none',\r\n    linearType: 'none',\r\n    onShadow: false,\r\n    animation: 'vertical',\r\n  }, opts.extra.line);\r\n  lineOption.width *= opts.pix;\r\n  let xAxisData = opts.chartData.xAxisData,\r\n    xAxisPoints = xAxisData.xAxisPoints,\r\n    eachSpacing = xAxisData.eachSpacing;\r\n  var calPoints = [];\r\n  context.save();\r\n  let leftSpace = 0;\r\n  let rightSpace = opts.width + eachSpacing;\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n    leftSpace = -opts._scrollDistance_ - eachSpacing * 2 + opts.area[3];\r\n    rightSpace = leftSpace + (opts.xAxis.itemCount + 4) * eachSpacing;\r\n  }\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    // 这段很神奇的代码用于解决ios16的setStrokeStyle失效的bug\r\n    context.beginPath();\r\n    context.setStrokeStyle(eachSeries.color);\r\n    context.moveTo(-10000, -10000);\r\n    context.lineTo(-10001, -10001);\r\n    context.stroke();\r\n    let ranges, minRange, maxRange;\r\n    ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n    minRange = ranges.pop();\r\n    maxRange = ranges.shift();\r\n    var data = eachSeries.data;\r\n    var points = getLineDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, lineOption, process);\r\n    calPoints.push(points);\r\n    var splitPointList = splitPoints(points,eachSeries);\r\n    if (eachSeries.lineType == 'dash') {\r\n      let dashLength = eachSeries.dashLength ? eachSeries.dashLength : 8;\r\n      dashLength *= opts.pix;\r\n      context.setLineDash([dashLength, dashLength]);\r\n    }\r\n    context.beginPath();\r\n    var strokeColor = eachSeries.color;\r\n    if (lineOption.linearType !== 'none' && eachSeries.linearColor && eachSeries.linearColor.length > 0) {\r\n      var grd = context.createLinearGradient(opts.chartData.xAxisData.startX, opts.height/2, opts.chartData.xAxisData.endX, opts.height/2);\r\n      for (var i = 0; i < eachSeries.linearColor.length; i++) {\r\n        grd.addColorStop(eachSeries.linearColor[i][0], hexToRgb(eachSeries.linearColor[i][1], 1));\r\n      }\r\n      strokeColor = grd\r\n    }\r\n    context.setStrokeStyle(strokeColor);\r\n    if (lineOption.onShadow == true && eachSeries.setShadow && eachSeries.setShadow.length > 0) {\r\n      context.setShadow(eachSeries.setShadow[0], eachSeries.setShadow[1], eachSeries.setShadow[2], eachSeries.setShadow[3]);\r\n    }else{\r\n      context.setShadow(0, 0, 0, 'rgba(0,0,0,0)');\r\n    }\r\n    context.setLineWidth(lineOption.width);\r\n    splitPointList.forEach(function(points, index) {\r\n      if (points.length === 1) {\r\n        context.moveTo(points[0].x, points[0].y);\r\n        // context.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\r\n      } else {\r\n        context.moveTo(points[0].x, points[0].y);\r\n        let startPoint = 0;\r\n        if (lineOption.type === 'curve') {\r\n          for (let j = 0; j < points.length; j++) {\r\n            let item = points[j];\r\n            if (startPoint == 0 && item.x > leftSpace) {\r\n              context.moveTo(item.x, item.y);\r\n              startPoint = 1;\r\n            }\r\n            if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n              var ctrlPoint = createCurveControlPoints(points, j - 1);\r\n              context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y, item.x, item.y);\r\n            }\r\n          };\r\n        }\r\n        if (lineOption.type === 'straight') {\r\n          for (let j = 0; j < points.length; j++) {\r\n            let item = points[j];\r\n            if (startPoint == 0 && item.x > leftSpace) {\r\n              context.moveTo(item.x, item.y);\r\n              startPoint = 1;\r\n            }\r\n            if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n              context.lineTo(item.x, item.y);\r\n            }\r\n          };\r\n        }\r\n        if (lineOption.type === 'step') {\r\n          for (let j = 0; j < points.length; j++) {\r\n            let item = points[j];\r\n            if (startPoint == 0 && item.x > leftSpace) {\r\n              context.moveTo(item.x, item.y);\r\n              startPoint = 1;\r\n            }\r\n            if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n              context.lineTo(item.x, points[j - 1].y);\r\n              context.lineTo(item.x, item.y);\r\n            }\r\n          };\r\n        }\r\n        context.moveTo(points[0].x, points[0].y);\r\n      }\r\n    });\r\n    context.stroke();\r\n    context.setLineDash([]);\r\n    if (opts.dataPointShape !== false) {\r\n      drawPointShape(points, eachSeries.color, eachSeries.pointShape, context, opts);\r\n    }\r\n    drawActivePoint(points, eachSeries.color, eachSeries.pointShape, context, opts, lineOption);\r\n  });\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    series.forEach(function(eachSeries, seriesIndex) {\r\n      let ranges, minRange, maxRange;\r\n      ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n      minRange = ranges.pop();\r\n      maxRange = ranges.shift();\r\n      var data = eachSeries.data;\r\n      var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n      drawPointText(points, eachSeries, config, context, opts);\r\n    });\r\n  }\r\n  context.restore();\r\n  return {\r\n    xAxisPoints: xAxisPoints,\r\n    calPoints: calPoints,\r\n    eachSpacing: eachSpacing\r\n  };\r\n}\r\n\r\nfunction drawMixDataPoints(series, opts, config, context) {\r\n  let process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  let xAxisData = opts.chartData.xAxisData,\r\n    xAxisPoints = xAxisData.xAxisPoints,\r\n    eachSpacing = xAxisData.eachSpacing;\r\n  let columnOption = assign({}, {\r\n    width: eachSpacing / 2,\r\n    barBorderCircle: false,\r\n    barBorderRadius: [],\r\n    seriesGap: 2,\r\n    linearType: 'none',\r\n    linearOpacity: 1,\r\n    customColor: [],\r\n    colorStop: 0,\r\n  }, opts.extra.mix.column);\r\n  let areaOption = assign({}, {\r\n    opacity: 0.2,\r\n    gradient: false\r\n  }, opts.extra.mix.area);\r\n  let lineOption = assign({}, {\r\n    width: 2\r\n  }, opts.extra.mix.line);\r\n  let endY = opts.height - opts.area[2];\r\n  let calPoints = [];\r\n  var columnIndex = 0;\r\n  var columnLength = 0;\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    if (eachSeries.type == 'column') {\r\n      columnLength += 1;\r\n    }\r\n  });\r\n  context.save();\r\n  let leftNum = -2;\r\n  let rightNum = xAxisPoints.length + 2;\r\n  let leftSpace = 0;\r\n  let rightSpace = opts.width + eachSpacing;\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n    leftNum = Math.floor(-opts._scrollDistance_ / eachSpacing) - 2;\r\n    rightNum = leftNum + opts.xAxis.itemCount + 4;\r\n    leftSpace = -opts._scrollDistance_ - eachSpacing * 2 + opts.area[3];\r\n    rightSpace = leftSpace + (opts.xAxis.itemCount + 4) * eachSpacing;\r\n  }\r\n  columnOption.customColor = fillCustomColor(columnOption.linearType, columnOption.customColor, series, config);\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    let ranges, minRange, maxRange;\r\n    ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n    minRange = ranges.pop();\r\n    maxRange = ranges.shift();\r\n    var data = eachSeries.data;\r\n    var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n    calPoints.push(points);\r\n    // 绘制柱状数据图\r\n    if (eachSeries.type == 'column') {\r\n      points = fixColumeData(points, eachSpacing, columnLength, columnIndex, config, opts);\r\n      for (let i = 0; i < points.length; i++) {\r\n        let item = points[i];\r\n        if (item !== null && i > leftNum && i < rightNum) {\r\n          var startX = item.x - item.width / 2;\r\n          var height = opts.height - item.y - opts.area[2];\r\n          context.beginPath();\r\n          var fillColor = item.color || eachSeries.color\r\n          var strokeColor = item.color || eachSeries.color\r\n          if (columnOption.linearType !== 'none') {\r\n            var grd = context.createLinearGradient(startX, item.y, startX, opts.height - opts.area[2]);\r\n            //透明渐变\r\n            if (columnOption.linearType == 'opacity') {\r\n              grd.addColorStop(0, hexToRgb(fillColor, columnOption.linearOpacity));\r\n              grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n            } else {\r\n              grd.addColorStop(0, hexToRgb(columnOption.customColor[eachSeries.linearIndex], columnOption.linearOpacity));\r\n              grd.addColorStop(columnOption.colorStop, hexToRgb(columnOption.customColor[eachSeries.linearIndex], columnOption.linearOpacity));\r\n              grd.addColorStop(1, hexToRgb(fillColor, 1));\r\n            }\r\n            fillColor = grd\r\n          }\r\n          // 圆角边框\r\n          if ((columnOption.barBorderRadius && columnOption.barBorderRadius.length === 4) || columnOption.barBorderCircle) {\r\n            const left = startX;\r\n            const top = item.y;\r\n            const width = item.width;\r\n            const height = opts.height - opts.area[2] - item.y;\r\n            if (columnOption.barBorderCircle) {\r\n              columnOption.barBorderRadius = [width / 2, width / 2, 0, 0];\r\n            }\r\n            let [r0, r1, r2, r3] = columnOption.barBorderRadius;\r\n            let minRadius = Math.min(width/2,height/2);\r\n            r0 = r0 > minRadius ? minRadius : r0;\r\n            r1 = r1 > minRadius ? minRadius : r1;\r\n            r2 = r2 > minRadius ? minRadius : r2;\r\n            r3 = r3 > minRadius ? minRadius : r3;\r\n            r0 = r0 < 0 ? 0 : r0;\r\n            r1 = r1 < 0 ? 0 : r1;\r\n            r2 = r2 < 0 ? 0 : r2;\r\n            r3 = r3 < 0 ? 0 : r3;\r\n            context.arc(left + r0, top + r0, r0, -Math.PI, -Math.PI / 2);\r\n            context.arc(left + width - r1, top + r1, r1, -Math.PI / 2, 0);\r\n            context.arc(left + width - r2, top + height - r2, r2, 0, Math.PI / 2);\r\n            context.arc(left + r3, top + height - r3, r3, Math.PI / 2, Math.PI);\r\n          } else {\r\n            context.moveTo(startX, item.y);\r\n            context.lineTo(startX + item.width, item.y);\r\n            context.lineTo(startX + item.width, opts.height - opts.area[2]);\r\n            context.lineTo(startX, opts.height - opts.area[2]);\r\n            context.lineTo(startX, item.y);\r\n            context.setLineWidth(1)\r\n            context.setStrokeStyle(strokeColor);\r\n          }\r\n          context.setFillStyle(fillColor);\r\n          context.closePath();\r\n          context.fill();\r\n        }\r\n      }\r\n      columnIndex += 1;\r\n    }\r\n    //绘制区域图数据\r\n    if (eachSeries.type == 'area') {\r\n      let splitPointList = splitPoints(points,eachSeries);\r\n      for (let i = 0; i < splitPointList.length; i++) {\r\n        let points = splitPointList[i];\r\n        // 绘制区域数据\r\n        context.beginPath();\r\n        context.setStrokeStyle(eachSeries.color);\r\n        context.setStrokeStyle(hexToRgb(eachSeries.color, areaOption.opacity));\r\n        if (areaOption.gradient) {\r\n          let gradient = context.createLinearGradient(0, opts.area[0], 0, opts.height - opts.area[2]);\r\n          gradient.addColorStop('0', hexToRgb(eachSeries.color, areaOption.opacity));\r\n          gradient.addColorStop('1.0', hexToRgb(\"#FFFFFF\", 0.1));\r\n          context.setFillStyle(gradient);\r\n        } else {\r\n          context.setFillStyle(hexToRgb(eachSeries.color, areaOption.opacity));\r\n        }\r\n        context.setLineWidth(2 * opts.pix);\r\n        if (points.length > 1) {\r\n          var firstPoint = points[0];\r\n          let lastPoint = points[points.length - 1];\r\n          context.moveTo(firstPoint.x, firstPoint.y);\r\n          let startPoint = 0;\r\n          if (eachSeries.style === 'curve') {\r\n            for (let j = 0; j < points.length; j++) {\r\n              let item = points[j];\r\n              if (startPoint == 0 && item.x > leftSpace) {\r\n                context.moveTo(item.x, item.y);\r\n                startPoint = 1;\r\n              }\r\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n                var ctrlPoint = createCurveControlPoints(points, j - 1);\r\n                context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y, item.x, item.y);\r\n              }\r\n            };\r\n          } else {\r\n            for (let j = 0; j < points.length; j++) {\r\n              let item = points[j];\r\n              if (startPoint == 0 && item.x > leftSpace) {\r\n                context.moveTo(item.x, item.y);\r\n                startPoint = 1;\r\n              }\r\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n                context.lineTo(item.x, item.y);\r\n              }\r\n            };\r\n          }\r\n          context.lineTo(lastPoint.x, endY);\r\n          context.lineTo(firstPoint.x, endY);\r\n          context.lineTo(firstPoint.x, firstPoint.y);\r\n        } else {\r\n          let item = points[0];\r\n          context.moveTo(item.x - eachSpacing / 2, item.y);\r\n          // context.lineTo(item.x + eachSpacing / 2, item.y);\r\n          // context.lineTo(item.x + eachSpacing / 2, endY);\r\n          // context.lineTo(item.x - eachSpacing / 2, endY);\r\n          // context.moveTo(item.x - eachSpacing / 2, item.y);\r\n        }\r\n        context.closePath();\r\n        context.fill();\r\n      }\r\n    }\r\n    // 绘制折线数据图\r\n    if (eachSeries.type == 'line') {\r\n      var splitPointList = splitPoints(points,eachSeries);\r\n      splitPointList.forEach(function(points, index) {\r\n        if (eachSeries.lineType == 'dash') {\r\n          let dashLength = eachSeries.dashLength ? eachSeries.dashLength : 8;\r\n          dashLength *= opts.pix;\r\n          context.setLineDash([dashLength, dashLength]);\r\n        }\r\n        context.beginPath();\r\n        context.setStrokeStyle(eachSeries.color);\r\n        context.setLineWidth(lineOption.width * opts.pix);\r\n        if (points.length === 1) {\r\n          context.moveTo(points[0].x, points[0].y);\r\n          // context.arc(points[0].x, points[0].y, 1, 0, 2 * Math.PI);\r\n        } else {\r\n          context.moveTo(points[0].x, points[0].y);\r\n          let startPoint = 0;\r\n          if (eachSeries.style == 'curve') {\r\n            for (let j = 0; j < points.length; j++) {\r\n              let item = points[j];\r\n              if (startPoint == 0 && item.x > leftSpace) {\r\n                context.moveTo(item.x, item.y);\r\n                startPoint = 1;\r\n              }\r\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n                var ctrlPoint = createCurveControlPoints(points, j - 1);\r\n                context.bezierCurveTo(ctrlPoint.ctrA.x, ctrlPoint.ctrA.y, ctrlPoint.ctrB.x, ctrlPoint.ctrB.y,\r\n                  item.x, item.y);\r\n              }\r\n            }\r\n          } else {\r\n            for (let j = 0; j < points.length; j++) {\r\n              let item = points[j];\r\n              if (startPoint == 0 && item.x > leftSpace) {\r\n                context.moveTo(item.x, item.y);\r\n                startPoint = 1;\r\n              }\r\n              if (j > 0 && item.x > leftSpace && item.x < rightSpace) {\r\n                context.lineTo(item.x, item.y);\r\n              }\r\n            }\r\n          }\r\n          context.moveTo(points[0].x, points[0].y);\r\n        }\r\n        context.stroke();\r\n        context.setLineDash([]);\r\n      });\r\n    }\r\n    // 绘制点数据图\r\n    if (eachSeries.type == 'point') {\r\n      eachSeries.addPoint = true;\r\n    }\r\n    if (eachSeries.addPoint == true && eachSeries.type !== 'column') {\r\n      drawPointShape(points, eachSeries.color, eachSeries.pointShape, context, opts);\r\n    }\r\n  });\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    var columnIndex = 0;\r\n    series.forEach(function(eachSeries, seriesIndex) {\r\n      let ranges, minRange, maxRange;\r\n      ranges = [].concat(opts.chartData.yAxisData.ranges[eachSeries.index]);\r\n      minRange = ranges.pop();\r\n      maxRange = ranges.shift();\r\n      var data = eachSeries.data;\r\n      var points = getDataPoints(data, minRange, maxRange, xAxisPoints, eachSpacing, opts, config, process);\r\n      if (eachSeries.type !== 'column') {\r\n        drawPointText(points, eachSeries, config, context, opts);\r\n      } else {\r\n        points = fixColumeData(points, eachSpacing, columnLength, columnIndex, config, opts);\r\n        drawPointText(points, eachSeries, config, context, opts);\r\n        columnIndex += 1;\r\n      }\r\n    });\r\n  }\r\n  context.restore();\r\n  return {\r\n    xAxisPoints: xAxisPoints,\r\n    calPoints: calPoints,\r\n    eachSpacing: eachSpacing,\r\n  }\r\n}\r\n\r\n\r\nfunction drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints) {\r\n  var toolTipOption = opts.extra.tooltip || {};\r\n  if (toolTipOption.horizentalLine && opts.tooltip && process === 1 && (opts.type == 'line' || opts.type == 'area' || opts.type == 'column' || opts.type == 'mount' || opts.type == 'candle' || opts.type == 'mix')) {\r\n    drawToolTipHorizentalLine(opts, config, context, eachSpacing, xAxisPoints)\r\n  }\r\n  context.save();\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0 && opts.enableScroll === true) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n  }\r\n  if (opts.tooltip && opts.tooltip.textList && opts.tooltip.textList.length && process === 1) {\r\n    drawToolTip(opts.tooltip.textList, opts.tooltip.offset, opts, config, context, eachSpacing, xAxisPoints);\r\n  }\r\n  context.restore();\r\n\r\n}\r\n\r\nfunction drawXAxis(categories, opts, config, context) {\r\n\r\n  let xAxisData = opts.chartData.xAxisData,\r\n    xAxisPoints = xAxisData.xAxisPoints,\r\n    startX = xAxisData.startX,\r\n    endX = xAxisData.endX,\r\n    eachSpacing = xAxisData.eachSpacing;\r\n  var boundaryGap = 'center';\r\n  if (opts.type == 'bar' || opts.type == 'line' || opts.type == 'area'|| opts.type == 'scatter' || opts.type == 'bubble') {\r\n    boundaryGap = opts.xAxis.boundaryGap;\r\n  }\r\n  var startY = opts.height - opts.area[2];\r\n  var endY = opts.area[0];\r\n\r\n  //绘制滚动条\r\n  if (opts.enableScroll && opts.xAxis.scrollShow) {\r\n    var scrollY = opts.height - opts.area[2] + config.xAxisHeight;\r\n    var scrollScreenWidth = endX - startX;\r\n    var scrollTotalWidth = eachSpacing * (xAxisPoints.length - 1);\r\n    if(opts.type == 'mount' && opts.extra && opts.extra.mount && opts.extra.mount.widthRatio && opts.extra.mount.widthRatio > 1){\r\n      if(opts.extra.mount.widthRatio>2) opts.extra.mount.widthRatio = 2\r\n      scrollTotalWidth += (opts.extra.mount.widthRatio - 1)*eachSpacing;\r\n    }\r\n    var scrollWidth = scrollScreenWidth * scrollScreenWidth / scrollTotalWidth;\r\n    var scrollLeft = 0;\r\n    if (opts._scrollDistance_) {\r\n      scrollLeft = -opts._scrollDistance_ * (scrollScreenWidth) / scrollTotalWidth;\r\n    }\r\n    context.beginPath();\r\n    context.setLineCap('round');\r\n    context.setLineWidth(6 * opts.pix);\r\n    context.setStrokeStyle(opts.xAxis.scrollBackgroundColor || \"#EFEBEF\");\r\n    context.moveTo(startX, scrollY);\r\n    context.lineTo(endX, scrollY);\r\n    context.stroke();\r\n    context.closePath();\r\n    context.beginPath();\r\n    context.setLineCap('round');\r\n    context.setLineWidth(6 * opts.pix);\r\n    context.setStrokeStyle(opts.xAxis.scrollColor || \"#A6A6A6\");\r\n    context.moveTo(startX + scrollLeft, scrollY);\r\n    context.lineTo(startX + scrollLeft + scrollWidth, scrollY);\r\n    context.stroke();\r\n    context.closePath();\r\n    context.setLineCap('butt');\r\n  }\r\n  context.save();\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n  }\r\n  //绘制X轴刻度线\r\n  if (opts.xAxis.calibration === true) {\r\n    context.setStrokeStyle(opts.xAxis.gridColor || \"#cccccc\");\r\n    context.setLineCap('butt');\r\n    context.setLineWidth(1 * opts.pix);\r\n    xAxisPoints.forEach(function(item, index) {\r\n      if (index > 0) {\r\n        context.beginPath();\r\n        context.moveTo(item - eachSpacing / 2, startY);\r\n        context.lineTo(item - eachSpacing / 2, startY + 3 * opts.pix);\r\n        context.closePath();\r\n        context.stroke();\r\n      }\r\n    });\r\n  }\r\n  //绘制X轴网格\r\n  if (opts.xAxis.disableGrid !== true) {\r\n    context.setStrokeStyle(opts.xAxis.gridColor || \"#cccccc\");\r\n    context.setLineCap('butt');\r\n    context.setLineWidth(1 * opts.pix);\r\n    if (opts.xAxis.gridType == 'dash') {\r\n      context.setLineDash([opts.xAxis.dashLength * opts.pix, opts.xAxis.dashLength * opts.pix]);\r\n    }\r\n    opts.xAxis.gridEval = opts.xAxis.gridEval || 1;\r\n    xAxisPoints.forEach(function(item, index) {\r\n      if (index % opts.xAxis.gridEval == 0) {\r\n        context.beginPath();\r\n        context.moveTo(item, startY);\r\n        context.lineTo(item, endY);\r\n        context.stroke();\r\n      }\r\n    });\r\n    context.setLineDash([]);\r\n  }\r\n  //绘制X轴文案\r\n  if (opts.xAxis.disabled !== true) {\r\n    // 对X轴列表做抽稀处理\r\n    //默认全部显示X轴标签\r\n    let maxXAxisListLength = categories.length;\r\n    //如果设置了X轴单屏数量\r\n    if (opts.xAxis.labelCount) {\r\n      //如果设置X轴密度\r\n      if (opts.xAxis.itemCount) {\r\n        maxXAxisListLength = Math.ceil(categories.length / opts.xAxis.itemCount * opts.xAxis.labelCount);\r\n      } else {\r\n        maxXAxisListLength = opts.xAxis.labelCount;\r\n      }\r\n      maxXAxisListLength -= 1;\r\n    }\r\n\r\n    let ratio = Math.ceil(categories.length / maxXAxisListLength);\r\n\r\n    let newCategories = [];\r\n    let cgLength = categories.length;\r\n    for (let i = 0; i < cgLength; i++) {\r\n      if (i % ratio !== 0) {\r\n        newCategories.push(\"\");\r\n      } else {\r\n        newCategories.push(categories[i]);\r\n      }\r\n    }\r\n    newCategories[cgLength - 1] = categories[cgLength - 1];\r\n    var xAxisFontSize = opts.xAxis.fontSize * opts.pix || config.fontSize;\r\n    if (config._xAxisTextAngle_ === 0) {\r\n      newCategories.forEach(function(item, index) {\r\n        var xitem = opts.xAxis.formatter ? opts.xAxis.formatter(item,index,opts) : item;\r\n        var offset = -measureText(String(xitem), xAxisFontSize, context) / 2;\r\n        if (boundaryGap == 'center') {\r\n          offset += eachSpacing / 2;\r\n        }\r\n        var scrollHeight = 0;\r\n        if (opts.xAxis.scrollShow) {\r\n          scrollHeight = 6 * opts.pix;\r\n        }\r\n        // 如果在主视图区域内\r\n        var _scrollDistance_ = opts._scrollDistance_ || 0;\r\n        var truePoints = boundaryGap == 'center' ? xAxisPoints[index] + eachSpacing / 2 : xAxisPoints[index];\r\n        if((truePoints - Math.abs(_scrollDistance_)) >= (opts.area[3] - 1) && (truePoints - Math.abs(_scrollDistance_)) <= (opts.width - opts.area[1] + 1)){\r\n          context.beginPath();\r\n          context.setFontSize(xAxisFontSize);\r\n          context.setFillStyle(opts.xAxis.fontColor || opts.fontColor);\r\n          context.fillText(String(xitem), xAxisPoints[index] + offset, startY + opts.xAxis.marginTop * opts.pix + (opts.xAxis.lineHeight - opts.xAxis.fontSize) * opts.pix / 2 + opts.xAxis.fontSize * opts.pix);\r\n          context.closePath();\r\n          context.stroke();\r\n        }\r\n      });\r\n    } else {\r\n      newCategories.forEach(function(item, index) {\r\n        var xitem = opts.xAxis.formatter ? opts.xAxis.formatter(item) : item;\r\n        // 如果在主视图区域内\r\n        var _scrollDistance_ = opts._scrollDistance_ || 0;\r\n        var truePoints = boundaryGap == 'center' ? xAxisPoints[index] + eachSpacing / 2 : xAxisPoints[index];\r\n        if((truePoints - Math.abs(_scrollDistance_)) >= (opts.area[3] - 1) && (truePoints - Math.abs(_scrollDistance_)) <= (opts.width - opts.area[1] + 1)){\r\n          context.save();\r\n          context.beginPath();\r\n          context.setFontSize(xAxisFontSize);\r\n          context.setFillStyle(opts.xAxis.fontColor || opts.fontColor);\r\n          var textWidth = measureText(String(xitem), xAxisFontSize, context);\r\n          var offsetX = xAxisPoints[index];\r\n          if (boundaryGap == 'center') {\r\n            offsetX = xAxisPoints[index] + eachSpacing / 2;\r\n          }\r\n          var scrollHeight = 0;\r\n          if (opts.xAxis.scrollShow) {\r\n            scrollHeight = 6 * opts.pix;\r\n          }\r\n          var offsetY = startY + opts.xAxis.marginTop * opts.pix + xAxisFontSize - xAxisFontSize * Math.abs(Math.sin(config._xAxisTextAngle_));\r\n          if(opts.xAxis.rotateAngle < 0){\r\n            offsetX -= xAxisFontSize / 2;\r\n            textWidth = 0;\r\n          }else{\r\n            offsetX += xAxisFontSize / 2;\r\n            textWidth = -textWidth;\r\n          }\r\n          context.translate(offsetX, offsetY);\r\n          context.rotate(-1 * config._xAxisTextAngle_);\r\n          context.fillText(String(xitem), textWidth , 0 );\r\n          context.closePath();\r\n          context.stroke();\r\n          context.restore();\r\n        }\r\n      });\r\n    }\r\n  }\r\n  context.restore();\r\n  \r\n  //画X轴标题\r\n  if (opts.xAxis.title) {\r\n    context.beginPath();\r\n    context.setFontSize(opts.xAxis.titleFontSize * opts.pix);\r\n    context.setFillStyle(opts.xAxis.titleFontColor);\r\n    context.fillText(String(opts.xAxis.title), opts.width - opts.area[1] + opts.xAxis.titleOffsetX * opts.pix,opts.height - opts.area[2] + opts.xAxis.marginTop * opts.pix + (opts.xAxis.lineHeight - opts.xAxis.titleFontSize) * opts.pix / 2 + (opts.xAxis.titleFontSize + opts.xAxis.titleOffsetY) * opts.pix);\r\n    context.closePath();\r\n    context.stroke();\r\n  }\r\n  \r\n  //绘制X轴轴线\r\n  if (opts.xAxis.axisLine) {\r\n    context.beginPath();\r\n    context.setStrokeStyle(opts.xAxis.axisLineColor);\r\n    context.setLineWidth(1 * opts.pix);\r\n    context.moveTo(startX, opts.height - opts.area[2]);\r\n    context.lineTo(endX, opts.height - opts.area[2]);\r\n    context.stroke();\r\n  }\r\n}\r\n\r\nfunction drawYAxisGrid(categories, opts, config, context) {\r\n  if (opts.yAxis.disableGrid === true) {\r\n    return;\r\n  }\r\n  let spacingValid = opts.height - opts.area[0] - opts.area[2];\r\n  let eachSpacing = spacingValid / opts.yAxis.splitNumber;\r\n  let startX = opts.area[3];\r\n  let xAxisPoints = opts.chartData.xAxisData.xAxisPoints,\r\n    xAxiseachSpacing = opts.chartData.xAxisData.eachSpacing;\r\n  let TotalWidth = xAxiseachSpacing * (xAxisPoints.length - 1);\r\n  if(opts.type == 'mount' && opts.extra && opts.extra.mount && opts.extra.mount.widthRatio && opts.extra.mount.widthRatio > 1 ){\r\n    if(opts.extra.mount.widthRatio>2) opts.extra.mount.widthRatio = 2\r\n    TotalWidth += (opts.extra.mount.widthRatio - 1) * xAxiseachSpacing;\r\n  }\r\n  let endX = startX + TotalWidth;\r\n  let points = [];\r\n  let startY = 1\r\n  if (opts.xAxis.axisLine === false) {\r\n    startY = 0\r\n  }\r\n  for (let i = startY; i < opts.yAxis.splitNumber + 1; i++) {\r\n    points.push(opts.height - opts.area[2] - eachSpacing * i);\r\n  }\r\n  context.save();\r\n  if (opts._scrollDistance_ && opts._scrollDistance_ !== 0) {\r\n    context.translate(opts._scrollDistance_, 0);\r\n  }\r\n  if (opts.yAxis.gridType == 'dash') {\r\n    context.setLineDash([opts.yAxis.dashLength * opts.pix, opts.yAxis.dashLength * opts.pix]);\r\n  }\r\n  context.setStrokeStyle(opts.yAxis.gridColor);\r\n  context.setLineWidth(1 * opts.pix);\r\n  points.forEach(function(item, index) {\r\n    context.beginPath();\r\n    context.moveTo(startX, item);\r\n    context.lineTo(endX, item);\r\n    context.stroke();\r\n  });\r\n  context.setLineDash([]);\r\n  context.restore();\r\n}\r\n\r\nfunction drawYAxis(series, opts, config, context) {\r\n  if (opts.yAxis.disabled === true) {\r\n    return;\r\n  }\r\n  var spacingValid = opts.height - opts.area[0] - opts.area[2];\r\n  var eachSpacing = spacingValid / opts.yAxis.splitNumber;\r\n  var startX = opts.area[3];\r\n  var endX = opts.width - opts.area[1];\r\n  var endY = opts.height - opts.area[2];\r\n  // set YAxis background\r\n  context.beginPath();\r\n  context.setFillStyle(opts.background);\r\n  if (opts.enableScroll == true && opts.xAxis.scrollPosition && opts.xAxis.scrollPosition !== 'left') {\r\n    context.fillRect(0, 0, startX, endY + 2 * opts.pix);\r\n  }\r\n  if (opts.enableScroll == true && opts.xAxis.scrollPosition && opts.xAxis.scrollPosition !== 'right') {\r\n    context.fillRect(endX, 0, opts.width, endY + 2 * opts.pix);\r\n  }\r\n  context.closePath();\r\n  context.stroke();\r\n  \r\n  let tStartLeft = opts.area[3];\r\n  let tStartRight = opts.width - opts.area[1];\r\n  let tStartCenter = opts.area[3] + (opts.width - opts.area[1] - opts.area[3]) / 2;\r\n  if (opts.yAxis.data) {\r\n    for (let i = 0; i < opts.yAxis.data.length; i++) {\r\n      let yData = opts.yAxis.data[i];\r\n      var points = [];\r\n      if(yData.type === 'categories'){\r\n        for (let i = 0; i <= yData.categories.length; i++) {\r\n          points.push(opts.area[0] + spacingValid / yData.categories.length / 2 + spacingValid / yData.categories.length * i);\r\n        }\r\n      }else{\r\n        for (let i = 0; i <= opts.yAxis.splitNumber; i++) {\r\n          points.push(opts.area[0] + eachSpacing * i);\r\n        }\r\n      }\r\n      if (yData.disabled !== true) {\r\n        let rangesFormat = opts.chartData.yAxisData.rangesFormat[i];\r\n        let yAxisFontSize = yData.fontSize ? yData.fontSize * opts.pix : config.fontSize;\r\n        let yAxisWidth = opts.chartData.yAxisData.yAxisWidth[i];\r\n        let textAlign = yData.textAlign || \"right\";\r\n        //画Y轴刻度及文案\r\n        rangesFormat.forEach(function(item, index) {\r\n          var pos = points[index];\r\n          context.beginPath();\r\n          context.setFontSize(yAxisFontSize);\r\n          context.setLineWidth(1 * opts.pix);\r\n          context.setStrokeStyle(yData.axisLineColor || '#cccccc');\r\n          context.setFillStyle(yData.fontColor || opts.fontColor);\r\n          let tmpstrat = 0;\r\n          let gapwidth = 4 * opts.pix;\r\n          if (yAxisWidth.position == 'left') {\r\n            //画刻度线\r\n            if (yData.calibration == true) {\r\n              context.moveTo(tStartLeft, pos);\r\n              context.lineTo(tStartLeft - 3 * opts.pix, pos);\r\n              gapwidth += 3 * opts.pix;\r\n            }\r\n            //画文字\r\n            switch (textAlign) {\r\n              case \"left\":\r\n                context.setTextAlign('left');\r\n                tmpstrat = tStartLeft - yAxisWidth.width\r\n                break;\r\n              case \"right\":\r\n                context.setTextAlign('right');\r\n                tmpstrat = tStartLeft - gapwidth\r\n                break;\r\n              default:\r\n                context.setTextAlign('center');\r\n                tmpstrat = tStartLeft - yAxisWidth.width / 2\r\n            }\r\n            context.fillText(String(item), tmpstrat, pos + yAxisFontSize / 2 - 3 * opts.pix);\r\n\r\n          } else if (yAxisWidth.position == 'right') {\r\n            //画刻度线\r\n            if (yData.calibration == true) {\r\n              context.moveTo(tStartRight, pos);\r\n              context.lineTo(tStartRight + 3 * opts.pix, pos);\r\n              gapwidth += 3 * opts.pix;\r\n            }\r\n            switch (textAlign) {\r\n              case \"left\":\r\n                context.setTextAlign('left');\r\n                tmpstrat = tStartRight + gapwidth\r\n                break;\r\n              case \"right\":\r\n                context.setTextAlign('right');\r\n                tmpstrat = tStartRight + yAxisWidth.width\r\n                break;\r\n              default:\r\n                context.setTextAlign('center');\r\n                tmpstrat = tStartRight + yAxisWidth.width / 2\r\n            }\r\n            context.fillText(String(item), tmpstrat, pos + yAxisFontSize / 2 - 3 * opts.pix);\r\n          } else if (yAxisWidth.position == 'center') {\r\n            //画刻度线\r\n            if (yData.calibration == true) {\r\n              context.moveTo(tStartCenter, pos);\r\n              context.lineTo(tStartCenter - 3 * opts.pix, pos);\r\n              gapwidth += 3 * opts.pix;\r\n            }\r\n            //画文字\r\n            switch (textAlign) {\r\n              case \"left\":\r\n                context.setTextAlign('left');\r\n                tmpstrat = tStartCenter - yAxisWidth.width\r\n                break;\r\n              case \"right\":\r\n                context.setTextAlign('right');\r\n                tmpstrat = tStartCenter - gapwidth\r\n                break;\r\n              default:\r\n                context.setTextAlign('center');\r\n                tmpstrat = tStartCenter - yAxisWidth.width / 2\r\n            }\r\n            context.fillText(String(item), tmpstrat, pos + yAxisFontSize / 2 - 3 * opts.pix);\r\n          }\r\n          context.closePath();\r\n          context.stroke();\r\n          context.setTextAlign('left');\r\n        });\r\n        //画Y轴轴线\r\n        if (yData.axisLine !== false) {\r\n          context.beginPath();\r\n          context.setStrokeStyle(yData.axisLineColor || '#cccccc');\r\n          context.setLineWidth(1 * opts.pix);\r\n          if (yAxisWidth.position == 'left') {\r\n            context.moveTo(tStartLeft, opts.height - opts.area[2]);\r\n            context.lineTo(tStartLeft, opts.area[0]);\r\n          } else if (yAxisWidth.position == 'right') {\r\n            context.moveTo(tStartRight, opts.height - opts.area[2]);\r\n            context.lineTo(tStartRight, opts.area[0]);\r\n          } else if (yAxisWidth.position == 'center') {\r\n            context.moveTo(tStartCenter, opts.height - opts.area[2]);\r\n            context.lineTo(tStartCenter, opts.area[0]);\r\n          }\r\n          context.stroke();\r\n        }\r\n        //画Y轴标题\r\n        if (opts.yAxis.showTitle) {\r\n          let titleFontSize = yData.titleFontSize * opts.pix || config.fontSize;\r\n          let title = yData.title;\r\n          context.beginPath();\r\n          context.setFontSize(titleFontSize);\r\n          context.setFillStyle(yData.titleFontColor || opts.fontColor);\r\n          if (yAxisWidth.position == 'left') {\r\n            context.fillText(title, tStartLeft - measureText(title, titleFontSize, context) / 2 + (yData.titleOffsetX || 0), opts.area[0] - (10 - (yData.titleOffsetY || 0)) * opts.pix);\r\n          } else if (yAxisWidth.position == 'right') {\r\n            context.fillText(title, tStartRight - measureText(title, titleFontSize, context) / 2 + (yData.titleOffsetX || 0), opts.area[0] - (10 - (yData.titleOffsetY || 0)) * opts.pix);\r\n          } else if (yAxisWidth.position == 'center') {\r\n            context.fillText(title, tStartCenter - measureText(title, titleFontSize, context) / 2 + (yData.titleOffsetX || 0), opts.area[0] - (10 - (yData.titleOffsetY || 0)) * opts.pix);\r\n          }\r\n          context.closePath();\r\n          context.stroke();\r\n        }\r\n        if (yAxisWidth.position == 'left') {\r\n          tStartLeft -= (yAxisWidth.width + opts.yAxis.padding * opts.pix);\r\n        } else {\r\n          tStartRight += yAxisWidth.width + opts.yAxis.padding * opts.pix;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\r\nfunction drawLegend(series, opts, config, context, chartData) {\r\n  if (opts.legend.show === false) {\r\n    return;\r\n  }\r\n  let legendData = chartData.legendData;\r\n  let legendList = legendData.points;\r\n  let legendArea = legendData.area;\r\n  let padding = opts.legend.padding * opts.pix;\r\n  let fontSize = opts.legend.fontSize * opts.pix;\r\n  let shapeWidth = 15 * opts.pix;\r\n  let shapeRight = 5 * opts.pix;\r\n  let itemGap = opts.legend.itemGap * opts.pix;\r\n  let lineHeight = Math.max(opts.legend.lineHeight * opts.pix, fontSize);\r\n  //画背景及边框\r\n  context.beginPath();\r\n  context.setLineWidth(opts.legend.borderWidth * opts.pix);\r\n  context.setStrokeStyle(opts.legend.borderColor);\r\n  context.setFillStyle(opts.legend.backgroundColor);\r\n  context.moveTo(legendArea.start.x, legendArea.start.y);\r\n  context.rect(legendArea.start.x, legendArea.start.y, legendArea.width, legendArea.height);\r\n  context.closePath();\r\n  context.fill();\r\n  context.stroke();\r\n  legendList.forEach(function(itemList, listIndex) {\r\n    let width = 0;\r\n    let height = 0;\r\n    width = legendData.widthArr[listIndex];\r\n    height = legendData.heightArr[listIndex];\r\n    let startX = 0;\r\n    let startY = 0;\r\n    if (opts.legend.position == 'top' || opts.legend.position == 'bottom') {\r\n      switch (opts.legend.float) {\r\n        case 'left':\r\n          startX = legendArea.start.x + padding;\r\n        break;\r\n        case 'right':\r\n          startX = legendArea.start.x + legendArea.width - width;\r\n        break;\r\n        default:\r\n        startX = legendArea.start.x + (legendArea.width - width) / 2;\r\n      }\r\n      startY = legendArea.start.y + padding + listIndex * lineHeight;\r\n    } else {\r\n      if (listIndex == 0) {\r\n        width = 0;\r\n      } else {\r\n        width = legendData.widthArr[listIndex - 1];\r\n      }\r\n      startX = legendArea.start.x + padding + width;\r\n      startY = legendArea.start.y + padding + (legendArea.height - height) / 2;\r\n    }\r\n    context.setFontSize(config.fontSize);\r\n    for (let i = 0; i < itemList.length; i++) {\r\n      let item = itemList[i];\r\n      item.area = [0, 0, 0, 0];\r\n      item.area[0] = startX;\r\n      item.area[1] = startY;\r\n      item.area[3] = startY + lineHeight;\r\n      context.beginPath();\r\n      context.setLineWidth(1 * opts.pix);\r\n      context.setStrokeStyle(item.show ? item.color : opts.legend.hiddenColor);\r\n      context.setFillStyle(item.show ? item.color : opts.legend.hiddenColor);\r\n      switch (item.legendShape) {\r\n        case 'line':\r\n          context.moveTo(startX, startY + 0.5 * lineHeight - 2 * opts.pix);\r\n          context.fillRect(startX, startY + 0.5 * lineHeight - 2 * opts.pix, 15 * opts.pix, 4 * opts.pix);\r\n          break;\r\n        case 'triangle':\r\n          context.moveTo(startX + 7.5 * opts.pix, startY + 0.5 * lineHeight - 5 * opts.pix);\r\n          context.lineTo(startX + 2.5 * opts.pix, startY + 0.5 * lineHeight + 5 * opts.pix);\r\n          context.lineTo(startX + 12.5 * opts.pix, startY + 0.5 * lineHeight + 5 * opts.pix);\r\n          context.lineTo(startX + 7.5 * opts.pix, startY + 0.5 * lineHeight - 5 * opts.pix);\r\n          break;\r\n        case 'diamond':\r\n          context.moveTo(startX + 7.5 * opts.pix, startY + 0.5 * lineHeight - 5 * opts.pix);\r\n          context.lineTo(startX + 2.5 * opts.pix, startY + 0.5 * lineHeight);\r\n          context.lineTo(startX + 7.5 * opts.pix, startY + 0.5 * lineHeight + 5 * opts.pix);\r\n          context.lineTo(startX + 12.5 * opts.pix, startY + 0.5 * lineHeight);\r\n          context.lineTo(startX + 7.5 * opts.pix, startY + 0.5 * lineHeight - 5 * opts.pix);\r\n          break;\r\n        case 'circle':\r\n          context.moveTo(startX + 7.5 * opts.pix, startY + 0.5 * lineHeight);\r\n          context.arc(startX + 7.5 * opts.pix, startY + 0.5 * lineHeight, 5 * opts.pix, 0, 2 * Math.PI);\r\n          break;\r\n        case 'rect':\r\n          context.moveTo(startX, startY + 0.5 * lineHeight - 5 * opts.pix);\r\n          context.fillRect(startX, startY + 0.5 * lineHeight - 5 * opts.pix, 15 * opts.pix, 10 * opts.pix);\r\n          break;\r\n        case 'square':\r\n          context.moveTo(startX + 5 * opts.pix, startY + 0.5 * lineHeight - 5 * opts.pix);\r\n          context.fillRect(startX + 5 * opts.pix, startY + 0.5 * lineHeight - 5 * opts.pix, 10 * opts.pix, 10 * opts.pix);\r\n          break;\r\n        case 'none':\r\n          break;\r\n        default:\r\n          context.moveTo(startX, startY + 0.5 * lineHeight - 5 * opts.pix);\r\n          context.fillRect(startX, startY + 0.5 * lineHeight - 5 * opts.pix, 15 * opts.pix, 10 * opts.pix);\r\n      }\r\n      context.closePath();\r\n      context.fill();\r\n      context.stroke();\r\n      startX += shapeWidth + shapeRight;\r\n      let fontTrans = 0.5 * lineHeight + 0.5 * fontSize - 2;\r\n      const legendText = item.legendText ? item.legendText : item.name;\r\n      context.beginPath();\r\n      context.setFontSize(fontSize);\r\n      context.setFillStyle(item.show ? opts.legend.fontColor : opts.legend.hiddenColor);\r\n      context.fillText(legendText, startX, startY + fontTrans);\r\n      context.closePath();\r\n      context.stroke();\r\n      if (opts.legend.position == 'top' || opts.legend.position == 'bottom') {\r\n        startX += measureText(legendText, fontSize, context) + itemGap;\r\n        item.area[2] = startX;\r\n      } else {\r\n        item.area[2] = startX + measureText(legendText, fontSize, context) + itemGap;;\r\n        startX -= shapeWidth + shapeRight;\r\n        startY += lineHeight;\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction drawPieDataPoints(series, opts, config, context) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  var pieOption = assign({}, {\r\n    activeOpacity: 0.5,\r\n    activeRadius: 10,\r\n    offsetAngle: 0,\r\n    labelWidth: 15,\r\n    ringWidth: 30,\r\n    customRadius: 0,\r\n    border: false,\r\n    borderWidth: 2,\r\n    borderColor: '#FFFFFF',\r\n    centerColor: '#FFFFFF',\r\n    linearType: 'none',\r\n    customColor: [],\r\n  }, opts.type == \"pie\" ? opts.extra.pie : opts.extra.ring);\r\n  var centerPosition = {\r\n    x: opts.area[3] + (opts.width - opts.area[1] - opts.area[3]) / 2,\r\n    y: opts.area[0] + (opts.height - opts.area[0] - opts.area[2]) / 2\r\n  };\r\n  if (config.pieChartLinePadding == 0) {\r\n    config.pieChartLinePadding = pieOption.activeRadius * opts.pix;\r\n  }\r\n\r\n  var radius = Math.min((opts.width - opts.area[1] - opts.area[3]) / 2 - config.pieChartLinePadding - config.pieChartTextPadding - config._pieTextMaxLength_, (opts.height - opts.area[0] - opts.area[2]) / 2 - config.pieChartLinePadding - config.pieChartTextPadding);\r\n  radius = radius < 10 ? 10 : radius;\r\n  if (pieOption.customRadius > 0) {\r\n    radius = pieOption.customRadius * opts.pix;\r\n  }\r\n  series = getPieDataPoints(series, radius, process);\r\n  var activeRadius = pieOption.activeRadius * opts.pix;\r\n  pieOption.customColor = fillCustomColor(pieOption.linearType, pieOption.customColor, series, config);\r\n  series = series.map(function(eachSeries) {\r\n    eachSeries._start_ += (pieOption.offsetAngle) * Math.PI / 180;\r\n    return eachSeries;\r\n  });\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    if (opts.tooltip) {\r\n      if (opts.tooltip.index == seriesIndex) {\r\n        context.beginPath();\r\n        context.setFillStyle(hexToRgb(eachSeries.color, pieOption.activeOpacity || 0.5));\r\n        context.moveTo(centerPosition.x, centerPosition.y);\r\n        context.arc(centerPosition.x, centerPosition.y, eachSeries._radius_ + activeRadius, eachSeries._start_, eachSeries._start_ + 2 * eachSeries._proportion_ * Math.PI);\r\n        context.closePath();\r\n        context.fill();\r\n      }\r\n    }\r\n    context.beginPath();\r\n    context.setLineWidth(pieOption.borderWidth * opts.pix);\r\n    context.lineJoin = \"round\";\r\n    context.setStrokeStyle(pieOption.borderColor);\r\n    var fillcolor = eachSeries.color;\r\n    if (pieOption.linearType == 'custom') {\r\n      var grd;\r\n      if(context.createCircularGradient){\r\n        grd = context.createCircularGradient(centerPosition.x, centerPosition.y, eachSeries._radius_)\r\n      }else{\r\n        grd = context.createRadialGradient(centerPosition.x, centerPosition.y, 0,centerPosition.x, centerPosition.y, eachSeries._radius_)\r\n      }\r\n      grd.addColorStop(0, hexToRgb(pieOption.customColor[eachSeries.linearIndex], 1))\r\n      grd.addColorStop(1, hexToRgb(eachSeries.color, 1))\r\n      fillcolor = grd\r\n    }\r\n    context.setFillStyle(fillcolor);\r\n    context.moveTo(centerPosition.x, centerPosition.y);\r\n    context.arc(centerPosition.x, centerPosition.y, eachSeries._radius_, eachSeries._start_, eachSeries._start_ + 2 * eachSeries._proportion_ * Math.PI);\r\n    context.closePath();\r\n    context.fill();\r\n    if (pieOption.border == true) {\r\n      context.stroke();\r\n    }\r\n  });\r\n  if (opts.type === 'ring') {\r\n    var innerPieWidth = radius * 0.6;\r\n    if (typeof pieOption.ringWidth === 'number' && pieOption.ringWidth > 0) {\r\n      innerPieWidth = Math.max(0, radius - pieOption.ringWidth * opts.pix);\r\n    }\r\n    context.beginPath();\r\n    context.setFillStyle(pieOption.centerColor);\r\n    context.moveTo(centerPosition.x, centerPosition.y);\r\n    context.arc(centerPosition.x, centerPosition.y, innerPieWidth, 0, 2 * Math.PI);\r\n    context.closePath();\r\n    context.fill();\r\n  }\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    drawPieText(series, opts, config, context, radius, centerPosition);\r\n  }\r\n  if (process === 1 && opts.type === 'ring') {\r\n    drawRingTitle(opts, config, context, centerPosition);\r\n  }\r\n  return {\r\n    center: centerPosition,\r\n    radius: radius,\r\n    series: series\r\n  };\r\n}\r\n\r\nfunction drawRoseDataPoints(series, opts, config, context) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  var roseOption = assign({}, {\r\n    type: 'area',\r\n    activeOpacity: 0.5,\r\n    activeRadius: 10,\r\n    offsetAngle: 0,\r\n    labelWidth: 15,\r\n    border: false,\r\n    borderWidth: 2,\r\n    borderColor: '#FFFFFF',\r\n    linearType: 'none',\r\n    customColor: [],\r\n  }, opts.extra.rose);\r\n  if (config.pieChartLinePadding == 0) {\r\n    config.pieChartLinePadding = roseOption.activeRadius * opts.pix;\r\n  }\r\n  var centerPosition = {\r\n    x: opts.area[3] + (opts.width - opts.area[1] - opts.area[3]) / 2,\r\n    y: opts.area[0] + (opts.height - opts.area[0] - opts.area[2]) / 2\r\n  };\r\n  var radius = Math.min((opts.width - opts.area[1] - opts.area[3]) / 2 - config.pieChartLinePadding - config.pieChartTextPadding - config._pieTextMaxLength_, (opts.height - opts.area[0] - opts.area[2]) / 2 - config.pieChartLinePadding - config.pieChartTextPadding);\r\n  radius = radius < 10 ? 10 : radius;\r\n  var minRadius = roseOption.minRadius || radius * 0.5;\r\n  if(radius < minRadius){\r\n    radius = minRadius + 10;\r\n  }\r\n  series = getRoseDataPoints(series, roseOption.type, minRadius, radius, process);\r\n  var activeRadius = roseOption.activeRadius * opts.pix;\r\n  roseOption.customColor = fillCustomColor(roseOption.linearType, roseOption.customColor, series, config);\r\n  series = series.map(function(eachSeries) {\r\n    eachSeries._start_ += (roseOption.offsetAngle || 0) * Math.PI / 180;\r\n    return eachSeries;\r\n  });\r\n  series.forEach(function(eachSeries, seriesIndex) {\r\n    if (opts.tooltip) {\r\n      if (opts.tooltip.index == seriesIndex) {\r\n        context.beginPath();\r\n        context.setFillStyle(hexToRgb(eachSeries.color, roseOption.activeOpacity || 0.5));\r\n        context.moveTo(centerPosition.x, centerPosition.y);\r\n        context.arc(centerPosition.x, centerPosition.y, activeRadius + eachSeries._radius_, eachSeries._start_, eachSeries._start_ + 2 * eachSeries._rose_proportion_ * Math.PI);\r\n        context.closePath();\r\n        context.fill();\r\n      }\r\n    }\r\n    context.beginPath();\r\n    context.setLineWidth(roseOption.borderWidth * opts.pix);\r\n    context.lineJoin = \"round\";\r\n    context.setStrokeStyle(roseOption.borderColor);\r\n    var fillcolor = eachSeries.color;\r\n    if (roseOption.linearType == 'custom') {\r\n      var grd;\r\n      if(context.createCircularGradient){\r\n        grd = context.createCircularGradient(centerPosition.x, centerPosition.y, eachSeries._radius_)\r\n      }else{\r\n        grd = context.createRadialGradient(centerPosition.x, centerPosition.y, 0,centerPosition.x, centerPosition.y, eachSeries._radius_)\r\n      }\r\n      grd.addColorStop(0, hexToRgb(roseOption.customColor[eachSeries.linearIndex], 1))\r\n      grd.addColorStop(1, hexToRgb(eachSeries.color, 1))\r\n      fillcolor = grd\r\n    }\r\n    context.setFillStyle(fillcolor);\r\n    context.moveTo(centerPosition.x, centerPosition.y);\r\n    context.arc(centerPosition.x, centerPosition.y, eachSeries._radius_, eachSeries._start_, eachSeries._start_ + 2 * eachSeries._rose_proportion_ * Math.PI);\r\n    context.closePath();\r\n    context.fill();\r\n    if (roseOption.border == true) {\r\n      context.stroke();\r\n    }\r\n  });\r\n\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    drawPieText(series, opts, config, context, radius, centerPosition);\r\n  }\r\n  return {\r\n    center: centerPosition,\r\n    radius: radius,\r\n    series: series\r\n  };\r\n}\r\n\r\nfunction drawArcbarDataPoints(series, opts, config, context) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  var arcbarOption = assign({}, {\r\n    startAngle: 0.75,\r\n    endAngle: 0.25,\r\n    type: 'default',\r\n    direction: 'cw',\r\n    lineCap: 'round',\r\n    width: 12 ,\r\n    gap: 2 ,\r\n    linearType: 'none',\r\n    customColor: [],\r\n  }, opts.extra.arcbar);\r\n  series = getArcbarDataPoints(series, arcbarOption, process);\r\n  var centerPosition;\r\n  if (arcbarOption.centerX || arcbarOption.centerY) {\r\n    centerPosition = {\r\n      x: arcbarOption.centerX ? arcbarOption.centerX : opts.width / 2,\r\n      y: arcbarOption.centerY ? arcbarOption.centerY : opts.height / 2\r\n    };\r\n  } else {\r\n    centerPosition = {\r\n      x: opts.width / 2,\r\n      y: opts.height / 2\r\n    };\r\n  }\r\n  var radius;\r\n  if (arcbarOption.radius) {\r\n    radius = arcbarOption.radius;\r\n  } else {\r\n    radius = Math.min(centerPosition.x, centerPosition.y);\r\n    radius -= 5 * opts.pix;\r\n    radius -= arcbarOption.width / 2;\r\n  }\r\n  radius = radius < 10 ? 10 : radius;\r\n  arcbarOption.customColor = fillCustomColor(arcbarOption.linearType, arcbarOption.customColor, series, config);\r\n  \r\n  for (let i = 0; i < series.length; i++) {\r\n    let eachSeries = series[i];\r\n    //背景颜色\r\n    context.setLineWidth(arcbarOption.width * opts.pix);\r\n    context.setStrokeStyle(arcbarOption.backgroundColor || '#E9E9E9');\r\n    context.setLineCap(arcbarOption.lineCap);\r\n    context.beginPath();\r\n    if (arcbarOption.type == 'default') {\r\n      context.arc(centerPosition.x, centerPosition.y, radius - (arcbarOption.width * opts.pix + arcbarOption.gap * opts.pix) * i, arcbarOption.startAngle * Math.PI, arcbarOption.endAngle * Math.PI, arcbarOption.direction == 'ccw');\r\n    } else {\r\n      context.arc(centerPosition.x, centerPosition.y, radius - (arcbarOption.width * opts.pix + arcbarOption.gap * opts.pix) * i, 0, 2 * Math.PI, arcbarOption.direction == 'ccw');\r\n    }\r\n    context.stroke();\r\n    //进度条\r\n    var fillColor = eachSeries.color\r\n    if(arcbarOption.linearType == 'custom'){\r\n      var grd = context.createLinearGradient(centerPosition.x - radius, centerPosition.y, centerPosition.x + radius, centerPosition.y);\r\n      grd.addColorStop(1, hexToRgb(arcbarOption.customColor[eachSeries.linearIndex], 1))\r\n      grd.addColorStop(0, hexToRgb(eachSeries.color, 1))\r\n      fillColor = grd;\r\n    }\r\n    context.setLineWidth(arcbarOption.width * opts.pix);\r\n    context.setStrokeStyle(fillColor);\r\n    context.setLineCap(arcbarOption.lineCap);\r\n    context.beginPath();\r\n    context.arc(centerPosition.x, centerPosition.y, radius - (arcbarOption.width * opts.pix + arcbarOption.gap * opts.pix) * i, arcbarOption.startAngle * Math.PI, eachSeries._proportion_ * Math.PI, arcbarOption.direction == 'ccw');\r\n    context.stroke();\r\n  }\r\n  drawRingTitle(opts, config, context, centerPosition);\r\n  return {\r\n    center: centerPosition,\r\n    radius: radius,\r\n    series: series\r\n  };\r\n}\r\n\r\nfunction drawGaugeDataPoints(categories, series, opts, config, context) {\r\n  var process = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1;\r\n  var gaugeOption = assign({}, {\r\n    type: 'default',\r\n    startAngle: 0.75,\r\n    endAngle: 0.25,\r\n    width: 15,\r\n    labelOffset:13,\r\n    splitLine: {\r\n      fixRadius: 0,\r\n      splitNumber: 10,\r\n      width: 15,\r\n      color: '#FFFFFF',\r\n      childNumber: 5,\r\n      childWidth: 5\r\n    },\r\n    pointer: {\r\n      width: 15,\r\n      color: 'auto'\r\n    }\r\n  }, opts.extra.gauge);\r\n  if (gaugeOption.oldAngle == undefined) {\r\n    gaugeOption.oldAngle = gaugeOption.startAngle;\r\n  }\r\n  if (gaugeOption.oldData == undefined) {\r\n    gaugeOption.oldData = 0;\r\n  }\r\n  categories = getGaugeAxisPoints(categories, gaugeOption.startAngle, gaugeOption.endAngle);\r\n  var centerPosition = {\r\n    x: opts.width / 2,\r\n    y: opts.height / 2\r\n  };\r\n  var radius = Math.min(centerPosition.x, centerPosition.y);\r\n  radius -= 5 * opts.pix;\r\n  radius -= gaugeOption.width / 2;\r\n  radius = radius < 10 ? 10 : radius;\r\n  var innerRadius = radius - gaugeOption.width;\r\n  var totalAngle = 0;\r\n  //判断仪表盘的样式：default百度样式，progress新样式\r\n  if (gaugeOption.type == 'progress') {\r\n    //## 第一步画中心圆形背景和进度条背景\r\n    //中心圆形背景\r\n    var pieRadius = radius - gaugeOption.width * 3;\r\n    context.beginPath();\r\n    let gradient = context.createLinearGradient(centerPosition.x, centerPosition.y - pieRadius, centerPosition.x, centerPosition.y + pieRadius);\r\n    //配置渐变填充（起点：中心点向上减半径；结束点中心点向下加半径）\r\n    gradient.addColorStop('0', hexToRgb(series[0].color, 0.3));\r\n    gradient.addColorStop('1.0', hexToRgb(\"#FFFFFF\", 0.1));\r\n    context.setFillStyle(gradient);\r\n    context.arc(centerPosition.x, centerPosition.y, pieRadius, 0, 2 * Math.PI, false);\r\n    context.fill();\r\n    //画进度条背景\r\n    context.setLineWidth(gaugeOption.width);\r\n    context.setStrokeStyle(hexToRgb(series[0].color, 0.3));\r\n    context.setLineCap('round');\r\n    context.beginPath();\r\n    context.arc(centerPosition.x, centerPosition.y, innerRadius, gaugeOption.startAngle * Math.PI, gaugeOption.endAngle * Math.PI, false);\r\n    context.stroke();\r\n    //## 第二步画刻度线\r\n    if (gaugeOption.endAngle < gaugeOption.startAngle) {\r\n      totalAngle = 2 + gaugeOption.endAngle - gaugeOption.startAngle;\r\n    } else {\r\n      totalAngle = gaugeOption.startAngle - gaugeOption.endAngle;\r\n    }\r\n    let splitAngle = totalAngle / gaugeOption.splitLine.splitNumber;\r\n    let childAngle = totalAngle / gaugeOption.splitLine.splitNumber / gaugeOption.splitLine.childNumber;\r\n    let startX = -radius - gaugeOption.width * 0.5 - gaugeOption.splitLine.fixRadius;\r\n    let endX = -radius - gaugeOption.width - gaugeOption.splitLine.fixRadius + gaugeOption.splitLine.width;\r\n    context.save();\r\n    context.translate(centerPosition.x, centerPosition.y);\r\n    context.rotate((gaugeOption.startAngle - 1) * Math.PI);\r\n    let len = gaugeOption.splitLine.splitNumber * gaugeOption.splitLine.childNumber + 1;\r\n    let proc = series[0].data * process;\r\n    for (let i = 0; i < len; i++) {\r\n      context.beginPath();\r\n      //刻度线随进度变色\r\n      if (proc > (i / len)) {\r\n        context.setStrokeStyle(hexToRgb(series[0].color, 1));\r\n      } else {\r\n        context.setStrokeStyle(hexToRgb(series[0].color, 0.3));\r\n      }\r\n      context.setLineWidth(3 * opts.pix);\r\n      context.moveTo(startX, 0);\r\n      context.lineTo(endX, 0);\r\n      context.stroke();\r\n      context.rotate(childAngle * Math.PI);\r\n    }\r\n    context.restore();\r\n    //## 第三步画进度条\r\n    series = getGaugeArcbarDataPoints(series, gaugeOption, process);\r\n    context.setLineWidth(gaugeOption.width);\r\n    context.setStrokeStyle(series[0].color);\r\n    context.setLineCap('round');\r\n    context.beginPath();\r\n    context.arc(centerPosition.x, centerPosition.y, innerRadius, gaugeOption.startAngle * Math.PI, series[0]._proportion_ * Math.PI, false);\r\n    context.stroke();\r\n    //## 第四步画指针\r\n    let pointerRadius = radius - gaugeOption.width * 2.5;\r\n    context.save();\r\n    context.translate(centerPosition.x, centerPosition.y);\r\n    context.rotate((series[0]._proportion_ - 1) * Math.PI);\r\n    context.beginPath();\r\n    context.setLineWidth(gaugeOption.width / 3);\r\n    let gradient3 = context.createLinearGradient(0, -pointerRadius * 0.6, 0, pointerRadius * 0.6);\r\n    gradient3.addColorStop('0', hexToRgb('#FFFFFF', 0));\r\n    gradient3.addColorStop('0.5', hexToRgb(series[0].color, 1));\r\n    gradient3.addColorStop('1.0', hexToRgb('#FFFFFF', 0));\r\n    context.setStrokeStyle(gradient3);\r\n    context.arc(0, 0, pointerRadius, 0.85 * Math.PI, 1.15 * Math.PI, false);\r\n    context.stroke();\r\n    context.beginPath();\r\n    context.setLineWidth(1);\r\n    context.setStrokeStyle(series[0].color);\r\n    context.setFillStyle(series[0].color);\r\n    context.moveTo(-pointerRadius - gaugeOption.width / 3 / 2, -4);\r\n    context.lineTo(-pointerRadius - gaugeOption.width / 3 / 2 - 4, 0);\r\n    context.lineTo(-pointerRadius - gaugeOption.width / 3 / 2, 4);\r\n    context.lineTo(-pointerRadius - gaugeOption.width / 3 / 2, -4);\r\n    context.stroke();\r\n    context.fill();\r\n    context.restore();\r\n    //default百度样式\r\n  } else {\r\n    //画背景\r\n    context.setLineWidth(gaugeOption.width);\r\n    context.setLineCap('butt');\r\n    for (let i = 0; i < categories.length; i++) {\r\n      let eachCategories = categories[i];\r\n      context.beginPath();\r\n      context.setStrokeStyle(eachCategories.color);\r\n      context.arc(centerPosition.x, centerPosition.y, radius, eachCategories._startAngle_ * Math.PI, eachCategories._endAngle_ * Math.PI, false);\r\n      context.stroke();\r\n    }\r\n    context.save();\r\n    //画刻度线\r\n    if (gaugeOption.endAngle < gaugeOption.startAngle) {\r\n      totalAngle = 2 + gaugeOption.endAngle - gaugeOption.startAngle;\r\n    } else {\r\n      totalAngle = gaugeOption.startAngle - gaugeOption.endAngle;\r\n    }\r\n    let splitAngle = totalAngle / gaugeOption.splitLine.splitNumber;\r\n    let childAngle = totalAngle / gaugeOption.splitLine.splitNumber / gaugeOption.splitLine.childNumber;\r\n    let startX = -radius - gaugeOption.width * 0.5 - gaugeOption.splitLine.fixRadius;\r\n    let endX = -radius - gaugeOption.width * 0.5 - gaugeOption.splitLine.fixRadius + gaugeOption.splitLine.width;\r\n    let childendX = -radius - gaugeOption.width * 0.5 - gaugeOption.splitLine.fixRadius + gaugeOption.splitLine.childWidth;\r\n    context.translate(centerPosition.x, centerPosition.y);\r\n    context.rotate((gaugeOption.startAngle - 1) * Math.PI);\r\n    for (let i = 0; i < gaugeOption.splitLine.splitNumber + 1; i++) {\r\n      context.beginPath();\r\n      context.setStrokeStyle(gaugeOption.splitLine.color);\r\n      context.setLineWidth(2 * opts.pix);\r\n      context.moveTo(startX, 0);\r\n      context.lineTo(endX, 0);\r\n      context.stroke();\r\n      context.rotate(splitAngle * Math.PI);\r\n    }\r\n    context.restore();\r\n    context.save();\r\n    context.translate(centerPosition.x, centerPosition.y);\r\n    context.rotate((gaugeOption.startAngle - 1) * Math.PI);\r\n    for (let i = 0; i < gaugeOption.splitLine.splitNumber * gaugeOption.splitLine.childNumber + 1; i++) {\r\n      context.beginPath();\r\n      context.setStrokeStyle(gaugeOption.splitLine.color);\r\n      context.setLineWidth(1 * opts.pix);\r\n      context.moveTo(startX, 0);\r\n      context.lineTo(childendX, 0);\r\n      context.stroke();\r\n      context.rotate(childAngle * Math.PI);\r\n    }\r\n    context.restore();\r\n    //画指针\r\n    series = getGaugeDataPoints(series, categories, gaugeOption, process);\r\n    for (let i = 0; i < series.length; i++) {\r\n      let eachSeries = series[i];\r\n      context.save();\r\n      context.translate(centerPosition.x, centerPosition.y);\r\n      context.rotate((eachSeries._proportion_ - 1) * Math.PI);\r\n      context.beginPath();\r\n      context.setFillStyle(eachSeries.color);\r\n      context.moveTo(gaugeOption.pointer.width, 0);\r\n      context.lineTo(0, -gaugeOption.pointer.width / 2);\r\n      context.lineTo(-innerRadius, 0);\r\n      context.lineTo(0, gaugeOption.pointer.width / 2);\r\n      context.lineTo(gaugeOption.pointer.width, 0);\r\n      context.closePath();\r\n      context.fill();\r\n      context.beginPath();\r\n      context.setFillStyle('#FFFFFF');\r\n      context.arc(0, 0, gaugeOption.pointer.width / 6, 0, 2 * Math.PI, false);\r\n      context.fill();\r\n      context.restore();\r\n    }\r\n    if (opts.dataLabel !== false) {\r\n      drawGaugeLabel(gaugeOption, radius, centerPosition, opts, config, context);\r\n    }\r\n  }\r\n  //画仪表盘标题，副标题\r\n  drawRingTitle(opts, config, context, centerPosition);\r\n  if (process === 1 && opts.type === 'gauge') {\r\n    opts.extra.gauge.oldAngle = series[0]._proportion_;\r\n    opts.extra.gauge.oldData = series[0].data;\r\n  }\r\n  return {\r\n    center: centerPosition,\r\n    radius: radius,\r\n    innerRadius: innerRadius,\r\n    categories: categories,\r\n    totalAngle: totalAngle\r\n  };\r\n}\r\n\r\nfunction drawRadarDataPoints(series, opts, config, context) {\r\n  var process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  var radarOption = assign({}, {\r\n    gridColor: '#cccccc',\r\n    gridType: 'radar',\r\n    gridEval:1,\r\n    axisLabel:false,\r\n    axisLabelTofix:0,\r\n    labelShow:true,\r\n    labelColor:'#666666',\r\n    labelPointShow:false,\r\n    labelPointRadius:3,\r\n    labelPointColor:'#cccccc',\r\n    opacity: 0.2,\r\n    gridCount: 3,\r\n    border:false,\r\n    borderWidth:2,\r\n    linearType: 'none',\r\n    customColor: [],\r\n  }, opts.extra.radar);\r\n  var coordinateAngle = getRadarCoordinateSeries(opts.categories.length);\r\n  var centerPosition = {\r\n    x: opts.area[3] + (opts.width - opts.area[1] - opts.area[3]) / 2,\r\n    y: opts.area[0] + (opts.height - opts.area[0] - opts.area[2]) / 2\r\n  };\r\n  var xr = (opts.width - opts.area[1] - opts.area[3]) / 2\r\n  var yr = (opts.height - opts.area[0] - opts.area[2]) / 2\r\n  var radius = Math.min(xr - (getMaxTextListLength(opts.categories, config.fontSize, context) + config.radarLabelTextMargin), yr - config.radarLabelTextMargin);\r\n  radius -= config.radarLabelTextMargin * opts.pix;\r\n  radius = radius < 10 ? 10 : radius;\r\n  radius = radarOption.radius ? radarOption.radius : radius;\r\n  // 画分割线\r\n  context.beginPath();\r\n  context.setLineWidth(1 * opts.pix);\r\n  context.setStrokeStyle(radarOption.gridColor);\r\n  coordinateAngle.forEach(function(angle,index) {\r\n    var pos = convertCoordinateOrigin(radius * Math.cos(angle), radius * Math.sin(angle), centerPosition);\r\n    context.moveTo(centerPosition.x, centerPosition.y);\r\n    if (index % radarOption.gridEval == 0) {\r\n      context.lineTo(pos.x, pos.y);\r\n    }\r\n  });\r\n  context.stroke();\r\n  context.closePath();\r\n  \r\n  // 画背景网格\r\n  var _loop = function _loop(i) {\r\n    var startPos = {};\r\n    context.beginPath();\r\n    context.setLineWidth(1 * opts.pix);\r\n    context.setStrokeStyle(radarOption.gridColor);\r\n    if (radarOption.gridType == 'radar') {\r\n      coordinateAngle.forEach(function(angle, index) {\r\n        var pos = convertCoordinateOrigin(radius / radarOption.gridCount * i * Math.cos(angle), radius /\r\n          radarOption.gridCount * i * Math.sin(angle), centerPosition);\r\n        if (index === 0) {\r\n          startPos = pos;\r\n          context.moveTo(pos.x, pos.y);\r\n        } else {\r\n          context.lineTo(pos.x, pos.y);\r\n        }\r\n      });\r\n      context.lineTo(startPos.x, startPos.y);\r\n    } else {\r\n      var pos = convertCoordinateOrigin(radius / radarOption.gridCount * i * Math.cos(1.5), radius / radarOption.gridCount * i * Math.sin(1.5), centerPosition);\r\n      context.arc(centerPosition.x, centerPosition.y, centerPosition.y - pos.y, 0, 2 * Math.PI, false);\r\n    }\r\n    context.stroke();\r\n    context.closePath();\r\n  };\r\n  for (var i = 1; i <= radarOption.gridCount; i++) {\r\n    _loop(i);\r\n  }\r\n  radarOption.customColor = fillCustomColor(radarOption.linearType, radarOption.customColor, series, config);\r\n  var radarDataPoints = getRadarDataPoints(coordinateAngle, centerPosition, radius, series, opts, process);\r\n  radarDataPoints.forEach(function(eachSeries, seriesIndex) {\r\n    // 绘制区域数据\r\n    context.beginPath();\r\n    context.setLineWidth(radarOption.borderWidth * opts.pix);\r\n    context.setStrokeStyle(eachSeries.color);\r\n    \r\n    var fillcolor = hexToRgb(eachSeries.color, radarOption.opacity);\r\n    if (radarOption.linearType == 'custom') {\r\n      var grd;\r\n      if(context.createCircularGradient){\r\n        grd = context.createCircularGradient(centerPosition.x, centerPosition.y, radius)\r\n      }else{\r\n        grd = context.createRadialGradient(centerPosition.x, centerPosition.y, 0,centerPosition.x, centerPosition.y, radius)\r\n      }\r\n      grd.addColorStop(0, hexToRgb(radarOption.customColor[series[seriesIndex].linearIndex], radarOption.opacity))\r\n      grd.addColorStop(1, hexToRgb(eachSeries.color, radarOption.opacity))\r\n      fillcolor = grd\r\n    }\r\n    \r\n    context.setFillStyle(fillcolor);\r\n    eachSeries.data.forEach(function(item, index) {\r\n      if (index === 0) {\r\n        context.moveTo(item.position.x, item.position.y);\r\n      } else {\r\n        context.lineTo(item.position.x, item.position.y);\r\n      }\r\n    });\r\n    context.closePath();\r\n    context.fill();\r\n    if(radarOption.border === true){\r\n      context.stroke();\r\n    }\r\n    context.closePath();\r\n    if (opts.dataPointShape !== false) {\r\n      var points = eachSeries.data.map(function(item) {\r\n        return item.position;\r\n      });\r\n      drawPointShape(points, eachSeries.color, eachSeries.pointShape, context, opts);\r\n    }\r\n  });\r\n  // 画刻度值\r\n  if(radarOption.axisLabel === true){\r\n    const maxData = Math.max(radarOption.max, Math.max.apply(null, dataCombine(series)));\r\n    const stepLength = radius / radarOption.gridCount;\r\n    const fontSize = opts.fontSize * opts.pix;\r\n    context.setFontSize(fontSize);\r\n    context.setFillStyle(opts.fontColor);\r\n    context.setTextAlign('left');\r\n    for (var i = 0; i < radarOption.gridCount + 1; i++) {\r\n      let label = i * maxData / radarOption.gridCount;\r\n      label = label.toFixed(radarOption.axisLabelTofix);\r\n      context.fillText(String(label), centerPosition.x + 3 * opts.pix, centerPosition.y - i * stepLength + fontSize / 2);\r\n    }\r\n  }\r\n  \r\n  // draw label text\r\n  drawRadarLabel(coordinateAngle, radius, centerPosition, opts, config, context);\r\n  \r\n  // draw dataLabel\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    radarDataPoints.forEach(function(eachSeries, seriesIndex) {\r\n      context.beginPath();\r\n      var fontSize = eachSeries.textSize * opts.pix || config.fontSize;\r\n      context.setFontSize(fontSize);\r\n      context.setFillStyle(eachSeries.textColor || opts.fontColor);\r\n      eachSeries.data.forEach(function(item, index) {\r\n        //如果是中心点垂直的上下点位\r\n        if(Math.abs(item.position.x - centerPosition.x)<2){\r\n          //如果在上面\r\n          if(item.position.y < centerPosition.y){\r\n            context.setTextAlign('center');\r\n            context.fillText(item.value, item.position.x, item.position.y - 4);\r\n          }else{\r\n            context.setTextAlign('center');\r\n            context.fillText(item.value, item.position.x, item.position.y + fontSize + 2);\r\n          }\r\n        }else{\r\n          //如果在左侧\r\n          if(item.position.x < centerPosition.x){\r\n            context.setTextAlign('right');\r\n            context.fillText(item.value, item.position.x - 4, item.position.y + fontSize / 2 - 2);\r\n          }else{\r\n            context.setTextAlign('left');\r\n            context.fillText(item.value, item.position.x + 4, item.position.y + fontSize / 2 - 2);\r\n          }\r\n        }\r\n      });\r\n      context.closePath();\r\n      context.stroke();\r\n    });\r\n    context.setTextAlign('left');\r\n  }\r\n  \r\n  return {\r\n    center: centerPosition,\r\n    radius: radius,\r\n    angleList: coordinateAngle\r\n  };\r\n}\r\n\r\n// 经纬度转墨卡托\r\nfunction lonlat2mercator(longitude, latitude) {\r\n  var mercator = Array(2);\r\n  var x = longitude * 20037508.34 / 180;\r\n  var y = Math.log(Math.tan((90 + latitude) * Math.PI / 360)) / (Math.PI / 180);\r\n  y = y * 20037508.34 / 180;\r\n  mercator[0] = x;\r\n  mercator[1] = y;\r\n  return mercator;\r\n}\r\n\r\n// 墨卡托转经纬度\r\nfunction mercator2lonlat(longitude, latitude) {\r\n  var lonlat = Array(2)\r\n  var x = longitude / 20037508.34 * 180;\r\n  var y = latitude / 20037508.34 * 180;\r\n  y = 180 / Math.PI * (2 * Math.atan(Math.exp(y * Math.PI / 180)) - Math.PI / 2);\r\n  lonlat[0] = x;\r\n  lonlat[1] = y;\r\n  return lonlat;\r\n}\r\n\r\nfunction getBoundingBox(data) {\r\n  var bounds = {},coords;\r\n  bounds.xMin = 180;\r\n  bounds.xMax = 0;\r\n  bounds.yMin = 90;\r\n  bounds.yMax = 0\r\n  for (var i = 0; i < data.length; i++) {\r\n    var coorda = data[i].geometry.coordinates\r\n    for (var k = 0; k < coorda.length; k++) {\r\n      coords = coorda[k];\r\n      if (coords.length == 1) {\r\n        coords = coords[0]\r\n      }\r\n      for (var j = 0; j < coords.length; j++) {\r\n        var longitude = coords[j][0];\r\n        var latitude = coords[j][1];\r\n        var point = {\r\n          x: longitude,\r\n          y: latitude\r\n        }\r\n        bounds.xMin = bounds.xMin < point.x ? bounds.xMin : point.x;\r\n        bounds.xMax = bounds.xMax > point.x ? bounds.xMax : point.x;\r\n        bounds.yMin = bounds.yMin < point.y ? bounds.yMin : point.y;\r\n        bounds.yMax = bounds.yMax > point.y ? bounds.yMax : point.y;\r\n      }\r\n    }\r\n  }\r\n  return bounds;\r\n}\r\n\r\nfunction coordinateToPoint(latitude, longitude, bounds, scale, xoffset, yoffset) {\r\n  return {\r\n    x: (longitude - bounds.xMin) * scale + xoffset,\r\n    y: (bounds.yMax - latitude) * scale + yoffset\r\n  };\r\n}\r\n\r\nfunction pointToCoordinate(pointY, pointX, bounds, scale, xoffset, yoffset) {\r\n  return {\r\n    x: (pointX - xoffset) / scale + bounds.xMin,\r\n    y: bounds.yMax - (pointY - yoffset) / scale\r\n  };\r\n}\r\n\r\nfunction isRayIntersectsSegment(poi, s_poi, e_poi) {\r\n  if (s_poi[1] == e_poi[1]) {\r\n    return false;\r\n  }\r\n  if (s_poi[1] > poi[1] && e_poi[1] > poi[1]) {\r\n    return false;\r\n  }\r\n  if (s_poi[1] < poi[1] && e_poi[1] < poi[1]) {\r\n    return false;\r\n  }\r\n  if (s_poi[1] == poi[1] && e_poi[1] > poi[1]) {\r\n    return false;\r\n  }\r\n  if (e_poi[1] == poi[1] && s_poi[1] > poi[1]) {\r\n    return false;\r\n  }\r\n  if (s_poi[0] < poi[0] && e_poi[1] < poi[1]) {\r\n    return false;\r\n  }\r\n  let xseg = e_poi[0] - (e_poi[0] - s_poi[0]) * (e_poi[1] - poi[1]) / (e_poi[1] - s_poi[1]);\r\n  if (xseg < poi[0]) {\r\n    return false;\r\n  } else {\r\n    return true;\r\n  }\r\n}\r\n\r\nfunction isPoiWithinPoly(poi, poly, mercator) {\r\n  let sinsc = 0;\r\n  for (let i = 0; i < poly.length; i++) {\r\n    let epoly = poly[i][0];\r\n    if (poly.length == 1) {\r\n      epoly = poly[i][0]\r\n    }\r\n    for (let j = 0; j < epoly.length - 1; j++) {\r\n      let s_poi = epoly[j];\r\n      let e_poi = epoly[j + 1];\r\n      if (mercator) {\r\n        s_poi = lonlat2mercator(epoly[j][0], epoly[j][1]);\r\n        e_poi = lonlat2mercator(epoly[j + 1][0], epoly[j + 1][1]);\r\n      }\r\n      if (isRayIntersectsSegment(poi, s_poi, e_poi)) {\r\n        sinsc += 1;\r\n      }\r\n    }\r\n  }\r\n  if (sinsc % 2 == 1) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\nfunction drawMapDataPoints(series, opts, config, context) {\r\n  var mapOption = assign({}, {\r\n    border: true,\r\n    mercator: false,\r\n    borderWidth: 1,\r\n    active:true,\r\n    borderColor: '#666666',\r\n    fillOpacity: 0.6,\r\n    activeBorderColor: '#f04864',\r\n    activeFillColor: '#facc14',\r\n    activeFillOpacity: 1\r\n  }, opts.extra.map);\r\n  var coords, point;\r\n  var data = series;\r\n  var bounds = getBoundingBox(data);\r\n  if (mapOption.mercator) {\r\n    var max = lonlat2mercator(bounds.xMax, bounds.yMax)\r\n    var min = lonlat2mercator(bounds.xMin, bounds.yMin)\r\n    bounds.xMax = max[0]\r\n    bounds.yMax = max[1]\r\n    bounds.xMin = min[0]\r\n    bounds.yMin = min[1]\r\n  }\r\n  var xScale = opts.width / Math.abs(bounds.xMax - bounds.xMin);\r\n  var yScale = opts.height / Math.abs(bounds.yMax - bounds.yMin);\r\n  var scale = xScale < yScale ? xScale : yScale;\r\n  var xoffset = opts.width / 2 - Math.abs(bounds.xMax - bounds.xMin) / 2 * scale;\r\n  var yoffset = opts.height / 2 - Math.abs(bounds.yMax - bounds.yMin) / 2 * scale;\r\n  for (var i = 0; i < data.length; i++) {\r\n    context.beginPath();\r\n    context.setLineWidth(mapOption.borderWidth * opts.pix);\r\n    context.setStrokeStyle(mapOption.borderColor);\r\n    context.setFillStyle(hexToRgb(series[i].color, series[i].fillOpacity||mapOption.fillOpacity));\r\n    if (mapOption.active == true && opts.tooltip) {\r\n      if (opts.tooltip.index == i) {\r\n        context.setStrokeStyle(mapOption.activeBorderColor);\r\n        context.setFillStyle(hexToRgb(mapOption.activeFillColor, mapOption.activeFillOpacity));\r\n      }\r\n    }\r\n    var coorda = data[i].geometry.coordinates\r\n    for (var k = 0; k < coorda.length; k++) {\r\n      coords = coorda[k];\r\n      if (coords.length == 1) {\r\n        coords = coords[0]\r\n      }\r\n      for (var j = 0; j < coords.length; j++) {\r\n        var gaosi = Array(2);\r\n        if (mapOption.mercator) {\r\n          gaosi = lonlat2mercator(coords[j][0], coords[j][1])\r\n        } else {\r\n          gaosi = coords[j]\r\n        }\r\n        point = coordinateToPoint(gaosi[1], gaosi[0], bounds, scale, xoffset, yoffset)\r\n        if (j === 0) {\r\n          context.beginPath();\r\n          context.moveTo(point.x, point.y);\r\n        } else {\r\n          context.lineTo(point.x, point.y);\r\n        }\r\n      }\r\n      context.fill();\r\n      if (mapOption.border == true) {\r\n        context.stroke();\r\n      }\r\n    }\r\n  }\r\n  if (opts.dataLabel == true) {\r\n    for (var i = 0; i < data.length; i++) {\r\n      var centerPoint = data[i].properties.centroid;\r\n      if (centerPoint) {\r\n        if (mapOption.mercator) {\r\n          centerPoint = lonlat2mercator(data[i].properties.centroid[0], data[i].properties.centroid[1])\r\n        }\r\n        point = coordinateToPoint(centerPoint[1], centerPoint[0], bounds, scale, xoffset, yoffset);\r\n        let fontSize = data[i].textSize * opts.pix || config.fontSize;\r\n        let fontColor = data[i].textColor || opts.fontColor;\r\n        if(mapOption.active && mapOption.activeTextColor && opts.tooltip && opts.tooltip.index == i){\r\n          fontColor = mapOption.activeTextColor;\r\n        }\r\n        let text = data[i].properties.name;\r\n        context.beginPath();\r\n        context.setFontSize(fontSize)\r\n        context.setFillStyle(fontColor)\r\n        context.fillText(text, point.x - measureText(text, fontSize, context) / 2, point.y + fontSize / 2);\r\n        context.closePath();\r\n        context.stroke();\r\n      }\r\n    }\r\n  }\r\n  opts.chartData.mapData = {\r\n    bounds: bounds,\r\n    scale: scale,\r\n    xoffset: xoffset,\r\n    yoffset: yoffset,\r\n    mercator: mapOption.mercator\r\n  }\r\n  drawToolTipBridge(opts, config, context, 1);\r\n  context.draw();\r\n}\r\n\r\nfunction normalInt(min, max, iter) {\r\n  iter = iter == 0 ? 1 : iter;\r\n  var arr = [];\r\n  for (var i = 0; i < iter; i++) {\r\n    arr[i] = Math.random();\r\n  };\r\n  return Math.floor(arr.reduce(function(i, j) {\r\n    return i + j\r\n  }) / iter * (max - min)) + min;\r\n};\r\n\r\nfunction collisionNew(area, points, width, height) {\r\n  var isIn = false;\r\n  for (let i = 0; i < points.length; i++) {\r\n    if (points[i].area) {\r\n      if (area[3] < points[i].area[1] || area[0] > points[i].area[2] || area[1] > points[i].area[3] || area[2] < points[i].area[0]) {\r\n        if (area[0] < 0 || area[1] < 0 || area[2] > width || area[3] > height) {\r\n          isIn = true;\r\n          break;\r\n        } else {\r\n          isIn = false;\r\n        }\r\n      } else {\r\n        isIn = true;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return isIn;\r\n};\r\n\r\nfunction getWordCloudPoint(opts, type, context) {\r\n  let points = opts.series;\r\n  switch (type) {\r\n    case 'normal':\r\n      for (let i = 0; i < points.length; i++) {\r\n        let text = points[i].name;\r\n        let tHeight = points[i].textSize * opts.pix;\r\n        let tWidth = measureText(text, tHeight, context);\r\n        let x, y;\r\n        let area;\r\n        let breaknum = 0;\r\n        while (true) {\r\n          breaknum++;\r\n          x = normalInt(-opts.width / 2, opts.width / 2, 5) - tWidth / 2;\r\n          y = normalInt(-opts.height / 2, opts.height / 2, 5) + tHeight / 2;\r\n          area = [x - 5 + opts.width / 2, y - 5 - tHeight + opts.height / 2, x + tWidth + 5 + opts.width / 2, y + 5 +\r\n            opts.height / 2\r\n          ];\r\n          let isCollision = collisionNew(area, points, opts.width, opts.height);\r\n          if (!isCollision) break;\r\n          if (breaknum == 1000) {\r\n            area = [-100, -100, -100, -100];\r\n            break;\r\n          }\r\n        };\r\n        points[i].area = area;\r\n      }\r\n      break;\r\n    case 'vertical':\r\n      function Spin() {\r\n        //获取均匀随机值，是否旋转，旋转的概率为（1-0.5）\r\n        if (Math.random() > 0.7) {\r\n          return true;\r\n        } else {\r\n          return false\r\n        };\r\n      };\r\n      for (let i = 0; i < points.length; i++) {\r\n        let text = points[i].name;\r\n        let tHeight = points[i].textSize * opts.pix;\r\n        let tWidth = measureText(text, tHeight, context);\r\n        let isSpin = Spin();\r\n        let x, y, area, areav;\r\n        let breaknum = 0;\r\n        while (true) {\r\n          breaknum++;\r\n          let isCollision;\r\n          if (isSpin) {\r\n            x = normalInt(-opts.width / 2, opts.width / 2, 5) - tWidth / 2;\r\n            y = normalInt(-opts.height / 2, opts.height / 2, 5) + tHeight / 2;\r\n            area = [y - 5 - tWidth + opts.width / 2, (-x - 5 + opts.height / 2), y + 5 + opts.width / 2, (-x + tHeight + 5 + opts.height / 2)];\r\n            areav = [opts.width - (opts.width / 2 - opts.height / 2) - (-x + tHeight + 5 + opts.height / 2) - 5, (opts.height / 2 - opts.width / 2) + (y - 5 - tWidth + opts.width / 2) - 5, opts.width - (opts.width / 2 - opts.height / 2) - (-x + tHeight + 5 + opts.height / 2) + tHeight, (opts.height / 2 - opts.width / 2) + (y - 5 - tWidth + opts.width / 2) + tWidth + 5];\r\n            isCollision = collisionNew(areav, points, opts.height, opts.width);\r\n          } else {\r\n            x = normalInt(-opts.width / 2, opts.width / 2, 5) - tWidth / 2;\r\n            y = normalInt(-opts.height / 2, opts.height / 2, 5) + tHeight / 2;\r\n            area = [x - 5 + opts.width / 2, y - 5 - tHeight + opts.height / 2, x + tWidth + 5 + opts.width / 2, y + 5 + opts.height / 2];\r\n            isCollision = collisionNew(area, points, opts.width, opts.height);\r\n          }\r\n          if (!isCollision) break;\r\n          if (breaknum == 1000) {\r\n            area = [-1000, -1000, -1000, -1000];\r\n            break;\r\n          }\r\n        };\r\n        if (isSpin) {\r\n          points[i].area = areav;\r\n          points[i].areav = area;\r\n        } else {\r\n          points[i].area = area;\r\n        }\r\n        points[i].rotate = isSpin;\r\n      };\r\n      break;\r\n  }\r\n  return points;\r\n}\r\n\r\nfunction drawWordCloudDataPoints(series, opts, config, context) {\r\n  let process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  let wordOption = assign({}, {\r\n    type: 'normal',\r\n    autoColors: true\r\n  }, opts.extra.word);\r\n  if (!opts.chartData.wordCloudData) {\r\n    opts.chartData.wordCloudData = getWordCloudPoint(opts, wordOption.type, context);\r\n  }\r\n  context.beginPath();\r\n  context.setFillStyle(opts.background);\r\n  context.rect(0, 0, opts.width, opts.height);\r\n  context.fill();\r\n  context.save();\r\n  let points = opts.chartData.wordCloudData;\r\n  context.translate(opts.width / 2, opts.height / 2);\r\n  for (let i = 0; i < points.length; i++) {\r\n    context.save();\r\n    if (points[i].rotate) {\r\n      context.rotate(90 * Math.PI / 180);\r\n    }\r\n    let text = points[i].name;\r\n    let tHeight = points[i].textSize * opts.pix;\r\n    let tWidth = measureText(text, tHeight, context);\r\n    context.beginPath();\r\n    context.setStrokeStyle(points[i].color);\r\n    context.setFillStyle(points[i].color);\r\n    context.setFontSize(tHeight);\r\n    if (points[i].rotate) {\r\n      if (points[i].areav[0] > 0) {\r\n        if (opts.tooltip) {\r\n          if (opts.tooltip.index == i) {\r\n            context.strokeText(text, (points[i].areav[0] + 5 - opts.width / 2) * process - tWidth * (1 - process) / 2, (points[i].areav[1] + 5 + tHeight - opts.height / 2) * process);\r\n          } else {\r\n            context.fillText(text, (points[i].areav[0] + 5 - opts.width / 2) * process - tWidth * (1 - process) / 2, (points[i].areav[1] + 5 + tHeight - opts.height / 2) * process);\r\n          }\r\n        } else {\r\n          context.fillText(text, (points[i].areav[0] + 5 - opts.width / 2) * process - tWidth * (1 - process) / 2, (points[i].areav[1] + 5 + tHeight - opts.height / 2) * process);\r\n        }\r\n      }\r\n    } else {\r\n      if (points[i].area[0] > 0) {\r\n        if (opts.tooltip) {\r\n          if (opts.tooltip.index == i) {\r\n            context.strokeText(text, (points[i].area[0] + 5 - opts.width / 2) * process - tWidth * (1 - process) / 2, (points[i].area[1] + 5 + tHeight - opts.height / 2) * process);\r\n          } else {\r\n            context.fillText(text, (points[i].area[0] + 5 - opts.width / 2) * process - tWidth * (1 - process) / 2, (points[i].area[1] + 5 + tHeight - opts.height / 2) * process);\r\n          }\r\n        } else {\r\n          context.fillText(text, (points[i].area[0] + 5 - opts.width / 2) * process - tWidth * (1 - process) / 2, (points[i].area[1] + 5 + tHeight - opts.height / 2) * process);\r\n        }\r\n      }\r\n    }\r\n    context.stroke();\r\n    context.restore();\r\n  }\r\n  context.restore();\r\n}\r\n\r\nfunction drawFunnelDataPoints(series, opts, config, context) {\r\n  let process = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\r\n  let funnelOption = assign({}, {\r\n    type:'funnel',\r\n    activeWidth: 10,\r\n    activeOpacity: 0.3,\r\n    border: false,\r\n    borderWidth: 2,\r\n    borderColor: '#FFFFFF',\r\n    fillOpacity: 1,\r\n    minSize: 0,\r\n    labelAlign: 'right',\r\n    linearType: 'none',\r\n    customColor: [],\r\n  }, opts.extra.funnel);\r\n  let eachSpacing = (opts.height - opts.area[0] - opts.area[2]) / series.length;\r\n  let centerPosition = {\r\n    x: opts.area[3] + (opts.width - opts.area[1] - opts.area[3]) / 2,\r\n    y: opts.height - opts.area[2]\r\n  };\r\n  let activeWidth = funnelOption.activeWidth * opts.pix;\r\n  let radius = Math.min((opts.width - opts.area[1] - opts.area[3]) / 2 - activeWidth, (opts.height - opts.area[0] - opts.area[2]) / 2 - activeWidth);\r\n  let seriesNew = getFunnelDataPoints(series, radius, funnelOption, eachSpacing, process);\r\n  context.save();\r\n  context.translate(centerPosition.x, centerPosition.y);\r\n  funnelOption.customColor = fillCustomColor(funnelOption.linearType, funnelOption.customColor, series, config);\r\n  if(funnelOption.type == 'pyramid'){\r\n    for (let i = 0; i < seriesNew.length; i++) {\r\n      if (i == seriesNew.length -1) {\r\n        if (opts.tooltip) {\r\n          if (opts.tooltip.index == i) {\r\n            context.beginPath();\r\n            context.setFillStyle(hexToRgb(seriesNew[i].color, funnelOption.activeOpacity));\r\n            context.moveTo(-activeWidth, -eachSpacing);\r\n            context.lineTo(-seriesNew[i].radius - activeWidth, 0);\r\n            context.lineTo(seriesNew[i].radius + activeWidth, 0);\r\n            context.lineTo(activeWidth, -eachSpacing);\r\n            context.lineTo(-activeWidth, -eachSpacing);\r\n            context.closePath();\r\n            context.fill();\r\n          }\r\n        }\r\n        seriesNew[i].funnelArea = [centerPosition.x - seriesNew[i].radius, centerPosition.y - eachSpacing * (i + 1), centerPosition.x + seriesNew[i].radius, centerPosition.y - eachSpacing * i];\r\n        context.beginPath();\r\n        context.setLineWidth(funnelOption.borderWidth * opts.pix);\r\n        context.setStrokeStyle(funnelOption.borderColor);\r\n        var fillColor = hexToRgb(seriesNew[i].color, funnelOption.fillOpacity);\r\n        if (funnelOption.linearType == 'custom') {\r\n          var grd = context.createLinearGradient(seriesNew[i].radius, -eachSpacing, -seriesNew[i].radius, -eachSpacing);\r\n          grd.addColorStop(0, hexToRgb(seriesNew[i].color, funnelOption.fillOpacity));\r\n          grd.addColorStop(0.5, hexToRgb(funnelOption.customColor[seriesNew[i].linearIndex], funnelOption.fillOpacity));\r\n          grd.addColorStop(1, hexToRgb(seriesNew[i].color, funnelOption.fillOpacity));\r\n          fillColor = grd\r\n        }\r\n        context.setFillStyle(fillColor);\r\n        context.moveTo(0, -eachSpacing);\r\n        context.lineTo(-seriesNew[i].radius, 0);\r\n        context.lineTo(seriesNew[i].radius, 0);\r\n        context.lineTo(0, -eachSpacing);\r\n        context.closePath();\r\n        context.fill();\r\n        if (funnelOption.border == true) {\r\n          context.stroke();\r\n        }\r\n      } else {\r\n        if (opts.tooltip) {\r\n          if (opts.tooltip.index == i) {\r\n            context.beginPath();\r\n            context.setFillStyle(hexToRgb(seriesNew[i].color, funnelOption.activeOpacity));\r\n            context.moveTo(0, 0);\r\n            context.lineTo(-seriesNew[i].radius - activeWidth, 0);\r\n            context.lineTo(-seriesNew[i + 1].radius - activeWidth, -eachSpacing);\r\n            context.lineTo(seriesNew[i + 1].radius + activeWidth, -eachSpacing);\r\n            context.lineTo(seriesNew[i].radius + activeWidth, 0);\r\n            context.lineTo(0, 0);\r\n            context.closePath();\r\n            context.fill();\r\n          }\r\n        }\r\n        seriesNew[i].funnelArea = [centerPosition.x - seriesNew[i].radius, centerPosition.y - eachSpacing * (i + 1), centerPosition.x + seriesNew[i].radius, centerPosition.y - eachSpacing * i];\r\n        context.beginPath();\r\n        context.setLineWidth(funnelOption.borderWidth * opts.pix);\r\n        context.setStrokeStyle(funnelOption.borderColor);\r\n        var fillColor = hexToRgb(seriesNew[i].color, funnelOption.fillOpacity);\r\n        if (funnelOption.linearType == 'custom') {\r\n          var grd = context.createLinearGradient(seriesNew[i].radius, -eachSpacing, -seriesNew[i].radius, -eachSpacing);\r\n          grd.addColorStop(0, hexToRgb(seriesNew[i].color, funnelOption.fillOpacity));\r\n          grd.addColorStop(0.5, hexToRgb(funnelOption.customColor[seriesNew[i].linearIndex], funnelOption.fillOpacity));\r\n          grd.addColorStop(1, hexToRgb(seriesNew[i].color, funnelOption.fillOpacity));\r\n          fillColor = grd\r\n        }\r\n        context.setFillStyle(fillColor);\r\n        context.moveTo(0, 0);\r\n        context.lineTo(-seriesNew[i].radius, 0);\r\n        context.lineTo(-seriesNew[i + 1].radius, -eachSpacing);\r\n        context.lineTo(seriesNew[i + 1].radius, -eachSpacing);\r\n        context.lineTo(seriesNew[i].radius, 0);\r\n        context.lineTo(0, 0);\r\n        context.closePath();\r\n        context.fill();\r\n        if (funnelOption.border == true) {\r\n          context.stroke();\r\n        }\r\n      }\r\n      context.translate(0, -eachSpacing)\r\n    }\r\n  }else{\r\n    context.translate(0, - (seriesNew.length - 1) * eachSpacing);\r\n    for (let i = 0; i < seriesNew.length; i++) {\r\n      if (i == seriesNew.length - 1) {\r\n        if (opts.tooltip) {\r\n          if (opts.tooltip.index == i) {\r\n            context.beginPath();\r\n            context.setFillStyle(hexToRgb(seriesNew[i].color, funnelOption.activeOpacity));\r\n            context.moveTo(-activeWidth - funnelOption.minSize/2, 0);\r\n            context.lineTo(-seriesNew[i].radius - activeWidth, -eachSpacing);\r\n            context.lineTo(seriesNew[i].radius + activeWidth, -eachSpacing);\r\n            context.lineTo(activeWidth + funnelOption.minSize/2, 0);\r\n            context.lineTo(-activeWidth - funnelOption.minSize/2, 0);\r\n            context.closePath();\r\n            context.fill();\r\n          }\r\n        }\r\n        seriesNew[i].funnelArea = [centerPosition.x - seriesNew[i].radius, centerPosition.y - eachSpacing, centerPosition.x + seriesNew[i].radius, centerPosition.y ];\r\n        context.beginPath();\r\n        context.setLineWidth(funnelOption.borderWidth * opts.pix);\r\n        context.setStrokeStyle(funnelOption.borderColor);\r\n        var fillColor = hexToRgb(seriesNew[i].color, funnelOption.fillOpacity);\r\n        if (funnelOption.linearType == 'custom') {\r\n          var grd = context.createLinearGradient(seriesNew[i].radius, -eachSpacing, -seriesNew[i].radius, -eachSpacing);\r\n          grd.addColorStop(0, hexToRgb(seriesNew[i].color, funnelOption.fillOpacity));\r\n          grd.addColorStop(0.5, hexToRgb(funnelOption.customColor[seriesNew[i].linearIndex], funnelOption.fillOpacity));\r\n          grd.addColorStop(1, hexToRgb(seriesNew[i].color, funnelOption.fillOpacity));\r\n          fillColor = grd\r\n        }\r\n        context.setFillStyle(fillColor);\r\n        context.moveTo(0, 0);\r\n        context.lineTo(-funnelOption.minSize/2, 0);\r\n        context.lineTo(-seriesNew[i].radius, -eachSpacing);\r\n        context.lineTo(seriesNew[i].radius, -eachSpacing);\r\n        context.lineTo(funnelOption.minSize/2, 0);\r\n        context.lineTo(0, 0);\r\n        context.closePath();\r\n        context.fill();\r\n        if (funnelOption.border == true) {\r\n          context.stroke();\r\n        }\r\n      } else {\r\n        if (opts.tooltip) {\r\n          if (opts.tooltip.index == i) {\r\n            context.beginPath();\r\n            context.setFillStyle(hexToRgb(seriesNew[i].color, funnelOption.activeOpacity));\r\n            context.moveTo(0, 0);\r\n            context.lineTo(-seriesNew[i + 1].radius - activeWidth, 0);\r\n            context.lineTo(-seriesNew[i].radius - activeWidth, -eachSpacing);\r\n            context.lineTo(seriesNew[i].radius + activeWidth, -eachSpacing);\r\n            context.lineTo(seriesNew[i + 1].radius + activeWidth, 0);\r\n            context.lineTo(0, 0);\r\n            context.closePath();\r\n            context.fill();\r\n          }\r\n        }\r\n        seriesNew[i].funnelArea = [centerPosition.x - seriesNew[i].radius, centerPosition.y - eachSpacing * (seriesNew.length - i), centerPosition.x + seriesNew[i].radius, centerPosition.y - eachSpacing * (seriesNew.length - i - 1)];\r\n        context.beginPath();\r\n        context.setLineWidth(funnelOption.borderWidth * opts.pix);\r\n        context.setStrokeStyle(funnelOption.borderColor);\r\n        var fillColor = hexToRgb(seriesNew[i].color, funnelOption.fillOpacity);\r\n        if (funnelOption.linearType == 'custom') {\r\n          var grd = context.createLinearGradient(seriesNew[i].radius, -eachSpacing, -seriesNew[i].radius, -eachSpacing);\r\n          grd.addColorStop(0, hexToRgb(seriesNew[i].color, funnelOption.fillOpacity));\r\n          grd.addColorStop(0.5, hexToRgb(funnelOption.customColor[seriesNew[i].linearIndex], funnelOption.fillOpacity));\r\n          grd.addColorStop(1, hexToRgb(seriesNew[i].color, funnelOption.fillOpacity));\r\n          fillColor = grd\r\n        }\r\n        context.setFillStyle(fillColor);\r\n        context.moveTo(0, 0);\r\n        context.lineTo(-seriesNew[i + 1].radius, 0);\r\n        context.lineTo(-seriesNew[i].radius, -eachSpacing);\r\n        context.lineTo(seriesNew[i].radius, -eachSpacing);\r\n        context.lineTo(seriesNew[i + 1].radius, 0);\r\n        context.lineTo(0, 0);\r\n        context.closePath();\r\n        context.fill();\r\n        if (funnelOption.border == true) {\r\n          context.stroke();\r\n        }\r\n      }\r\n      context.translate(0, eachSpacing)\r\n    }\r\n  }\r\n  \r\n  context.restore();\r\n  if (opts.dataLabel !== false && process === 1) {\r\n    drawFunnelText(seriesNew, opts, context, eachSpacing, funnelOption.labelAlign, activeWidth, centerPosition);\r\n  }\r\n  if (process === 1) {\r\n    drawFunnelCenterText(seriesNew, opts, context, eachSpacing, funnelOption.labelAlign, activeWidth, centerPosition);\r\n  }\r\n  return {\r\n    center: centerPosition,\r\n    radius: radius,\r\n    series: seriesNew\r\n  };\r\n}\r\n\r\nfunction drawFunnelText(series, opts, context, eachSpacing, labelAlign, activeWidth, centerPosition) {\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    if(item.labelShow === false){\r\n      continue;\r\n    }\r\n    let startX, endX, startY, fontSize;\r\n    let text = item.formatter ? item.formatter(item,i,series,opts) : util.toFixed(item._proportion_ * 100) + '%';\r\n    text = item.labelText ? item.labelText : text;\r\n    if (labelAlign == 'right') {\r\n      if (i == series.length -1) {\r\n        startX = (item.funnelArea[2] + centerPosition.x) / 2;\r\n      } else {\r\n        startX = (item.funnelArea[2] + series[i + 1].funnelArea[2]) / 2;\r\n      }\r\n      endX = startX + activeWidth * 2;\r\n      startY = item.funnelArea[1] + eachSpacing / 2;\r\n      fontSize = item.textSize * opts.pix || opts.fontSize * opts.pix;\r\n      context.setLineWidth(1 * opts.pix);\r\n      context.setStrokeStyle(item.color);\r\n      context.setFillStyle(item.color);\r\n      context.beginPath();\r\n      context.moveTo(startX, startY);\r\n      context.lineTo(endX, startY);\r\n      context.stroke();\r\n      context.closePath();\r\n      context.beginPath();\r\n      context.moveTo(endX, startY);\r\n      context.arc(endX, startY, 2 * opts.pix, 0, 2 * Math.PI);\r\n      context.closePath();\r\n      context.fill();\r\n      context.beginPath();\r\n      context.setFontSize(fontSize);\r\n      context.setFillStyle(item.textColor || opts.fontColor);\r\n      context.fillText(text, endX + 5, startY + fontSize / 2 - 2);\r\n      context.closePath();\r\n      context.stroke();\r\n      context.closePath();\r\n    }\r\n    if (labelAlign == 'left') {\r\n      if (i == series.length -1) {\r\n        startX = (item.funnelArea[0] + centerPosition.x) / 2;\r\n      } else {\r\n        startX = (item.funnelArea[0] + series[i + 1].funnelArea[0]) / 2;\r\n      }\r\n      endX = startX - activeWidth * 2;\r\n      startY = item.funnelArea[1] + eachSpacing / 2;\r\n      fontSize = item.textSize * opts.pix || opts.fontSize * opts.pix;\r\n      context.setLineWidth(1 * opts.pix);\r\n      context.setStrokeStyle(item.color);\r\n      context.setFillStyle(item.color);\r\n      context.beginPath();\r\n      context.moveTo(startX, startY);\r\n      context.lineTo(endX, startY);\r\n      context.stroke();\r\n      context.closePath();\r\n      context.beginPath();\r\n      context.moveTo(endX, startY);\r\n      context.arc(endX, startY, 2, 0, 2 * Math.PI);\r\n      context.closePath();\r\n      context.fill();\r\n      context.beginPath();\r\n      context.setFontSize(fontSize);\r\n      context.setFillStyle(item.textColor || opts.fontColor);\r\n      context.fillText(text, endX - 5 - measureText(text, fontSize, context), startY + fontSize / 2 - 2);\r\n      context.closePath();\r\n      context.stroke();\r\n      context.closePath();\r\n    }\r\n  }\r\n}\r\n\r\nfunction drawFunnelCenterText(series, opts, context, eachSpacing, labelAlign, activeWidth, centerPosition) {\r\n  for (let i = 0; i < series.length; i++) {\r\n    let item = series[i];\r\n    let startY, fontSize;\r\n    if (item.centerText) {\r\n      startY = item.funnelArea[1] + eachSpacing / 2;\r\n      fontSize = item.centerTextSize * opts.pix || opts.fontSize * opts.pix;\r\n      context.beginPath();\r\n      context.setFontSize(fontSize);\r\n      context.setFillStyle(item.centerTextColor || \"#FFFFFF\");\r\n      context.fillText(item.centerText, centerPosition.x - measureText(item.centerText, fontSize, context) / 2, startY + fontSize / 2 - 2);\r\n      context.closePath();\r\n      context.stroke();\r\n      context.closePath();\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction drawCanvas(opts, context) {\r\n  context.save();\r\n  context.translate(0, 0.5);\r\n  context.restore();\r\n  context.draw();\r\n}\r\n\r\nvar Timing = {\r\n  easeIn: function easeIn(pos) {\r\n    return Math.pow(pos, 3);\r\n  },\r\n  easeOut: function easeOut(pos) {\r\n    return Math.pow(pos - 1, 3) + 1;\r\n  },\r\n  easeInOut: function easeInOut(pos) {\r\n    if ((pos /= 0.5) < 1) {\r\n      return 0.5 * Math.pow(pos, 3);\r\n    } else {\r\n      return 0.5 * (Math.pow(pos - 2, 3) + 2);\r\n    }\r\n  },\r\n  linear: function linear(pos) {\r\n    return pos;\r\n  }\r\n};\r\n\r\nfunction Animation(opts) {\r\n  this.isStop = false;\r\n  opts.duration = typeof opts.duration === 'undefined' ? 1000 : opts.duration;\r\n  opts.timing = opts.timing || 'easeInOut';\r\n  var delay = 17;\r\n  function createAnimationFrame() {\r\n    if (typeof setTimeout !== 'undefined') {\r\n      return function(step, delay) {\r\n        setTimeout(function() {\r\n          var timeStamp = +new Date();\r\n          step(timeStamp);\r\n        }, delay);\r\n      };\r\n    } else if (typeof requestAnimationFrame !== 'undefined') {\r\n      return requestAnimationFrame;\r\n    } else {\r\n      return function(step) {\r\n        step(null);\r\n      };\r\n    }\r\n  };\r\n  var animationFrame = createAnimationFrame();\r\n  var startTimeStamp = null;\r\n  var _step = function step(timestamp) {\r\n    if (timestamp === null || this.isStop === true) {\r\n      opts.onProcess && opts.onProcess(1);\r\n      opts.onAnimationFinish && opts.onAnimationFinish();\r\n      return;\r\n    }\r\n    if (startTimeStamp === null) {\r\n      startTimeStamp = timestamp;\r\n    }\r\n    if (timestamp - startTimeStamp < opts.duration) {\r\n      var process = (timestamp - startTimeStamp) / opts.duration;\r\n      var timingFunction = Timing[opts.timing];\r\n      process = timingFunction(process);\r\n      opts.onProcess && opts.onProcess(process);\r\n      animationFrame(_step, delay);\r\n    } else {\r\n      opts.onProcess && opts.onProcess(1);\r\n      opts.onAnimationFinish && opts.onAnimationFinish();\r\n    }\r\n  };\r\n  _step = _step.bind(this);\r\n  animationFrame(_step, delay);\r\n}\r\n\r\nAnimation.prototype.stop = function() {\r\n  this.isStop = true;\r\n};\r\n\r\nfunction drawCharts(type, opts, config, context) {\r\n  var _this = this;\r\n  var series = opts.series;\r\n  //兼容ECharts饼图类数据格式\r\n  if (type === 'pie' || type === 'ring' || type === 'mount' || type === 'rose' || type === 'funnel') {\r\n    series = fixPieSeries(series, opts, config);\r\n  }\r\n  var categories = opts.categories;\r\n  if (type === 'mount') {\r\n    categories = [];\r\n    for (let j = 0; j < series.length; j++) {\r\n      if(series[j].show !== false) categories.push(series[j].name)\r\n    }\r\n    opts.categories = categories;\r\n  }\r\n  series = fillSeries(series, opts, config);\r\n  var duration = opts.animation ? opts.duration : 0;\r\n  _this.animationInstance && _this.animationInstance.stop();\r\n  var seriesMA = null;\r\n  if (type == 'candle') {\r\n    let average = assign({}, opts.extra.candle.average);\r\n    if (average.show) {\r\n      seriesMA = calCandleMA(average.day, average.name, average.color, series[0].data);\r\n      seriesMA = fillSeries(seriesMA, opts, config);\r\n      opts.seriesMA = seriesMA;\r\n    } else if (opts.seriesMA) {\r\n      seriesMA = opts.seriesMA = fillSeries(opts.seriesMA, opts, config);\r\n    } else {\r\n      seriesMA = series;\r\n    }\r\n  } else {\r\n    seriesMA = series;\r\n  }\r\n  /* 过滤掉show=false的series */\r\n  opts._series_ = series = filterSeries(series);\r\n  //重新计算图表区域\r\n  opts.area = new Array(4);\r\n  //复位绘图区域\r\n  for (let j = 0; j < 4; j++) {\r\n    opts.area[j] = opts.padding[j] * opts.pix;\r\n  }\r\n  //通过计算三大区域：图例、X轴、Y轴的大小，确定绘图区域\r\n  var _calLegendData = calLegendData(seriesMA, opts, config, opts.chartData, context),\r\n    legendHeight = _calLegendData.area.wholeHeight,\r\n    legendWidth = _calLegendData.area.wholeWidth;\r\n\r\n  switch (opts.legend.position) {\r\n    case 'top':\r\n      opts.area[0] += legendHeight;\r\n      break;\r\n    case 'bottom':\r\n      opts.area[2] += legendHeight;\r\n      break;\r\n    case 'left':\r\n      opts.area[3] += legendWidth;\r\n      break;\r\n    case 'right':\r\n      opts.area[1] += legendWidth;\r\n      break;\r\n  }\r\n\r\n  let _calYAxisData = {},\r\n    yAxisWidth = 0;\r\n  if (opts.type === 'line' || opts.type === 'column'|| opts.type === 'mount' || opts.type === 'area' || opts.type === 'mix' || opts.type === 'candle' || opts.type === 'scatter'  || opts.type === 'bubble' || opts.type === 'bar') {\r\n      _calYAxisData = calYAxisData(series, opts, config, context);\r\n      yAxisWidth = _calYAxisData.yAxisWidth;\r\n    //如果显示Y轴标题\r\n    if (opts.yAxis.showTitle) {\r\n      let maxTitleHeight = 0;\r\n      for (let i = 0; i < opts.yAxis.data.length; i++) {\r\n        maxTitleHeight = Math.max(maxTitleHeight, opts.yAxis.data[i].titleFontSize ? opts.yAxis.data[i].titleFontSize * opts.pix : config.fontSize)\r\n      }\r\n      opts.area[0] += maxTitleHeight;\r\n    }\r\n    let rightIndex = 0,\r\n      leftIndex = 0;\r\n    //计算主绘图区域左右位置\r\n    for (let i = 0; i < yAxisWidth.length; i++) {\r\n      if (yAxisWidth[i].position == 'left') {\r\n        if (leftIndex > 0) {\r\n          opts.area[3] += yAxisWidth[i].width + opts.yAxis.padding * opts.pix;\r\n        } else {\r\n          opts.area[3] += yAxisWidth[i].width;\r\n        }\r\n        leftIndex += 1;\r\n      } else if (yAxisWidth[i].position == 'right') {\r\n        if (rightIndex > 0) {\r\n          opts.area[1] += yAxisWidth[i].width + opts.yAxis.padding * opts.pix;\r\n        } else {\r\n          opts.area[1] += yAxisWidth[i].width;\r\n        }\r\n        rightIndex += 1;\r\n      }\r\n    }\r\n  } else {\r\n    config.yAxisWidth = yAxisWidth;\r\n  }\r\n  opts.chartData.yAxisData = _calYAxisData;\r\n\r\n  if (opts.categories && opts.categories.length && opts.type !== 'radar' && opts.type !== 'gauge' && opts.type !== 'bar') {\r\n    opts.chartData.xAxisData = getXAxisPoints(opts.categories, opts, config);\r\n    let _calCategoriesData = calCategoriesData(opts.categories, opts, config, opts.chartData.xAxisData.eachSpacing, context),\r\n      xAxisHeight = _calCategoriesData.xAxisHeight,\r\n      angle = _calCategoriesData.angle;\r\n    config.xAxisHeight = xAxisHeight;\r\n    config._xAxisTextAngle_ = angle;\r\n    opts.area[2] += xAxisHeight;\r\n    opts.chartData.categoriesData = _calCategoriesData;\r\n  } else {\r\n    if (opts.type === 'line' || opts.type === 'area' || opts.type === 'scatter' || opts.type === 'bubble' || opts.type === 'bar') {\r\n      opts.chartData.xAxisData = calXAxisData(series, opts, config, context);\r\n      categories = opts.chartData.xAxisData.rangesFormat;\r\n      let _calCategoriesData = calCategoriesData(categories, opts, config, opts.chartData.xAxisData.eachSpacing, context),\r\n        xAxisHeight = _calCategoriesData.xAxisHeight,\r\n        angle = _calCategoriesData.angle;\r\n      config.xAxisHeight = xAxisHeight;\r\n      config._xAxisTextAngle_ = angle;\r\n      opts.area[2] += xAxisHeight;\r\n      opts.chartData.categoriesData = _calCategoriesData;\r\n    } else {\r\n      opts.chartData.xAxisData = {\r\n        xAxisPoints: []\r\n      };\r\n    }\r\n  }\r\n\r\n  //计算右对齐偏移距离\r\n  if (opts.enableScroll && opts.xAxis.scrollAlign == 'right' && opts._scrollDistance_ === undefined) {\r\n    let offsetLeft = 0,\r\n      xAxisPoints = opts.chartData.xAxisData.xAxisPoints,\r\n      startX = opts.chartData.xAxisData.startX,\r\n      endX = opts.chartData.xAxisData.endX,\r\n      eachSpacing = opts.chartData.xAxisData.eachSpacing;\r\n    let totalWidth = eachSpacing * (xAxisPoints.length - 1);\r\n    let screenWidth = endX - startX;\r\n    offsetLeft = screenWidth - totalWidth;\r\n    _this.scrollOption.currentOffset = offsetLeft;\r\n    _this.scrollOption.startTouchX = offsetLeft;\r\n    _this.scrollOption.distance = 0;\r\n    _this.scrollOption.lastMoveTime = 0;\r\n    opts._scrollDistance_ = offsetLeft;\r\n  }\r\n\r\n  if (type === 'pie' || type === 'ring' || type === 'rose') {\r\n    config._pieTextMaxLength_ = opts.dataLabel === false ? 0 : getPieTextMaxLength(seriesMA, config, context, opts);\r\n  }\r\n  \r\n  switch (type) {\r\n    case 'word':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawWordCloudDataPoints(series, opts, config, context, process);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'map':\r\n      context.clearRect(0, 0, opts.width, opts.height);\r\n      drawMapDataPoints(series, opts, config, context);\r\n      setTimeout(()=>{\r\n        this.uevent.trigger('renderComplete');\r\n      },50)\r\n      break;\r\n    case 'funnel':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          opts.chartData.funnelData = drawFunnelDataPoints(series, opts, config, context, process);\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'line':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawYAxisGrid(categories, opts, config, context);\r\n          drawXAxis(categories, opts, config, context);\r\n          var _drawLineDataPoints = drawLineDataPoints(series, opts, config, context, process),\r\n            xAxisPoints = _drawLineDataPoints.xAxisPoints,\r\n            calPoints = _drawLineDataPoints.calPoints,\r\n            eachSpacing = _drawLineDataPoints.eachSpacing;\r\n          opts.chartData.xAxisPoints = xAxisPoints;\r\n          opts.chartData.calPoints = calPoints;\r\n          opts.chartData.eachSpacing = eachSpacing;\r\n          drawYAxis(series, opts, config, context);\r\n          if (opts.enableMarkLine !== false && process === 1) {\r\n            drawMarkLine(opts, config, context);\r\n          }\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'scatter':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawYAxisGrid(categories, opts, config, context);\r\n          drawXAxis(categories, opts, config, context);\r\n          var _drawScatterDataPoints = drawScatterDataPoints(series, opts, config, context, process),\r\n            xAxisPoints = _drawScatterDataPoints.xAxisPoints,\r\n            calPoints = _drawScatterDataPoints.calPoints,\r\n            eachSpacing = _drawScatterDataPoints.eachSpacing;\r\n          opts.chartData.xAxisPoints = xAxisPoints;\r\n          opts.chartData.calPoints = calPoints;\r\n          opts.chartData.eachSpacing = eachSpacing;\r\n          drawYAxis(series, opts, config, context);\r\n          if (opts.enableMarkLine !== false && process === 1) {\r\n            drawMarkLine(opts, config, context);\r\n          }\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'bubble':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawYAxisGrid(categories, opts, config, context);\r\n          drawXAxis(categories, opts, config, context);\r\n          var _drawBubbleDataPoints = drawBubbleDataPoints(series, opts, config, context, process),\r\n            xAxisPoints = _drawBubbleDataPoints.xAxisPoints,\r\n            calPoints = _drawBubbleDataPoints.calPoints,\r\n            eachSpacing = _drawBubbleDataPoints.eachSpacing;\r\n          opts.chartData.xAxisPoints = xAxisPoints;\r\n          opts.chartData.calPoints = calPoints;\r\n          opts.chartData.eachSpacing = eachSpacing;\r\n          drawYAxis(series, opts, config, context);\r\n          if (opts.enableMarkLine !== false && process === 1) {\r\n            drawMarkLine(opts, config, context);\r\n          }\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'mix':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawYAxisGrid(categories, opts, config, context);\r\n          drawXAxis(categories, opts, config, context);\r\n          var _drawMixDataPoints = drawMixDataPoints(series, opts, config, context, process),\r\n            xAxisPoints = _drawMixDataPoints.xAxisPoints,\r\n            calPoints = _drawMixDataPoints.calPoints,\r\n            eachSpacing = _drawMixDataPoints.eachSpacing;\r\n          opts.chartData.xAxisPoints = xAxisPoints;\r\n          opts.chartData.calPoints = calPoints;\r\n          opts.chartData.eachSpacing = eachSpacing;\r\n          drawYAxis(series, opts, config, context);\r\n          if (opts.enableMarkLine !== false && process === 1) {\r\n            drawMarkLine(opts, config, context);\r\n          }\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'column':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawYAxisGrid(categories, opts, config, context);\r\n          drawXAxis(categories, opts, config, context);\r\n          var _drawColumnDataPoints = drawColumnDataPoints(series, opts, config, context, process),\r\n            xAxisPoints = _drawColumnDataPoints.xAxisPoints,\r\n            calPoints = _drawColumnDataPoints.calPoints,\r\n            eachSpacing = _drawColumnDataPoints.eachSpacing;\r\n          opts.chartData.xAxisPoints = xAxisPoints;\r\n          opts.chartData.calPoints = calPoints;\r\n          opts.chartData.eachSpacing = eachSpacing;\r\n          drawYAxis(series, opts, config, context);\r\n          if (opts.enableMarkLine !== false && process === 1) {\r\n            drawMarkLine(opts, config, context);\r\n          }\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'mount':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawYAxisGrid(categories, opts, config, context);\r\n          drawXAxis(categories, opts, config, context);\r\n          var _drawMountDataPoints = drawMountDataPoints(series, opts, config, context, process),\r\n            xAxisPoints = _drawMountDataPoints.xAxisPoints,\r\n            calPoints = _drawMountDataPoints.calPoints,\r\n            eachSpacing = _drawMountDataPoints.eachSpacing;\r\n          opts.chartData.xAxisPoints = xAxisPoints;\r\n          opts.chartData.calPoints = calPoints;\r\n          opts.chartData.eachSpacing = eachSpacing;\r\n          drawYAxis(series, opts, config, context);\r\n          if (opts.enableMarkLine !== false && process === 1) {\r\n            drawMarkLine(opts, config, context);\r\n          }\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'bar':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawXAxis(categories, opts, config, context);\r\n          var _drawBarDataPoints = drawBarDataPoints(series, opts, config, context, process),\r\n            yAxisPoints = _drawBarDataPoints.yAxisPoints,\r\n            calPoints = _drawBarDataPoints.calPoints,\r\n            eachSpacing = _drawBarDataPoints.eachSpacing;\r\n          opts.chartData.yAxisPoints = yAxisPoints;\r\n          opts.chartData.xAxisPoints = opts.chartData.xAxisData.xAxisPoints;\r\n          opts.chartData.calPoints = calPoints;\r\n          opts.chartData.eachSpacing = eachSpacing;\r\n          drawYAxis(series, opts, config, context);\r\n          if (opts.enableMarkLine !== false && process === 1) {\r\n            drawMarkLine(opts, config, context);\r\n          }\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process, eachSpacing, yAxisPoints);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'area':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawYAxisGrid(categories, opts, config, context);\r\n          drawXAxis(categories, opts, config, context);\r\n          var _drawAreaDataPoints = drawAreaDataPoints(series, opts, config, context, process),\r\n            xAxisPoints = _drawAreaDataPoints.xAxisPoints,\r\n            calPoints = _drawAreaDataPoints.calPoints,\r\n            eachSpacing = _drawAreaDataPoints.eachSpacing;\r\n          opts.chartData.xAxisPoints = xAxisPoints;\r\n          opts.chartData.calPoints = calPoints;\r\n          opts.chartData.eachSpacing = eachSpacing;\r\n          drawYAxis(series, opts, config, context);\r\n          if (opts.enableMarkLine !== false && process === 1) {\r\n            drawMarkLine(opts, config, context);\r\n          }\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'ring':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          opts.chartData.pieData = drawPieDataPoints(series, opts, config, context, process);\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'pie':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          opts.chartData.pieData = drawPieDataPoints(series, opts, config, context, process);\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'rose':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          opts.chartData.pieData = drawRoseDataPoints(series, opts, config, context, process);\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'radar':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          opts.chartData.radarData = drawRadarDataPoints(series, opts, config, context, process);\r\n          drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          drawToolTipBridge(opts, config, context, process);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'arcbar':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          opts.chartData.arcbarData = drawArcbarDataPoints(series, opts, config, context, process);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'gauge':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          opts.chartData.gaugeData = drawGaugeDataPoints(categories, series, opts, config, context, process);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n    case 'candle':\r\n      this.animationInstance = new Animation({\r\n        timing: opts.timing,\r\n        duration: duration,\r\n        onProcess: function onProcess(process) {\r\n          context.clearRect(0, 0, opts.width, opts.height);\r\n          if (opts.rotate) {\r\n            contextRotate(context, opts);\r\n          }\r\n          drawYAxisGrid(categories, opts, config, context);\r\n          drawXAxis(categories, opts, config, context);\r\n          var _drawCandleDataPoints = drawCandleDataPoints(series, seriesMA, opts, config, context, process),\r\n            xAxisPoints = _drawCandleDataPoints.xAxisPoints,\r\n            calPoints = _drawCandleDataPoints.calPoints,\r\n            eachSpacing = _drawCandleDataPoints.eachSpacing;\r\n          opts.chartData.xAxisPoints = xAxisPoints;\r\n          opts.chartData.calPoints = calPoints;\r\n          opts.chartData.eachSpacing = eachSpacing;\r\n          drawYAxis(series, opts, config, context);\r\n          if (opts.enableMarkLine !== false && process === 1) {\r\n            drawMarkLine(opts, config, context);\r\n          }\r\n          if (seriesMA) {\r\n            drawLegend(seriesMA, opts, config, context, opts.chartData);\r\n          } else {\r\n            drawLegend(opts.series, opts, config, context, opts.chartData);\r\n          }\r\n          drawToolTipBridge(opts, config, context, process, eachSpacing, xAxisPoints);\r\n          drawCanvas(opts, context);\r\n        },\r\n        onAnimationFinish: function onAnimationFinish() {\r\n          _this.uevent.trigger('renderComplete');\r\n        }\r\n      });\r\n      break;\r\n  }\r\n}\r\n\r\nfunction uChartsEvent() {\r\n  this.events = {};\r\n}\r\n\r\nuChartsEvent.prototype.addEventListener = function(type, listener) {\r\n  this.events[type] = this.events[type] || [];\r\n  this.events[type].push(listener);\r\n};\r\n\r\nuChartsEvent.prototype.delEventListener = function(type) {\r\n  this.events[type] = [];\r\n};\r\n\r\nuChartsEvent.prototype.trigger = function() {\r\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n    args[_key] = arguments[_key];\r\n  }\r\n  var type = args[0];\r\n  var params = args.slice(1);\r\n  if (!!this.events[type]) {\r\n    this.events[type].forEach(function(listener) {\r\n      try {\r\n        listener.apply(null, params);\r\n      } catch (e) {\r\n          //console.log('[uCharts] '+e);\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nvar uCharts = function uCharts(opts) {\r\n  opts.pix = opts.pixelRatio ? opts.pixelRatio : 1;\r\n  opts.fontSize = opts.fontSize ? opts.fontSize : 13;\r\n  opts.fontColor = opts.fontColor ? opts.fontColor : config.fontColor;\r\n  if (opts.background == \"\" || opts.background == \"none\") {\r\n    opts.background = \"#FFFFFF\"\r\n  }\r\n  opts.title = assign({}, opts.title);\r\n  opts.subtitle = assign({}, opts.subtitle);\r\n  opts.duration = opts.duration ? opts.duration : 1000;\r\n  opts.yAxis = assign({}, {\r\n    data: [],\r\n    showTitle: false,\r\n    disabled: false,\r\n    disableGrid: false,\r\n    gridSet: 'number',\r\n    splitNumber: 5,\r\n    gridType: 'solid',\r\n    dashLength: 4 * opts.pix,\r\n    gridColor: '#cccccc',\r\n    padding: 10,\r\n    fontColor: '#666666'\r\n  }, opts.yAxis);\r\n  opts.xAxis = assign({}, {\r\n    rotateLabel: false,\r\n    rotateAngle:45,\r\n    disabled: false,\r\n    disableGrid: false,\r\n    splitNumber: 5,\r\n    calibration:false,\r\n    fontColor: '#666666',\r\n    fontSize: 13,\r\n    lineHeight: 20,\r\n    marginTop: 0,\r\n    gridType: 'solid',\r\n    dashLength: 4,\r\n    scrollAlign: 'left',\r\n    boundaryGap: 'center',\r\n    axisLine: true,\r\n    axisLineColor: '#cccccc',\r\n    titleFontSize: 13,\r\n    titleOffsetY: 0,\r\n    titleOffsetX: 0,\r\n    titleFontColor: '#666666'\r\n  }, opts.xAxis);\r\n  opts.xAxis.scrollPosition = opts.xAxis.scrollAlign;\r\n  opts.legend = assign({}, {\r\n    show: true,\r\n    position: 'bottom',\r\n    float: 'center',\r\n    backgroundColor: 'rgba(0,0,0,0)',\r\n    borderColor: 'rgba(0,0,0,0)',\r\n    borderWidth: 0,\r\n    padding: 5,\r\n    margin: 5,\r\n    itemGap: 10,\r\n    fontSize: opts.fontSize,\r\n    lineHeight: opts.fontSize,\r\n    fontColor: opts.fontColor,\r\n    formatter: {},\r\n    hiddenColor: '#CECECE'\r\n  }, opts.legend);\r\n  opts.extra = assign({\r\n    tooltip:{\r\n      legendShape: 'auto'\r\n    }\r\n  }, opts.extra);\r\n  opts.rotate = opts.rotate ? true : false;\r\n  opts.animation = opts.animation ? true : false;\r\n  opts.rotate = opts.rotate ? true : false;\r\n  opts.canvas2d = opts.canvas2d ? true : false;\r\n  \r\n  let config$$1 = assign({}, config);\r\n  config$$1.color = opts.color ? opts.color : config$$1.color;\r\n  if (opts.type == 'pie') {\r\n    config$$1.pieChartLinePadding = opts.dataLabel === false ? 0 : opts.extra.pie.labelWidth * opts.pix || config$$1.pieChartLinePadding * opts.pix;\r\n  }\r\n  if (opts.type == 'ring') {\r\n    config$$1.pieChartLinePadding = opts.dataLabel === false ? 0 : opts.extra.ring.labelWidth * opts.pix || config$$1.pieChartLinePadding * opts.pix;\r\n  }\r\n  if (opts.type == 'rose') {\r\n    config$$1.pieChartLinePadding = opts.dataLabel === false ? 0 : opts.extra.rose.labelWidth * opts.pix || config$$1.pieChartLinePadding * opts.pix;\r\n  }\r\n  config$$1.pieChartTextPadding = opts.dataLabel === false ? 0 : config$$1.pieChartTextPadding * opts.pix;\r\n\r\n  //屏幕旋转\r\n  config$$1.rotate = opts.rotate;\r\n  if (opts.rotate) {\r\n    let tempWidth = opts.width;\r\n    let tempHeight = opts.height;\r\n    opts.width = tempHeight;\r\n    opts.height = tempWidth;\r\n  }\r\n\r\n  //适配高分屏\r\n  opts.padding = opts.padding ? opts.padding : config$$1.padding;\r\n  config$$1.yAxisWidth = config.yAxisWidth * opts.pix;\r\n  config$$1.fontSize = opts.fontSize * opts.pix;\r\n  config$$1.titleFontSize = config.titleFontSize * opts.pix;\r\n  config$$1.subtitleFontSize = config.subtitleFontSize * opts.pix;\r\n  if(!opts.context){\r\n    throw new Error('[uCharts] 未获取到context！注意：v2.0版本后，需要自行获取canvas的绘图上下文并传入opts.context！');\r\n  }\r\n  this.context = opts.context;\r\n  if (!this.context.setTextAlign) {\r\n    this.context.setStrokeStyle = function(e) {\r\n      return this.strokeStyle = e;\r\n    }\r\n    this.context.setLineWidth = function(e) {\r\n      return this.lineWidth = e;\r\n    }\r\n    this.context.setLineCap = function(e) {\r\n      return this.lineCap = e;\r\n    }\r\n    this.context.setFontSize = function(e) {\r\n      return this.font = e + \"px sans-serif\";\r\n    }\r\n    this.context.setFillStyle = function(e) {\r\n      return this.fillStyle = e;\r\n    }\r\n    this.context.setTextAlign = function(e) {\r\n      return this.textAlign = e;\r\n    }\r\n    this.context.setTextBaseline = function(e) {\r\n      return this.textBaseline = e;\r\n    }\r\n    this.context.setShadow = function(offsetX,offsetY,blur,color) {\r\n      this.shadowColor = color;\r\n      this.shadowOffsetX = offsetX;\r\n      this.shadowOffsetY = offsetY;\r\n      this.shadowBlur = blur;\r\n    }\r\n    this.context.draw = function() {}\r\n  }\r\n  //兼容NVUEsetLineDash\r\n  if(!this.context.setLineDash){\r\n    this.context.setLineDash = function(e) {}\r\n  }\r\n  opts.chartData = {};\r\n  this.uevent = new uChartsEvent();\r\n  this.scrollOption = {\r\n    currentOffset: 0,\r\n    startTouchX: 0,\r\n    distance: 0,\r\n    lastMoveTime: 0\r\n  };\r\n  this.opts = opts;\r\n  this.config = config$$1;\r\n  drawCharts.call(this, opts.type, opts, config$$1, this.context);\r\n};\r\n\r\nuCharts.prototype.updateData = function() {\r\n  let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n  this.opts = assign({}, this.opts, data);\r\n  this.opts.updateData = true;\r\n  let scrollPosition = data.scrollPosition || 'current';\r\n  switch (scrollPosition) {\r\n    case 'current':\r\n      this.opts._scrollDistance_ = this.scrollOption.currentOffset;\r\n      break;\r\n    case 'left':\r\n      this.opts._scrollDistance_ = 0;\r\n      this.scrollOption = {\r\n        currentOffset: 0,\r\n        startTouchX: 0,\r\n        distance: 0,\r\n        lastMoveTime: 0\r\n      };\r\n      break;\r\n    case 'right':\r\n      let _calYAxisData = calYAxisData(this.opts.series, this.opts, this.config, this.context), yAxisWidth = _calYAxisData.yAxisWidth;\r\n      this.config.yAxisWidth = yAxisWidth;\r\n      let offsetLeft = 0;\r\n      let _getXAxisPoints0 = getXAxisPoints(this.opts.categories, this.opts, this.config), xAxisPoints = _getXAxisPoints0.xAxisPoints,\r\n        startX = _getXAxisPoints0.startX,\r\n        endX = _getXAxisPoints0.endX,\r\n        eachSpacing = _getXAxisPoints0.eachSpacing;\r\n      let totalWidth = eachSpacing * (xAxisPoints.length - 1);\r\n      let screenWidth = endX - startX;\r\n      offsetLeft = screenWidth - totalWidth;\r\n      this.scrollOption = {\r\n        currentOffset: offsetLeft,\r\n        startTouchX: offsetLeft,\r\n        distance: 0,\r\n        lastMoveTime: 0\r\n      };\r\n      this.opts._scrollDistance_ = offsetLeft;\r\n      break;\r\n  }\r\n  drawCharts.call(this, this.opts.type, this.opts, this.config, this.context);\r\n};\r\n\r\nuCharts.prototype.zoom = function() {\r\n  var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.opts.xAxis.itemCount;\r\n  if (this.opts.enableScroll !== true) {\r\n    console.log('[uCharts] 请启用滚动条后使用')\r\n    return;\r\n  }\r\n  //当前屏幕中间点\r\n  let centerPoint = Math.round(Math.abs(this.scrollOption.currentOffset) / this.opts.chartData.eachSpacing) + Math.round(this.opts.xAxis.itemCount / 2);\r\n  this.opts.animation = false;\r\n  this.opts.xAxis.itemCount = val.itemCount;\r\n  //重新计算x轴偏移距离\r\n  let _calYAxisData = calYAxisData(this.opts.series, this.opts, this.config, this.context),\r\n    yAxisWidth = _calYAxisData.yAxisWidth;\r\n  this.config.yAxisWidth = yAxisWidth;\r\n  let offsetLeft = 0;\r\n  let _getXAxisPoints0 = getXAxisPoints(this.opts.categories, this.opts, this.config),\r\n    xAxisPoints = _getXAxisPoints0.xAxisPoints,\r\n    startX = _getXAxisPoints0.startX,\r\n    endX = _getXAxisPoints0.endX,\r\n    eachSpacing = _getXAxisPoints0.eachSpacing;\r\n  let centerLeft = eachSpacing * centerPoint;\r\n  let screenWidth = endX - startX;\r\n  let MaxLeft = screenWidth - eachSpacing * (xAxisPoints.length - 1);\r\n  offsetLeft = screenWidth / 2 - centerLeft;\r\n  if (offsetLeft > 0) {\r\n    offsetLeft = 0;\r\n  }\r\n  if (offsetLeft < MaxLeft) {\r\n    offsetLeft = MaxLeft;\r\n  }\r\n  this.scrollOption = {\r\n    currentOffset: offsetLeft,\r\n    startTouchX: 0,\r\n    distance: 0,\r\n    lastMoveTime: 0\r\n  };\r\n  calValidDistance(this, offsetLeft, this.opts.chartData, this.config, this.opts);\r\n  this.opts._scrollDistance_ = offsetLeft;\r\n  drawCharts.call(this, this.opts.type, this.opts, this.config, this.context);\r\n};\r\n\r\nuCharts.prototype.dobuleZoom = function(e) {\n  if (this.opts.enableScroll !== true) {\n    console.log('[uCharts] 请启用滚动条后使用')\n    return;\n  }\r\n  const tcs = e.changedTouches;\n  if (tcs.length < 2) {\n    return;\n  }\n  for (var i = 0; i < tcs.length; i++) {\n    tcs[i].x = tcs[i].x ? tcs[i].x : tcs[i].clientX;\n    tcs[i].y = tcs[i].y ? tcs[i].y : tcs[i].clientY;\n  }\r\n  const ntcs = [getTouches(tcs[0], this.opts, e),getTouches(tcs[1], this.opts, e)]; \r\n  const xlength = Math.abs(ntcs[0].x - ntcs[1].x);\r\n  // 记录初始的两指之间的数据\r\n  if(!this.scrollOption.moveCount){\r\n    let cts0 = {changedTouches:[{x:tcs[0].x,y:this.opts.area[0] / this.opts.pix + 2}]};\r\n    let cts1 = {changedTouches:[{x:tcs[1].x,y:this.opts.area[0] / this.opts.pix + 2}]};\r\n    if(this.opts.rotate){\r\n      cts0 = {changedTouches:[{x:this.opts.height / this.opts.pix - this.opts.area[0] / this.opts.pix - 2,y:tcs[0].y}]};\r\n      cts1 = {changedTouches:[{x:this.opts.height / this.opts.pix - this.opts.area[0] / this.opts.pix - 2,y:tcs[1].y}]};\r\n    }\r\n    const moveCurrent1 = this.getCurrentDataIndex(cts0).index;\r\n    const moveCurrent2 = this.getCurrentDataIndex(cts1).index;\r\n    const moveCount = Math.abs(moveCurrent1 - moveCurrent2);\r\n    this.scrollOption.moveCount = moveCount;\r\n    this.scrollOption.moveCurrent1 = Math.min(moveCurrent1, moveCurrent2);\r\n    this.scrollOption.moveCurrent2 = Math.max(moveCurrent1, moveCurrent2);\r\n    return;\r\n  }\r\n  \r\n  let currentEachSpacing = xlength / this.scrollOption.moveCount;\r\n  let itemCount = (this.opts.width - this.opts.area[1] - this.opts.area[3]) / currentEachSpacing;\r\n  itemCount = itemCount <= 2 ? 2 : itemCount;\r\n  itemCount = itemCount >= this.opts.categories.length ? this.opts.categories.length : itemCount;\n  this.opts.animation = false;\n  this.opts.xAxis.itemCount = itemCount;\n  // 重新计算滚动条偏移距离\n  let offsetLeft = 0;\r\n  let _getXAxisPoints0 = getXAxisPoints(this.opts.categories, this.opts, this.config),\r\n    xAxisPoints = _getXAxisPoints0.xAxisPoints,\r\n    startX = _getXAxisPoints0.startX,\r\n    endX = _getXAxisPoints0.endX,\r\n    eachSpacing = _getXAxisPoints0.eachSpacing;\r\n  let currentLeft = eachSpacing * this.scrollOption.moveCurrent1;\r\n  let screenWidth = endX - startX;\r\n  let MaxLeft = screenWidth - eachSpacing * (xAxisPoints.length - 1);\r\n  offsetLeft = -currentLeft+Math.min(ntcs[0].x,ntcs[1].x)-this.opts.area[3]-eachSpacing;\n  if (offsetLeft > 0) {\n    offsetLeft = 0;\n  }\n  if (offsetLeft < MaxLeft) {\n    offsetLeft = MaxLeft;\n  }\n  this.scrollOption.currentOffset= offsetLeft;\n  this.scrollOption.startTouchX= 0;\n  this.scrollOption.distance=0;\n  calValidDistance(this, offsetLeft, this.opts.chartData, this.config, this.opts);\n  this.opts._scrollDistance_ = offsetLeft;\n  drawCharts.call(this, this.opts.type, this.opts, this.config, this.context);\n}\r\n\r\nuCharts.prototype.stopAnimation = function() {\r\n  this.animationInstance && this.animationInstance.stop();\r\n};\r\n\r\nuCharts.prototype.addEventListener = function(type, listener) {\r\n  this.uevent.addEventListener(type, listener);\r\n};\r\n\r\nuCharts.prototype.delEventListener = function(type) {\r\n  this.uevent.delEventListener(type);\r\n};\r\n\r\nuCharts.prototype.getCurrentDataIndex = function(e) {\r\n  var touches = null;\r\n  if (e.changedTouches) {\r\n    touches = e.changedTouches[0];\r\n  } else {\r\n    touches = e.mp.changedTouches[0];\r\n  }\r\n  if (touches) {\r\n    let _touches$ = getTouches(touches, this.opts, e);\r\n    if (this.opts.type === 'pie' || this.opts.type === 'ring') {\r\n      return findPieChartCurrentIndex({\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      }, this.opts.chartData.pieData, this.opts);\r\n    } else if (this.opts.type === 'rose') {\r\n      return findRoseChartCurrentIndex({\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      }, this.opts.chartData.pieData, this.opts);\r\n    } else if (this.opts.type === 'radar') {\r\n      return findRadarChartCurrentIndex({\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      }, this.opts.chartData.radarData, this.opts.categories.length);\r\n    } else if (this.opts.type === 'funnel') {\r\n      return findFunnelChartCurrentIndex({\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      }, this.opts.chartData.funnelData);\r\n    } else if (this.opts.type === 'map') {\r\n      return findMapChartCurrentIndex({\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      }, this.opts);\r\n    } else if (this.opts.type === 'word') {\r\n      return findWordChartCurrentIndex({\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      }, this.opts.chartData.wordCloudData);\r\n    } else if (this.opts.type === 'bar') {\r\n      return findBarChartCurrentIndex({\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      }, this.opts.chartData.calPoints, this.opts, this.config, Math.abs(this.scrollOption.currentOffset));\r\n    } else {\r\n      return findCurrentIndex({\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      }, this.opts.chartData.calPoints, this.opts, this.config, Math.abs(this.scrollOption.currentOffset));\r\n    }\r\n  }\r\n  return -1;\r\n};\r\n\r\nuCharts.prototype.getLegendDataIndex = function(e) {\r\n  var touches = null;\r\n  if (e.changedTouches) {\r\n    touches = e.changedTouches[0];\r\n  } else {\r\n    touches = e.mp.changedTouches[0];\r\n  }\r\n  if (touches) {\r\n    let _touches$ = getTouches(touches, this.opts, e);\r\n    return findLegendIndex({\r\n      x: _touches$.x,\r\n      y: _touches$.y\r\n    }, this.opts.chartData.legendData);\r\n  }\r\n  return -1;\r\n};\r\n\r\nuCharts.prototype.touchLegend = function(e) {\r\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n  var touches = null;\r\n  if (e.changedTouches) {\r\n    touches = e.changedTouches[0];\r\n  } else {\r\n    touches = e.mp.changedTouches[0];\r\n  }\r\n  if (touches) {\r\n    var _touches$ = getTouches(touches, this.opts, e);\r\n    var index = this.getLegendDataIndex(e);\r\n    if (index >= 0) {\r\n      if (this.opts.type == 'candle') {\r\n        this.opts.seriesMA[index].show = !this.opts.seriesMA[index].show;\r\n      } else {\r\n        this.opts.series[index].show = !this.opts.series[index].show;\r\n      }\r\n      this.opts.animation = option.animation ? true : false;\r\n      this.opts._scrollDistance_ = this.scrollOption.currentOffset;\r\n      drawCharts.call(this, this.opts.type, this.opts, this.config, this.context);\r\n    }\r\n  }\r\n\r\n};\r\n\r\nuCharts.prototype.showToolTip = function(e) {\r\n  var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n  var touches = null;\r\n  if (e.changedTouches) {\r\n    touches = e.changedTouches[0];\r\n  } else {\r\n    touches = e.mp.changedTouches[0];\r\n  }\r\n  if (!touches) {\r\n    console.log(\"[uCharts] 未获取到event坐标信息\");\r\n  }\r\n  var _touches$ = getTouches(touches, this.opts, e);\r\n  var currentOffset = this.scrollOption.currentOffset;\r\n  var opts = assign({}, this.opts, {\r\n    _scrollDistance_: currentOffset,\r\n    animation: false\r\n  });\r\n  if (this.opts.type === 'line' || this.opts.type === 'area' || this.opts.type === 'column' || this.opts.type === 'scatter' || this.opts.type === 'bubble') {\r\n    var current = this.getCurrentDataIndex(e);\r\n    var index = option.index == undefined ? current.index : option.index;\r\n    if (index > -1 || index.length>0) {\r\n      var seriesData = getSeriesDataItem(this.opts.series, index, current.group);\r\n      if (seriesData.length !== 0) {\r\n        var _getToolTipData = getToolTipData(seriesData, this.opts, index, current.group, this.opts.categories, option),\r\n          textList = _getToolTipData.textList,\r\n          offset = _getToolTipData.offset;\r\n        offset.y = _touches$.y;\r\n        opts.tooltip = {\r\n          textList: option.textList !== undefined ? option.textList : textList,\r\n          offset: option.offset !== undefined ? option.offset : offset,\r\n          option: option,\r\n          index: index,\r\n          group: current.group\r\n        };\r\n      }\r\n    }\r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n  }\r\n  if (this.opts.type === 'mount') {\r\n    var index = option.index == undefined ? this.getCurrentDataIndex(e).index : option.index;\r\n    if (index > -1) {\r\n      var opts = assign({}, this.opts, {animation: false});\r\n      var seriesData = assign({}, opts._series_[index]);\r\n      var textList = [{\r\n        text: option.formatter ? option.formatter(seriesData, undefined, index, opts) : seriesData.name + ': ' + seriesData.data,\r\n        color: seriesData.color,\r\n        legendShape: this.opts.extra.tooltip.legendShape == 'auto' ? seriesData.legendShape : this.opts.extra.tooltip.legendShape\r\n      }];\r\n      var offset = {\r\n        x: opts.chartData.calPoints[index].x,\r\n        y: _touches$.y\r\n      };\r\n      opts.tooltip = {\r\n        textList: option.textList ? option.textList : textList,\r\n        offset: option.offset !== undefined ? option.offset : offset,\r\n        option: option,\r\n        index: index\r\n      };\r\n    }\r\n    \r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n  }\r\n  if (this.opts.type === 'bar') {\r\n    var current = this.getCurrentDataIndex(e);\r\n    var index = option.index == undefined ? current.index : option.index;\r\n    if (index > -1 || index.length>0) {\r\n      var seriesData = getSeriesDataItem(this.opts.series, index, current.group);\r\n      if (seriesData.length !== 0) {\r\n        var _getToolTipData = getToolTipData(seriesData, this.opts, index, current.group, this.opts.categories, option),\r\n          textList = _getToolTipData.textList,\r\n          offset = _getToolTipData.offset;\r\n        offset.x = _touches$.x;\r\n        opts.tooltip = {\r\n          textList: option.textList !== undefined ? option.textList : textList,\r\n          offset: option.offset !== undefined ? option.offset : offset,\r\n          option: option,\r\n          index: index\r\n        };\r\n      }\r\n    }\r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n  }\r\n  if (this.opts.type === 'mix') {\r\n    var current = this.getCurrentDataIndex(e);\r\n    var index = option.index == undefined ? current.index : option.index;\r\n    if (index > -1) {\r\n      var currentOffset = this.scrollOption.currentOffset;\r\n      var opts = assign({}, this.opts, {\r\n        _scrollDistance_: currentOffset,\r\n        animation: false\r\n      });\r\n      var seriesData = getSeriesDataItem(this.opts.series, index);\r\n      if (seriesData.length !== 0) {\r\n        var _getMixToolTipData = getMixToolTipData(seriesData, this.opts, index, this.opts.categories, option),\r\n          textList = _getMixToolTipData.textList,\r\n          offset = _getMixToolTipData.offset;\r\n        offset.y = _touches$.y;\r\n        opts.tooltip = {\r\n          textList: option.textList ? option.textList : textList,\r\n          offset: option.offset !== undefined ? option.offset : offset,\r\n          option: option,\r\n          index: index\r\n        };\r\n      }\r\n    }\r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n  }\r\n  if (this.opts.type === 'candle') {\r\n    var current = this.getCurrentDataIndex(e);\r\n    var index = option.index == undefined ? current.index : option.index;\r\n    if (index > -1) {\r\n      var currentOffset = this.scrollOption.currentOffset;\r\n      var opts = assign({}, this.opts, {\r\n        _scrollDistance_: currentOffset,\r\n        animation: false\r\n      });\r\n      var seriesData = getSeriesDataItem(this.opts.series, index);\r\n      if (seriesData.length !== 0) {\r\n        var _getToolTipData = getCandleToolTipData(this.opts.series[0].data, seriesData, this.opts, index, this.opts.categories, this.opts.extra.candle, option),\r\n          textList = _getToolTipData.textList,\r\n          offset = _getToolTipData.offset;\r\n        offset.y = _touches$.y;\r\n        opts.tooltip = {\r\n          textList: option.textList ? option.textList : textList,\r\n          offset: option.offset !== undefined ? option.offset : offset,\r\n          option: option,\r\n          index: index\r\n        };\r\n      }\r\n    }\r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n  }\r\n  if (this.opts.type === 'pie' || this.opts.type === 'ring' || this.opts.type === 'rose' || this.opts.type === 'funnel') {\r\n    var index = option.index == undefined ? this.getCurrentDataIndex(e) : option.index;\r\n    if (index > -1) {\r\n      var opts = assign({}, this.opts, {animation: false});\r\n      var seriesData = assign({}, opts._series_[index]);\r\n      var textList = [{\r\n        text: option.formatter ? option.formatter(seriesData, undefined, index, opts) : seriesData.name + ': ' + seriesData.data,\r\n        color: seriesData.color,\r\n        legendShape: this.opts.extra.tooltip.legendShape == 'auto' ? seriesData.legendShape : this.opts.extra.tooltip.legendShape\r\n      }];\r\n      var offset = {\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      };\r\n      opts.tooltip = {\r\n        textList: option.textList ? option.textList : textList,\r\n        offset: option.offset !== undefined ? option.offset : offset,\r\n        option: option,\r\n        index: index\r\n      };\r\n    }\r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n  }\r\n  if (this.opts.type === 'map') {\r\n    var index = option.index == undefined ? this.getCurrentDataIndex(e) : option.index;\r\n    if (index > -1) {\r\n      var opts = assign({}, this.opts, {animation: false});\r\n      var seriesData = assign({}, this.opts.series[index]);\r\n      seriesData.name = seriesData.properties.name\r\n      var textList = [{\r\n        text: option.formatter ? option.formatter(seriesData, undefined, index, this.opts) : seriesData.name,\r\n        color: seriesData.color,\r\n        legendShape: this.opts.extra.tooltip.legendShape == 'auto' ? seriesData.legendShape : this.opts.extra.tooltip.legendShape\r\n      }];\r\n      var offset = {\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      };\r\n      opts.tooltip = {\r\n        textList: option.textList ? option.textList : textList,\r\n        offset: option.offset !== undefined ? option.offset : offset,\r\n        option: option,\r\n        index: index\r\n      };\r\n    }\r\n    opts.updateData = false;\r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n  }\r\n  if (this.opts.type === 'word') {\r\n    var index = option.index == undefined ? this.getCurrentDataIndex(e) : option.index;\r\n    if (index > -1) {\r\n      var opts = assign({}, this.opts, {animation: false});\r\n      var seriesData = assign({}, this.opts.series[index]);\r\n      var textList = [{\r\n        text: option.formatter ? option.formatter(seriesData, undefined, index, this.opts) : seriesData.name,\r\n        color: seriesData.color,\r\n        legendShape: this.opts.extra.tooltip.legendShape == 'auto' ? seriesData.legendShape : this.opts.extra.tooltip.legendShape\r\n      }];\r\n      var offset = {\r\n        x: _touches$.x,\r\n        y: _touches$.y\r\n      };\r\n      opts.tooltip = {\r\n        textList: option.textList ? option.textList : textList,\r\n        offset: option.offset !== undefined ? option.offset : offset,\r\n        option: option,\r\n        index: index\r\n      };\r\n    }\r\n    opts.updateData = false;\r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n  }\r\n  if (this.opts.type === 'radar') {\r\n    var index = option.index == undefined ? this.getCurrentDataIndex(e) : option.index;\r\n    if (index > -1) {\r\n      var opts = assign({}, this.opts, {animation: false});\r\n      var seriesData = getSeriesDataItem(this.opts.series, index);\r\n      if (seriesData.length !== 0) {\r\n        var textList = seriesData.map((item) => {\r\n          return {\r\n            text: option.formatter ? option.formatter(item, this.opts.categories[index], index, this.opts) : item.name + ': ' + item.data,\r\n            color: item.color,\r\n            legendShape: this.opts.extra.tooltip.legendShape == 'auto' ? item.legendShape : this.opts.extra.tooltip.legendShape\r\n          };\r\n        });\r\n        var offset = {\r\n          x: _touches$.x,\r\n          y: _touches$.y\r\n        };\r\n        opts.tooltip = {\r\n          textList: option.textList ? option.textList : textList,\r\n          offset: option.offset !== undefined ? option.offset : offset,\r\n          option: option,\r\n          index: index\r\n        };\r\n      }\r\n    }\r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n  }\r\n};\r\n\r\nuCharts.prototype.translate = function(distance) {\r\n  this.scrollOption = {\r\n    currentOffset: distance,\r\n    startTouchX: distance,\r\n    distance: 0,\r\n    lastMoveTime: 0\r\n  };\r\n  let opts = assign({}, this.opts, {\r\n    _scrollDistance_: distance,\r\n    animation: false\r\n  });\r\n  drawCharts.call(this, this.opts.type, opts, this.config, this.context);\r\n};\r\n\r\nuCharts.prototype.scrollStart = function(e) {\r\n  var touches = null;\r\n  if (e.changedTouches) {\r\n    touches = e.changedTouches[0];\r\n  } else {\r\n    touches = e.mp.changedTouches[0];\r\n  }\r\n  var _touches$ = getTouches(touches, this.opts, e);\r\n  if (touches && this.opts.enableScroll === true) {\r\n    this.scrollOption.startTouchX = _touches$.x;\r\n  }\r\n};\r\n\r\nuCharts.prototype.scroll = function(e) {\r\n  if (this.scrollOption.lastMoveTime === 0) {\r\n    this.scrollOption.lastMoveTime = Date.now();\r\n  }\r\n  let Limit = this.opts.touchMoveLimit || 60;\r\n  let currMoveTime = Date.now();\r\n  let duration = currMoveTime - this.scrollOption.lastMoveTime;\r\n  if (duration < Math.floor(1000 / Limit)) return;\r\n  if (this.scrollOption.startTouchX == 0) return;\r\n  this.scrollOption.lastMoveTime = currMoveTime;\r\n  var touches = null;\r\n  if (e.changedTouches) {\r\n    touches = e.changedTouches[0];\r\n  } else {\r\n    touches = e.mp.changedTouches[0];\r\n  }\r\n  if (touches && this.opts.enableScroll === true) {\r\n    var _touches$ = getTouches(touches, this.opts, e);\r\n    var _distance;\r\n    _distance = _touches$.x - this.scrollOption.startTouchX;\r\n    var currentOffset = this.scrollOption.currentOffset;\r\n    var validDistance = calValidDistance(this, currentOffset + _distance, this.opts.chartData, this.config, this.opts);\r\n    this.scrollOption.distance = _distance = validDistance - currentOffset;\r\n    var opts = assign({}, this.opts, {\r\n      _scrollDistance_: currentOffset + _distance,\r\n      animation: false\r\n    });\r\n\t\tthis.opts = opts;\r\n    drawCharts.call(this, opts.type, opts, this.config, this.context);\r\n    return currentOffset + _distance;\r\n  }\r\n};\r\n\r\nuCharts.prototype.scrollEnd = function(e) {\r\n  if (this.opts.enableScroll === true) {\r\n    var _scrollOption = this.scrollOption,\r\n      currentOffset = _scrollOption.currentOffset,\r\n      distance = _scrollOption.distance;\r\n    this.scrollOption.currentOffset = currentOffset + distance;\r\n    this.scrollOption.distance = 0;\r\n    this.scrollOption.moveCount = 0;\r\n  }\r\n};\r\n\r\nexport default uCharts;"],"names":["config","assign","target","varArgs","deepAssign","obj1","obj2","key","val","util","num","limit","num1","num2","p1","p2","flag","hexToRgb","hexValue","opc","rgx","hex","m","r","g","b","rgb","findRange","type","multiple","calCandleMA","dayArr","nameArr","colorArr","kdata","seriesTemp","k","seriesItem","i","len","sum","j","calValidDistance","self","distance","chartData","opts","dataChartAreaWidth","dataChartWidth","validDistance","isInAngleRange","angle","startAngle","endAngle","adjust","createCurveControlPoints","points","isNotMiddlePoint","isNotMiddlePointX","a","pAx","pAy","pBx","pBy","last","convertCoordinateOrigin","x","y","center","avoidCollision","obj","fixPieSeries","series","pieSeriesArr","oldseries","fillSeries","index","item","fillCustomColor","linearType","customColor","newcolor","chazhi","getDataRange","minData","maxData","range","measureText","text","fontSize","context","width","dataCombine","dataCombineStack","getTouches","touches","e","getSeriesDataItem","group","data","newSeries","indexIsArr","tempSeries","filterSeries","tmpindex","getMaxTextListLength","list","lengthList","getRadarCoordinateSeries","length","eachAngle","CoordinateSeries","getToolTipData","seriesData","categories","option","calPoints","filterPoints","textList","titleText","offset","getMixToolTipData","getCandleToolTipData","extra","upColor","downColor","color","text1","text2","text3","text4","validCalPoints","findCurrentIndex","currentPoints","current","spacing","xAxisPoints","isInExactChartArea","timePoints","pointValue","pointIndex","minValue","findBarChartCurrentIndex","yAxisPoints","findLegendIndex","legendData","currentIndex","gap","isInExactLegendArea","area","findRadarChartCurrentIndex","radarData","count","eachAngleArea","isInExactPieChartArea","fixAngle","angleList","rangeStart","rangeEnd","findFunnelChartCurrentIndex","funnelData","findWordChartCurrentIndex","wordData","findMapChartCurrentIndex","cData","tmp","pointToCoordinate","poi","isPoiWithinPoly","findRoseChartCurrentIndex","pieData","getRoseDataPoints","findPieChartCurrentIndex","getPieDataPoints","radius","splitPoints","eachSeries","newPoints","items","calLegendData","padding","margin","shapeWidth","shapeRight","lineHeight","legendList","widthCount","widthCountArr","currentRow","legendText","itemWidth","legendWidth","maxHeight","maxLength","lineNum","temp","maxWidth","calCategoriesData","eachSpacing","result","categoriesTextLenth","xitem","maxTextLength","tempHeight","getXAxisTextList","stack","sorted","subitem","rangeSpan","minRange","maxRange","eachRange","calXAxisData","columnstyle","xAxisScaleValues","getXAxisPoints","getRadarDataPoints","process","radarOption","each","listItem","_start_","getFunnelDataPoints","minRadius","dataArr","radiusLength","getArcbarDataPoints","arcbarOption","totalAngle","getGaugeArcbarDataPoints","getGaugeAxisPoints","tempStartAngle","getGaugeDataPoints","gaugeOption","getPieTextMaxLength","fixColumeData","columnLen","seriesGap","categoryGap","fixBarData","fixColumeMeterData","border","fixColumeStackData","indexn","fixBarStackData","spacingValid","dataCount","widthRatio","startX","endX","getCandleDataPoints","validHeight","cPoints","indexs","point","value","height","getDataPoints","boundaryGap","validWidth","xranges","xminRange","xmaxRange","getLineDataPoints","lineOption","getColumnDataPoints","zeroPoints","getMountDataPoints","mountOption","mountWidth","getBarDataPoints","getStackDataPoints","seriesIndex","stackSeries","value0","height0","heightc","getBarStackDataPoints","getYAxisTextList","yData","dataRange","calYAxisData","YLength","rangesArr","rangesFormatArr","yAxisWidthArr","yAxisFontSizes","calibration","yAxisFontSize","calTooltipYAxisData","ranges","minAxis","maxVal","minVal","calMarkLineData","contextRotate","drawPointShape","shape","drawActivePoint","drawRingTitle","titlefontSize","subtitlefontSize","title","subtitle","titleFontColor","subtitleFontColor","titleHeight","subtitleHeight","textWidth","startY","_textWidth","_startX","_startY","drawPointText","textOffset","formatVal","drawColumePointText","Position","drawMountPointText","drawBarPointText","drawGaugeLabel","centerPosition","splitAngle","splitNumber","nowAngle","nowNumber","pos","labelText","drawRadarLabel","posPoint","posPointAxis","posRelativeCanvas","drawPieText","lineRadius","textObjectCollection","lastTextObject","seriesConvert","arc","orginX1","orginY1","orginX2","orginY2","orginX3","orginY3","textObject","lineStartPoistion","lineEndPoistion","textPosition","curveStartX","textStartX","drawToolTipSplitLine","offsetX","toolTipOption","endY","textX","textY","drawMarkLine","markLineOption","bgWidth","bgStartX","bgStartY","drawToolTipHorizentalLine","boxPadding","widthArr","tStartLeft","tStartRight","bgEndX","drawToolTipSplitArea","drawBarToolTipSplitArea","drawToolTip","legendMarginRight","arrowWidth","isOverRightBorder","toolTipWidth","toolTipHeight","drawColumnDataPoints","xAxisData","columnOption","leftNum","rightNum","zeroHeight","tooltipPoints","fillColor","strokeColor","grd","left","top","r0","r1","r2","r3","drawMountDataPoints","drawBarDataPoints","drawCandleDataPoints","seriesMA","candleOption","leftSpace","rightSpace","splitPointList","startPoint","ctrlPoint","drawAreaDataPoints","areaOption","gradient","firstPoint","lastPoint","dashLength","drawScatterDataPoints","drawBubbleDataPoints","bubbleOption","drawLineDataPoints","drawMixDataPoints","columnIndex","columnLength","drawToolTipBridge","drawXAxis","scrollY","scrollScreenWidth","scrollTotalWidth","scrollWidth","scrollLeft","maxXAxisListLength","ratio","newCategories","cgLength","xAxisFontSize","_scrollDistance_","truePoints","offsetY","drawYAxisGrid","xAxiseachSpacing","TotalWidth","drawYAxis","tStartCenter","rangesFormat","yAxisWidth","textAlign","tmpstrat","gapwidth","titleFontSize","drawLegend","legendArea","itemGap","itemList","listIndex","fontTrans","drawPieDataPoints","pieOption","activeRadius","fillcolor","innerPieWidth","drawRoseDataPoints","roseOption","drawArcbarDataPoints","drawGaugeDataPoints","innerRadius","pieRadius","childAngle","proc","pointerRadius","gradient3","eachCategories","childendX","drawRadarDataPoints","coordinateAngle","xr","yr","_loop","startPos","radarDataPoints","stepLength","label","lonlat2mercator","longitude","latitude","mercator","getBoundingBox","bounds","coords","coorda","coordinateToPoint","scale","xoffset","yoffset","pointY","pointX","isRayIntersectsSegment","s_poi","e_poi","poly","sinsc","epoly","drawMapDataPoints","mapOption","max","min","xScale","yScale","gaosi","centerPoint","fontColor","normalInt","iter","arr","collisionNew","isIn","getWordCloudPoint","tHeight","tWidth","breaknum","Spin","isSpin","areav","isCollision","drawWordCloudDataPoints","wordOption","drawFunnelDataPoints","funnelOption","activeWidth","seriesNew","drawFunnelText","drawFunnelCenterText","labelAlign","drawCanvas","Timing","Animation","delay","createAnimationFrame","step","timeStamp","animationFrame","startTimeStamp","_step","timestamp","timingFunction","drawCharts","_this","duration","average","_calLegendData","legendHeight","_calYAxisData","maxTitleHeight","rightIndex","leftIndex","_calCategoriesData","xAxisHeight","offsetLeft","totalWidth","_drawLineDataPoints","_drawScatterDataPoints","_drawBubbleDataPoints","_drawMixDataPoints","_drawColumnDataPoints","_drawMountDataPoints","_drawBarDataPoints","_drawAreaDataPoints","_drawCandleDataPoints","uChartsEvent","listener","_len","args","_key","params","uCharts","config$$1","tempWidth","blur","_getXAxisPoints0","uni","centerLeft","screenWidth","MaxLeft","tcs","ntcs","xlength","cts0","cts1","moveCurrent1","moveCurrent2","moveCount","currentEachSpacing","itemCount","currentLeft","_touches$","currentOffset","_getToolTipData","_getMixToolTipData","Limit","currMoveTime","_distance","_scrollOption"],"mappings":"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"}