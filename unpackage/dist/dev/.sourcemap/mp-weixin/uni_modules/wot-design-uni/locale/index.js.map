{"version":3,"file":"index.js","sources":["uni_modules/wot-design-uni/locale/index.ts"],"sourcesContent":["/*\n * @Author: weisheng\n * @Date: 2024-01-25 23:06:48\n * @LastEditTime: 2024-03-30 11:30:55\n * @LastEditors: weisheng\n * @Description:\n * @FilePath: /wot-design-uni/src/uni_modules/wot-design-uni/locale/index.ts\n * 记得注释\n */\nimport { reactive, ref } from 'vue'\nimport zhCN from './lang/zh-CN'\nimport { deepAssign } from '../components/common/util'\n\ntype Message = Record<string, any>\ntype Messages = Record<string, Message>\n\nconst lang = ref<string>('zh-CN')\nconst messages = reactive<Messages>({\n  'zh-CN': zhCN\n})\n\nexport const Locale = {\n  messages(): Message {\n    return messages[lang.value]\n  },\n\n  use(newLang: string, newMessage?: Message) {\n    lang.value = newLang\n    if (newMessage) {\n      this.add({ [newLang]: newMessage })\n    }\n  },\n\n  add(newMessages: Messages = {}) {\n    deepAssign(messages, newMessages)\n  }\n}\n\nexport const useCurrentLang = () => lang\n\nexport default Locale\n"],"names":["lang","ref","messages","reactive","zhCN","Locale","newLang","newMessage","newMessages","deepAssign"],"mappings":"iIAgBMA,EAAOC,EAAAA,IAAY,OAAO,EAC1BC,EAAWC,EAAAA,SAAmB,CAClC,QAASC,EAAA,IACX,CAAC,EAEYC,EAAS,CACpB,UAAoB,CACX,OAAAH,EAASF,EAAK,KAAK,CAC5B,EAEA,IAAIM,EAAiBC,EAAsB,CACzCP,EAAK,MAAQM,EACTC,GACF,KAAK,IAAI,CAAE,CAACD,CAAO,EAAGC,CAAY,CAAA,CAEtC,EAEA,IAAIC,EAAwB,GAAI,CAC9BC,aAAWP,EAAUM,CAAW,CAClC,CACF"}