{"version":3,"file":"types.js","sources":["uni_modules/wot-design-uni/components/wd-datetime-picker-view/types.ts"],"sourcesContent":["import type { ComponentPublicInstance, ExtractPropTypes, PropType } from 'vue'\nimport { baseProps, makeBooleanProp, makeNumberProp, makeRequiredProp, makeStringProp } from '../common/props'\n\nexport type DateTimeType = 'date' | 'year-month' | 'time' | 'datetime' | 'year'\n\n/**\n * @description 根据传入的值和类型，获取当前的选项数组，便于传入 pickerView\n * @param value\n * @param type picker类型\n * @return {Array} pickerValue\n */\nexport function getPickerValue(value: string | number, type: DateTimeType) {\n  const values: number[] = []\n  const date = new Date(value)\n  if (type === 'time') {\n    const pair = String(value).split(':')\n    values.push(parseInt(pair[0]), parseInt(pair[1]))\n  } else {\n    values.push(date.getFullYear(), date.getMonth() + 1)\n    if (type === 'date') {\n      values.push(date.getDate())\n    } else if (type === 'datetime') {\n      values.push(date.getDate(), date.getHours(), date.getMinutes())\n    }\n  }\n  return values\n}\n\nexport const datetimePickerViewProps = {\n  ...baseProps,\n  /**\n   * 选中项，当 type 为 time 时，类型为字符串，否则为 时间戳\n   */\n  modelValue: makeRequiredProp([String, Number]),\n  /**\n   * 加载中\n   */\n  loading: makeBooleanProp(false),\n  /**\n   * 加载的颜色，只能使用十六进制的色值写法，且不能使用缩写\n   */\n  loadingColor: makeStringProp('#4D80F0'),\n  /**\n   * picker内部滚筒高\n   */\n  columnsHeight: makeNumberProp(217),\n  valueKey: makeStringProp('value'),\n  labelKey: makeStringProp('label'),\n  /**\n   * 选择器类型，可选值：date / year-month / time\n   */\n  type: makeStringProp<DateTimeType>('datetime'),\n  /**\n   * 自定义过滤选项的函数，返回列的选项数组\n   */\n  filter: Function as PropType<DatetimePickerViewFilter>,\n  /**\n   * 自定义弹出层选项文案的格式化函数，返回一个字符串\n   */\n  formatter: Function as PropType<DatetimePickerViewFormatter>,\n  /**\n   * 自定义列的格式化函数\n   */\n  columnFormatter: Function as PropType<DatetimePickerViewColumnFormatter>,\n  /**\n   * 最小日期\n   */\n  minDate: makeNumberProp(new Date(new Date().getFullYear() - 10, 0, 1).getTime()),\n  /**\n   * 最大日期\n   */\n  maxDate: makeNumberProp(new Date(new Date().getFullYear() + 10, 11, 31).getTime()),\n  /**\n   * 最小小时，time类型时生效\n   */\n  minHour: makeNumberProp(0),\n  /**\n   * 最大小时，time类型时生效\n   */\n  maxHour: makeNumberProp(23),\n  /**\n   * 最小分钟，time类型时生效\n   */\n  minMinute: makeNumberProp(0),\n  /**\n   * 最大分钟，time类型时生效\n   */\n  maxMinute: makeNumberProp(59),\n  /**\n   * 是否在手指松开时立即触发picker-view的 change 事件。若不开启则会在滚动动画结束后触发 change 事件，1.2.25版本起提供，仅微信小程序和支付宝小程序支持。\n   */\n  immediateChange: makeBooleanProp(false),\n  startSymbol: makeBooleanProp(false)\n}\n\nexport type DatetimePickerViewColumnType = 'year' | 'month' | 'date' | 'hour' | 'minute'\n\nexport type DatetimePickerViewOption = {\n  label: string\n  value: number\n}\n\nexport type DatetimePickerViewFilter = (type: DatetimePickerViewColumnType, values: number[]) => number[]\n\nexport type DatetimePickerViewFormatter = (type: string, value: string) => string\n\nexport type DatetimePickerViewColumnFormatter = (picker: DatetimePickerViewInstance) => DatetimePickerViewOption[][]\n\nexport type DatetimePickerViewProps = ExtractPropTypes<typeof datetimePickerViewProps>\n\nexport type DatetimePickerViewExpose = {\n  updateColumns: () => DatetimePickerViewOption[][]\n  setColumns: (columnList: DatetimePickerViewOption[][]) => void\n  getSelects: () => Record<string, any> | Record<string, any>[] | undefined\n  correctValue: (value: string | number) => string | number\n  getPickerValue: (value: string | number, type: DateTimeType) => number[]\n  getOriginColumns: () => {\n    type: DatetimePickerViewColumnType\n    values: number[]\n  }[]\n}\n\nexport type DatetimePickerViewInstance = ComponentPublicInstance<DatetimePickerViewProps, DatetimePickerViewExpose>\n"],"names":["getPickerValue","value","type","values","date","pair","datetimePickerViewProps","baseProps","makeRequiredProp","makeBooleanProp","makeStringProp","makeNumberProp"],"mappings":"mDAWgB,SAAAA,EAAeC,EAAwBC,EAAoB,CACzE,MAAMC,EAAmB,CAAA,EACnBC,EAAO,IAAI,KAAKH,CAAK,EAC3B,GAAIC,IAAS,OAAQ,CACnB,MAAMG,EAAO,OAAOJ,CAAK,EAAE,MAAM,GAAG,EAC7BE,EAAA,KAAK,SAASE,EAAK,CAAC,CAAC,EAAG,SAASA,EAAK,CAAC,CAAC,CAAC,CAAA,MAEhDF,EAAO,KAAKC,EAAK,YAAA,EAAeA,EAAK,SAAA,EAAa,CAAC,EAC/CF,IAAS,OACJC,EAAA,KAAKC,EAAK,QAAS,CAAA,EACjBF,IAAS,YACXC,EAAA,KAAKC,EAAK,QAAQ,EAAGA,EAAK,WAAYA,EAAK,WAAA,CAAY,EAG3D,OAAAD,CACT,CAEO,MAAMG,EAA0B,CACrC,GAAGC,EAAA,UAIH,WAAYC,EAAA,iBAAiB,CAAC,OAAQ,MAAM,CAAC,EAI7C,QAASC,kBAAgB,EAAK,EAI9B,aAAcC,iBAAe,SAAS,EAItC,cAAeC,iBAAe,GAAG,EACjC,SAAUD,iBAAe,OAAO,EAChC,SAAUA,iBAAe,OAAO,EAIhC,KAAMA,iBAA6B,UAAU,EAI7C,OAAQ,SAIR,UAAW,SAIX,gBAAiB,SAIjB,QAASC,EAAAA,eAAe,IAAI,SAAS,KAAK,EAAE,YAAY,EAAI,GAAI,EAAG,CAAC,EAAE,SAAS,EAI/E,QAASA,EAAAA,eAAe,IAAI,SAAS,KAAK,EAAE,YAAY,EAAI,GAAI,GAAI,EAAE,EAAE,SAAS,EAIjF,QAASA,iBAAe,CAAC,EAIzB,QAASA,iBAAe,EAAE,EAI1B,UAAWA,iBAAe,CAAC,EAI3B,UAAWA,iBAAe,EAAE,EAI5B,gBAAiBF,kBAAgB,EAAK,EACtC,YAAaA,kBAAgB,EAAK,CACpC"}