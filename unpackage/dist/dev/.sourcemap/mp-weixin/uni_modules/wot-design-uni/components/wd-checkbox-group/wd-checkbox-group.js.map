{"version":3,"file":"wd-checkbox-group.js","sources":["uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue","/Users/jing/Code/mini/vehicle-info/uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue?type=component"],"sourcesContent":["<template>\n  <view :class=\"`wd-checkbox-group ${shape === 'button' && cell ? 'is-button' : ''} ${customClass}`\" :style=\"customStyle\">\n    <slot />\n  </view>\n</template>\n<script lang=\"ts\">\nexport default {\n  name: 'wd-checkbox-group',\n  options: {\n    addGlobalClass: true,\n    virtualHost: true,\n    styleIsolation: 'shared'\n  }\n}\n</script>\n\n<script lang=\"ts\" setup>\nimport { watch } from 'vue'\nimport { checkNumRange, deepClone } from '../common/util'\nimport { useChildren } from '../composables/useChildren'\nimport { CHECKBOX_GROUP_KEY, checkboxGroupProps } from './types'\n\nconst props = defineProps(checkboxGroupProps)\nconst emit = defineEmits(['change', 'update:modelValue'])\n\nconst { linkChildren } = useChildren(CHECKBOX_GROUP_KEY)\n\nlinkChildren({ props, changeSelectState })\n\nwatch(\n  () => props.modelValue,\n  (newValue) => {\n    // 传入的value数组中包括重复的元素，这种情况非法。\n    if (new Set(newValue).size !== newValue.length) {\n      // eslint-disable-next-line quotes\n      uni.__f__('error','at uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue:36',\"checkboxGroup's bound value includes same value\")\n    }\n    if (newValue.length < props.min) {\n      // eslint-disable-next-line quotes\n      uni.__f__('error','at uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue:40',\"checkboxGroup's bound value's length can't be less than min\")\n    }\n    if (props.max !== 0 && newValue.length > props.max) {\n      // eslint-disable-next-line quotes\n      uni.__f__('error','at uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue:44',\"checkboxGroup's bound value's length can't be large than max\")\n    }\n    // 每次value变化都会触发重新匹配选中项\n  },\n  { deep: true, immediate: true }\n)\n\nwatch(\n  () => props.shape,\n  (newValue) => {\n    const type = ['circle', 'square', 'button']\n    if (type.indexOf(newValue) === -1) uni.__f__('error','at uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue:55',`shape must be one of ${type.toString()}`)\n  },\n  { deep: true, immediate: true }\n)\n\nwatch(\n  () => props.min,\n  (newValue) => {\n    checkNumRange(newValue, 'min')\n  },\n  { deep: true, immediate: true }\n)\n\nwatch(\n  () => props.max,\n  (newValue) => {\n    checkNumRange(newValue, 'max')\n  },\n  { deep: true, immediate: true }\n)\n\n/**\n * @description 子节点通知父节点修改子节点选中状态\n * @param {any} value 子组件的标识符\n */\nfunction changeSelectState(value: string | number | boolean) {\n  const temp: (string | number | boolean)[] = deepClone(props.modelValue)\n  const index = temp.indexOf(value)\n  if (index > -1) {\n    // 已经选中，则从 value 列表中删除子节点的标识符。\n    temp.splice(index, 1)\n  } else {\n    // 之前未选中，则现在把加子节点的标识符加到 value 列表中。\n    temp.push(value)\n  }\n  emit('update:modelValue', temp)\n\n  emit('change', {\n    value: temp\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import Component from '/Users/jing/Code/mini/vehicle-info/uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue'\nwx.createComponent(Component)"],"names":["useChildren","CHECKBOX_GROUP_KEY","watch","uni","checkNumRange","deepClone"],"mappings":";;;;;AAMA,MAAA,cAAe;AAAA,EACb,MAAM;AAAA,EACN,SAAS;AAAA,IACP,gBAAgB;AAAA,IAChB,aAAa;AAAA,IACb,gBAAgB;AAAA,EAClB;AACF;;;;;;AASA,UAAM,QAAQ;AACd,UAAM,OAAO;AAEb,UAAM,EAAE,aAAA,IAAiBA,4DAAA,YAAYC,0DAAkB,kBAAA;AAE1C,iBAAA,EAAE,OAAO,kBAAA,CAAmB;AAEzCC,kBAAA;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,CAAC,aAAa;AAEZ,YAAI,IAAI,IAAI,QAAQ,EAAE,SAAS,SAAS,QAAQ;AAE1CC,wBAAAA,MAAA,MAAM,SAAQ,uFAAsF,iDAAiD;AAAA,QAC3J;AACI,YAAA,SAAS,SAAS,MAAM,KAAK;AAE3BA,wBAAAA,MAAA,MAAM,SAAQ,uFAAsF,6DAA6D;AAAA,QACvK;AACA,YAAI,MAAM,QAAQ,KAAK,SAAS,SAAS,MAAM,KAAK;AAE9CA,wBAAAA,MAAA,MAAM,SAAQ,uFAAsF,8DAA8D;AAAA,QACxK;AAAA,MAEF;AAAA,MACA,EAAE,MAAM,MAAM,WAAW,KAAK;AAAA,IAAA;AAGhCD,kBAAA;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,CAAC,aAAa;AACZ,cAAM,OAAO,CAAC,UAAU,UAAU,QAAQ;AACtC,YAAA,KAAK,QAAQ,QAAQ,MAAM;AAAIC,8BAAI,MAAM,SAAQ,uFAAsF,wBAAwB,KAAK,UAAU,EAAE;AAAA,MACtL;AAAA,MACA,EAAE,MAAM,MAAM,WAAW,KAAK;AAAA,IAAA;AAGhCD,kBAAA;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,CAAC,aAAa;AACZE,sEAAc,UAAU,KAAK;AAAA,MAC/B;AAAA,MACA,EAAE,MAAM,MAAM,WAAW,KAAK;AAAA,IAAA;AAGhCF,kBAAA;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,CAAC,aAAa;AACZE,sEAAc,UAAU,KAAK;AAAA,MAC/B;AAAA,MACA,EAAE,MAAM,MAAM,WAAW,KAAK;AAAA,IAAA;AAOhC,aAAS,kBAAkB,OAAkC;AACrD,YAAA,OAAsCC,gDAAAA,UAAU,MAAM,UAAU;AAChE,YAAA,QAAQ,KAAK,QAAQ,KAAK;AAChC,UAAI,QAAQ,IAAI;AAET,aAAA,OAAO,OAAO,CAAC;AAAA,MAAA,OACf;AAEL,aAAK,KAAK,KAAK;AAAA,MACjB;AACA,WAAK,qBAAqB,IAAI;AAE9B,WAAK,UAAU;AAAA,QACb,OAAO;AAAA,MAAA,CACR;AAAA,IACH;;;;;;;;;;AC7FA,GAAG,gBAAgB,SAAS;"}