{"version":3,"file":"wd-checkbox-group.js","sources":["uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue","/Users/jing/Code/mini/vehicle-info/uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue?type=component"],"sourcesContent":["<template>\n  <view :class=\"`wd-checkbox-group ${shape === 'button' && cell ? 'is-button' : ''} ${customClass}`\" :style=\"customStyle\">\n    <slot />\n  </view>\n</template>\n<script lang=\"ts\">\nexport default {\n  name: 'wd-checkbox-group',\n  options: {\n    addGlobalClass: true,\n    virtualHost: true,\n    styleIsolation: 'shared'\n  }\n}\n</script>\n\n<script lang=\"ts\" setup>\nimport { watch } from 'vue'\nimport { checkNumRange, deepClone } from '../common/util'\nimport { useChildren } from '../composables/useChildren'\nimport { CHECKBOX_GROUP_KEY, checkboxGroupProps } from './types'\n\nconst props = defineProps(checkboxGroupProps)\nconst emit = defineEmits(['change', 'update:modelValue'])\n\nconst { linkChildren } = useChildren(CHECKBOX_GROUP_KEY)\n\nlinkChildren({ props, changeSelectState })\n\nwatch(\n  () => props.modelValue,\n  (newValue) => {\n    // 传入的value数组中包括重复的元素，这种情况非法。\n    if (new Set(newValue).size !== newValue.length) {\n      // eslint-disable-next-line quotes\n      uni.__f__('error','at uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue:36',\"checkboxGroup's bound value includes same value\")\n    }\n    if (newValue.length < props.min) {\n      // eslint-disable-next-line quotes\n      uni.__f__('error','at uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue:40',\"checkboxGroup's bound value's length can't be less than min\")\n    }\n    if (props.max !== 0 && newValue.length > props.max) {\n      // eslint-disable-next-line quotes\n      uni.__f__('error','at uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue:44',\"checkboxGroup's bound value's length can't be large than max\")\n    }\n    // 每次value变化都会触发重新匹配选中项\n  },\n  { deep: true, immediate: true }\n)\n\nwatch(\n  () => props.shape,\n  (newValue) => {\n    const type = ['circle', 'square', 'button']\n    if (type.indexOf(newValue) === -1) uni.__f__('error','at uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue:55',`shape must be one of ${type.toString()}`)\n  },\n  { deep: true, immediate: true }\n)\n\nwatch(\n  () => props.min,\n  (newValue) => {\n    checkNumRange(newValue, 'min')\n  },\n  { deep: true, immediate: true }\n)\n\nwatch(\n  () => props.max,\n  (newValue) => {\n    checkNumRange(newValue, 'max')\n  },\n  { deep: true, immediate: true }\n)\n\n/**\n * @description 子节点通知父节点修改子节点选中状态\n * @param {any} value 子组件的标识符\n */\nfunction changeSelectState(value: string | number | boolean) {\n  const temp: (string | number | boolean)[] = deepClone(props.modelValue)\n  const index = temp.indexOf(value)\n  if (index > -1) {\n    // 已经选中，则从 value 列表中删除子节点的标识符。\n    temp.splice(index, 1)\n  } else {\n    // 之前未选中，则现在把加子节点的标识符加到 value 列表中。\n    temp.push(value)\n  }\n  emit('update:modelValue', temp)\n\n  emit('change', {\n    value: temp\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import Component from '/Users/jing/Code/mini/vehicle-info/uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue'\nwx.createComponent(Component)"],"names":["__default__","props","__props","emit","__emit","linkChildren","useChildren","CHECKBOX_GROUP_KEY","changeSelectState","watch","newValue","uni","type","checkNumRange","value","temp","deepClone","index","Component"],"mappings":"+JAMAA,EAAe,CACb,KAAM,oBACN,QAAS,CACP,eAAgB,GAChB,YAAa,GACb,eAAgB,QAClB,CACF,8GASA,MAAMC,EAAQC,EACRC,EAAOC,EAEP,CAAE,aAAAC,CAAA,EAAiBC,EAAA,YAAYC,EAAkB,kBAAA,EAE1CF,EAAA,CAAE,MAAAJ,EAAO,kBAAAO,CAAA,CAAmB,EAEzCC,EAAA,MACE,IAAMR,EAAM,WACXS,GAAa,CAER,IAAI,IAAIA,CAAQ,EAAE,OAASA,EAAS,QAElCC,EAAAA,MAAA,MAAM,QAAQ,sFAAsF,iDAAiD,EAEvJD,EAAS,OAAST,EAAM,KAEtBU,EAAAA,MAAA,MAAM,QAAQ,sFAAsF,6DAA6D,EAEnKV,EAAM,MAAQ,GAAKS,EAAS,OAAST,EAAM,KAEzCU,EAAAA,MAAA,MAAM,QAAQ,sFAAsF,8DAA8D,CAG1K,EACA,CAAE,KAAM,GAAM,UAAW,EAAK,CAAA,EAGhCF,EAAA,MACE,IAAMR,EAAM,MACXS,GAAa,CACZ,MAAME,EAAO,CAAC,SAAU,SAAU,QAAQ,EACtCA,EAAK,QAAQF,CAAQ,IAAM,IAAIC,QAAI,MAAM,QAAQ,sFAAsF,wBAAwBC,EAAK,UAAU,EAAE,CACtL,EACA,CAAE,KAAM,GAAM,UAAW,EAAK,CAAA,EAGhCH,EAAA,MACE,IAAMR,EAAM,IACXS,GAAa,CACZG,gBAAcH,EAAU,KAAK,CAC/B,EACA,CAAE,KAAM,GAAM,UAAW,EAAK,CAAA,EAGhCD,EAAA,MACE,IAAMR,EAAM,IACXS,GAAa,CACZG,gBAAcH,EAAU,KAAK,CAC/B,EACA,CAAE,KAAM,GAAM,UAAW,EAAK,CAAA,EAOhC,SAASF,EAAkBM,EAAkC,CACrD,MAAAC,EAAsCC,EAAAA,UAAUf,EAAM,UAAU,EAChEgB,EAAQF,EAAK,QAAQD,CAAK,EAC5BG,EAAQ,GAELF,EAAA,OAAOE,EAAO,CAAC,EAGpBF,EAAK,KAAKD,CAAK,EAEjBX,EAAK,oBAAqBY,CAAI,EAE9BZ,EAAK,SAAU,CACb,MAAOY,CAAA,CACR,CACH,wLC7FA,GAAG,gBAAgBG,CAAS"}