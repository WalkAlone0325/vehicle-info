{"version":3,"file":"wd-navbar.js","sources":["uni_modules/wot-design-uni/components/wd-navbar/wd-navbar.vue","/Users/jing/Code/mini/vehicle-info/uni_modules/wot-design-uni/components/wd-navbar/wd-navbar.vue?type=component"],"sourcesContent":["<template>\n  <view :style=\"{ height: addUnit(height) }\">\n    <view :class=\"`wd-navbar ${customClass} ${fixed ? 'is-fixed' : ''} ${bordered ? 'is-border' : ''}`\" :style=\"rootStyle\">\n      <view class=\"wd-navbar__content\">\n        <view class=\"wd-navbar__capsule\" v-if=\"$slots.capsule\">\n          <slot name=\"capsule\" />\n        </view>\n\n        <view :class=\"`wd-navbar__left ${leftDisabled ? 'is-disabled' : ''}`\" @click=\"handleClickLeft\" v-else-if=\"!$slots.left\">\n          <wd-icon v-if=\"leftArrow\" name=\"arrow-left\" custom-class=\"wd-navbar__arrow\" />\n          <view v-if=\"leftText\" class=\"wd-navbar__text\">{{ leftText }}</view>\n        </view>\n\n        <view v-else :class=\"`wd-navbar__left ${leftDisabled ? 'is-disabled' : ''}`\" @click=\"handleClickLeft\">\n          <slot name=\"left\" />\n        </view>\n\n        <view class=\"wd-navbar__title\">\n          <slot name=\"title\" />\n          <template v-if=\"!$slots.title && title\">{{ title }}</template>\n        </view>\n        <view :class=\"`wd-navbar__right ${rightDisabled ? 'is-disabled' : ''}`\" @click=\"handleClickRight\" v-if=\"$slots.right || rightText\">\n          <slot name=\"right\" />\n\n          <view v-if=\"!$slots.right && rightText\" class=\"wd-navbar__text\" hover-class=\"wd-navbar__text--hover\" :hover-stay-time=\"70\">\n            {{ rightText }}\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n<script lang=\"ts\">\nexport default {\n  name: 'wd-navbar',\n  options: {\n    virtualHost: true,\n    addGlobalClass: true,\n    styleIsolation: 'shared'\n  }\n}\n</script>\n\n<script lang=\"ts\" setup>\nimport wdIcon from '../wd-icon/wd-icon.vue'\nimport { type CSSProperties, computed, getCurrentInstance, nextTick, onMounted, ref, watch } from 'vue'\nimport { getRect, addUnit, isDef, objToStyle } from '../common/util'\nimport { navbarProps } from './types'\n\nconst props = defineProps(navbarProps)\nconst emit = defineEmits(['click-left', 'click-right'])\n\nconst height = ref<number | ''>('') // 占位高度\n\nconst { statusBarHeight } = uni.getSystemInfoSync()\n\nwatch(\n  [() => props.fixed, () => props.placeholder],\n  () => {\n    setPlaceholderHeight()\n  },\n  { deep: true, immediate: false }\n)\n\nconst rootStyle = computed(() => {\n  const style: CSSProperties = {}\n  if (props.fixed && isDef(props.zIndex)) {\n    style['z-index'] = props.zIndex\n  }\n  if (props.safeAreaInsetTop) {\n    style['padding-top'] = addUnit(statusBarHeight || 0)\n  }\n  return `${objToStyle(style)}${props.customStyle}`\n})\n\nonMounted(() => {\n  if (props.fixed && props.placeholder) {\n    nextTick(() => {\n      setPlaceholderHeight()\n    })\n  }\n})\n\nfunction handleClickLeft() {\n  if (!props.leftDisabled) {\n    emit('click-left')\n  }\n}\n\nfunction handleClickRight() {\n  if (!props.rightDisabled) {\n    emit('click-right')\n  }\n}\n\nconst { proxy } = getCurrentInstance() as any\n\nfunction setPlaceholderHeight() {\n  if (!props.fixed || !props.placeholder) {\n    return\n  }\n\n  getRect('.wd-navbar', false, proxy).then((res) => {\n    height.value = res.height as number\n  })\n}\n</script>\n\n<style lang=\"scss\">\n@import './index.scss';\n</style>\n","import Component from '/Users/jing/Code/mini/vehicle-info/uni_modules/wot-design-uni/components/wd-navbar/wd-navbar.vue'\nwx.createComponent(Component)"],"names":["wdIcon","__default__","props","__props","emit","__emit","height","ref","statusBarHeight","uni","watch","setPlaceholderHeight","rootStyle","computed","style","isDef","addUnit","objToStyle","onMounted","nextTick","handleClickLeft","handleClickRight","proxy","getCurrentInstance","getRect","res","Component"],"mappings":"8HA4CA,MAAAA,EAAmB,IAAA,wBAXnBC,EAAe,CACb,KAAM,YACN,QAAS,CACP,YAAa,GACb,eAAgB,GAChB,eAAgB,QAClB,CACF,qGASA,MAAMC,EAAQC,EACRC,EAAOC,EAEPC,EAASC,MAAiB,EAAE,EAE5B,CAAE,gBAAAC,CAAA,EAAoBC,EAAA,MAAI,kBAAkB,EAElDC,EAAA,MACE,CAAC,IAAMR,EAAM,MAAO,IAAMA,EAAM,WAAW,EAC3C,IAAM,CACiBS,GACvB,EACA,CAAE,KAAM,GAAM,UAAW,EAAM,CAAA,EAG3B,MAAAC,EAAYC,EAAAA,SAAS,IAAM,CAC/B,MAAMC,EAAuB,CAAA,EAC7B,OAAIZ,EAAM,OAASa,EAAM,MAAAb,EAAM,MAAM,IAC7BY,EAAA,SAAS,EAAIZ,EAAM,QAEvBA,EAAM,mBACRY,EAAM,aAAa,EAAIE,EAAQ,QAAAR,GAAmB,CAAC,GAE9C,GAAGS,EAAAA,WAAWH,CAAK,CAAC,GAAGZ,EAAM,WAAW,EAAA,CAChD,EAEDgB,EAAAA,UAAU,IAAM,CACVhB,EAAM,OAASA,EAAM,aACvBiB,EAAAA,WAAS,IAAM,CACQR,GAAA,CACtB,CACH,CACD,EAED,SAASS,GAAkB,CACpBlB,EAAM,cACTE,EAAK,YAAY,CAErB,CAEA,SAASiB,GAAmB,CACrBnB,EAAM,eACTE,EAAK,aAAa,CAEtB,CAEM,KAAA,CAAE,MAAAkB,GAAUC,EAAAA,qBAElB,SAASZ,GAAuB,CAC1B,CAACT,EAAM,OAAS,CAACA,EAAM,aAI3BsB,EAAA,QAAQ,aAAc,GAAOF,CAAK,EAAE,KAAMG,GAAQ,CAChDnB,EAAO,MAAQmB,EAAI,MAAA,CACpB,CACH,szBCxGA,GAAG,gBAAgBC,CAAS"}