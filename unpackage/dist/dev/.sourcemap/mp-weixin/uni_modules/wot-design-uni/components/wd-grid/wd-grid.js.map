{"version":3,"file":"wd-grid.js","sources":["uni_modules/wot-design-uni/components/wd-grid/wd-grid.vue","/Users/jing/Code/mini/vehicle-info/uni_modules/wot-design-uni/components/wd-grid/wd-grid.vue?type=component"],"sourcesContent":["<template>\n  <view :class=\"`wd-grid ${customClass}`\" :style=\"rootStyle\">\n    <!-- 默认插入的 item -->\n    <slot />\n  </view>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  name: 'wd-grid',\n  options: {\n    virtualHost: true,\n    addGlobalClass: true,\n    styleIsolation: 'shared'\n  }\n}\n</script>\n\n<script lang=\"ts\" setup>\nimport { computed, watch } from 'vue'\nimport { useChildren } from '../composables/useChildren'\nimport { GRID_KEY, gridProps } from './types'\nimport { debounce } from '../common/util'\nconst nextTick = () => new Promise((resolve) => setTimeout(resolve, 20))\n\nconst props = defineProps(gridProps)\n\n// 子元素个数\nconst { linkChildren, children } = useChildren(GRID_KEY)\nlinkChildren({ props })\n\nwatch(\n  () => props.column,\n  (val, oldVal) => {\n    if (val === oldVal) return\n    if (!val || val <= 0) {\n      uni.__f__('error','at uni_modules/wot-design-uni/components/wd-grid/wd-grid.vue:37',\n        'The number of columns attribute value is invalid. The attribute must be greater than 0 and it is not recommended to use a larger value attribute.'\n      )\n    }\n    oldVal && init()\n  },\n  {\n    deep: true,\n    immediate: true\n  }\n)\n\nwatch(\n  () => props.border,\n  (val) => {\n    val &&\n      Promise.resolve()\n        .then(nextTick)\n        .then(() => {\n          init()\n        })\n  },\n  {\n    deep: true,\n    immediate: true\n  }\n)\n\nwatch(\n  () => children,\n  () => {\n    handleChildrenChange()\n  },\n  {\n    deep: true\n  }\n)\n\nconst rootStyle = computed(() => {\n  return `${props.gutter ? 'padding-left:' + props.gutter + 'px;' + 'padding-bottom:' + props.gutter + 'px;' : ''}${props.customStyle}`\n})\n\nconst handleChildrenChange = debounce(() => {\n  init()\n}, 50)\n\nfunction init() {\n  if (!children) return\n  children.forEach((item, index) => {\n    if (props.border) {\n      const { column } = props\n      if (column) {\n        const isRightItem = children.length - 1 === index || (index + 1) % column === 0\n        const isFirstLine = index + 1 <= column\n        isFirstLine && item.$.exposed!.setiIemClass('is-first')\n        isRightItem && item.$.exposed!.setiIemClass('is-right')\n        !isFirstLine && item.$.exposed!.setiIemClass('is-border')\n      } else {\n        item.$.exposed!.setiIemClass('is-first')\n      }\n      children.length - 1 === index && item.$.exposed!.setiIemClass(item.$.exposed!.itemClass.value + ' is-last')\n    }\n    item.$.exposed!.init()\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import Component from '/Users/jing/Code/mini/vehicle-info/uni_modules/wot-design-uni/components/wd-grid/wd-grid.vue'\nwx.createComponent(Component)"],"names":["__default__","nextTick","resolve","props","__props","linkChildren","children","useChildren","GRID_KEY","watch","val","oldVal","uni","init","handleChildrenChange","rootStyle","computed","debounce","item","index","column","isRightItem","isFirstLine","Component"],"mappings":"+JAQAA,EAAe,CACb,KAAM,UACN,QAAS,CACP,YAAa,GACb,eAAgB,GAChB,eAAgB,QAClB,CACF,uDAQM,MAAAC,EAAW,IAAM,IAAI,QAASC,GAAY,WAAWA,EAAS,EAAE,CAAC,EAEjEC,EAAQC,EAGR,CAAE,aAAAC,EAAc,SAAAC,CAAS,EAAIC,cAAYC,EAAQ,QAAA,EAC1CH,EAAA,CAAE,MAAAF,EAAO,EAEtBM,EAAA,MACE,IAAMN,EAAM,OACZ,CAACO,EAAKC,IAAW,CACXD,IAAQC,KACR,CAACD,GAAOA,GAAO,IACbE,EAAAA,MAAA,MAAM,QAAQ,kEAChB,mJAAA,EAGJD,GAAUE,EAAK,EACjB,EACA,CACE,KAAM,GACN,UAAW,EACb,CAAA,EAGFJ,EAAA,MACE,IAAMN,EAAM,OACXO,GAAQ,CACPA,GACE,QAAQ,QAAQ,EACb,KAAKT,CAAQ,EACb,KAAK,IAAM,CACLY,GAAA,CACN,CACP,EACA,CACE,KAAM,GACN,UAAW,EACb,CAAA,EAGFJ,EAAA,MACE,IAAMH,EACN,IAAM,CACiBQ,GACvB,EACA,CACE,KAAM,EACR,CAAA,EAGI,MAAAC,EAAYC,EAAAA,SAAS,IAClB,GAAGb,EAAM,OAAS,gBAAkBA,EAAM,OAAS,qBAA4BA,EAAM,OAAS,MAAQ,EAAE,GAAGA,EAAM,WAAW,EACpI,EAEKW,EAAuBG,EAAAA,SAAS,IAAM,CACrCJ,KACJ,EAAE,EAEL,SAASA,GAAO,CACTP,GACIA,EAAA,QAAQ,CAACY,EAAMC,IAAU,CAChC,GAAIhB,EAAM,OAAQ,CACV,KAAA,CAAE,OAAAiB,CAAW,EAAAjB,EACnB,GAAIiB,EAAQ,CACV,MAAMC,EAAcf,EAAS,OAAS,IAAMa,IAAUA,EAAQ,GAAKC,IAAW,EACxEE,EAAcH,EAAQ,GAAKC,EACjCE,GAAeJ,EAAK,EAAE,QAAS,aAAa,UAAU,EACtDG,GAAeH,EAAK,EAAE,QAAS,aAAa,UAAU,EACtD,CAACI,GAAeJ,EAAK,EAAE,QAAS,aAAa,WAAW,CAAA,MAEnDA,EAAA,EAAE,QAAS,aAAa,UAAU,EAEzCZ,EAAS,OAAS,IAAMa,GAASD,EAAK,EAAE,QAAS,aAAaA,EAAK,EAAE,QAAS,UAAU,MAAQ,UAAU,CAC5G,CACKA,EAAA,EAAE,QAAS,MAAK,CACtB,CACH,2HCnGA,GAAG,gBAAgBK,CAAS"}