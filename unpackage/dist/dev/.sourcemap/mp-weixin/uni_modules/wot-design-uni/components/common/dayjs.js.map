{"version":3,"file":"dayjs.js","sources":["uni_modules/wot-design-uni/components/common/dayjs.ts"],"sourcesContent":["import { isDate } from './util'\n\n/* eslint-disable */\nclass Dayjs {\n  utc: boolean\n  date: Date\n  timeZone: number\n  timeZoneString: any\n  mYear: any\n  mMonth: any\n  mDay: any\n  mWeek: any\n  mHour: any\n  mMinute: any\n  mSecond: any\n  constructor(dateStr?: string | number | Date) {\n    this.utc = false\n    const parsedDate = this.parseConfig(dateStr)\n    this.date = new Date(parsedDate)\n    this.timeZone = this.date.getTimezoneOffset() / 60\n    this.timeZoneString = this.padNumber(String(-1 * this.timeZone).replace(/^(.)?(\\d)/, '$10$200'), 5, '+')\n    this.mYear = this.date.getFullYear()\n    this.mMonth = this.date.getMonth()\n    this.mDay = this.date.getDate()\n    this.mWeek = this.date.getDay()\n    this.mHour = this.date.getHours()\n    this.mMinute = this.date.getMinutes()\n    this.mSecond = this.date.getSeconds()\n  }\n\n  parseConfig(dateStr?:string | number | Date) {\n    if (!dateStr) return new Date()\n    if (isDate(dateStr)) return dateStr\n    if (/^(\\d){8}$/.test(dateStr as string)) {\n      this.utc = true\n      return `${(dateStr as string).substr(0, 4)}-${(dateStr as string).substr(4, 2)}-${(dateStr as string).substr(6, 2)}`\n    }\n    return dateStr\n  }\n\n  padNumber(num:string, length:number, padChar:string) {\n    return !num || num.length >= length ? num : `${Array(length + 1 - num.length).join(padChar)}${num}`\n  }\n\n  year() {\n    return this.mYear\n  }\n\n  month() {\n    return this.mMonth\n  }\n\n  unix() {\n    const timeZoneOffset = this.utc ? 60 * this.timeZone * 60 * 1000 : 0\n    return Math.floor((this.date.getTime() + timeZoneOffset) / 1000)\n  }\n\n  toString() {\n    return this.date.toUTCString()\n  }\n\n  startOf(unit:string) {\n    switch (unit) {\n      case 'year':\n        return new Dayjs(new Date(this.year(), 0, 1))\n      case 'month':\n        return new Dayjs(new Date(this.year(), this.month(), 1))\n      default:\n        return this\n    }\n  }\n\n  add(amount:number, unit:string) {\n    let interval\n    switch (unit) {\n      case 'm':\n      case 'minutes':\n        interval = 60\n        break\n      case 'h':\n      case 'hours':\n        interval = 60 * 60\n        break\n      case 'd':\n      case 'days':\n        interval = 24 * 60 * 60\n        break\n      case 'w':\n      case 'weeks':\n        interval = 7 * 24 * 60 * 60\n        break\n      default:\n        interval = 1\n    }\n    const newUnixTime = this.unix() + amount * interval\n    return new Dayjs(1000 * newUnixTime)\n  }\n\n  subtract(amount:number, unit:string) {\n    return this.add(-1 * amount, unit)\n  }\n\n  format(formatStr = 'YYYY-MM-DDTHH:mm:ssZ') {\n    const weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n    return formatStr.replace(/Y{2,4}|M{1,2}|D{1,2}|d{1,4}|H{1,2}|m{1,2}|s{1,2}|Z{1,2}/g, (match) => {\n      switch (match) {\n        case 'YY':\n          return String(this.mYear).slice(-2)\n        case 'YYYY':\n          return String(this.mYear)\n        case 'M':\n          return String(this.mMonth + 1)\n        case 'MM':\n          return this.padNumber(String(this.mMonth + 1), 2, '0')\n        case 'D':\n          return String(this.mDay)\n        case 'DD':\n          return this.padNumber(String(this.mDay), 2, '0')\n        case 'd':\n          return String(this.mWeek)\n        case 'dddd':\n          return weekdays[this.mWeek]\n        case 'H':\n          return String(this.mHour)\n        case 'HH':\n          return this.padNumber(String(this.mHour), 2, '0')\n        case 'm':\n          return String(this.mMinute)\n        case 'mm':\n          return this.padNumber(String(this.mMinute), 2, '0')\n        case 's':\n          return String(this.mSecond)\n        case 'ss':\n          return this.padNumber(String(this.mSecond), 2, '0')\n        case 'Z':\n          return `${this.timeZoneString.slice(0, -2)}:00`\n        case 'ZZ':\n          return this.timeZoneString\n        default:\n          return match\n      }\n    })\n  }\n}\n\nexport  function dayjs(dateStr?: string | number | Date) {\n return new Dayjs(dateStr)\n}\n"],"names":["Dayjs","dateStr","parsedDate","isDate","num","length","padChar","timeZoneOffset","unit","amount","interval","newUnixTime","formatStr","weekdays","match","dayjs"],"mappings":"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"}