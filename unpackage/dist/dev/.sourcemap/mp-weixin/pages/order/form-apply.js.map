{"version":3,"file":"form-apply.js","sources":["pages/order/form-apply.vue","pages/order/form-apply.vue?type=page"],"sourcesContent":["<script setup lang=\"ts\">\n  import { onMounted, ref } from 'vue';\n  import { getDictApi, postFeeApplyApi } from '@/api';\n\n  const form = ref()\n  const model = ref({\n    amount: '',\n    feeDate: '',\n    feeDescribe: '',\n    feeTypeCode: '',\n    plateNumber: '',\n    vehicleId: '',\n    remark: '',\n    applicantUserId: '',\n    applicantUserName: ''\n  })\n  const rules = ref({})\n  const typeOptions = ref([])\n\n  const getDict = async () => {\n    const res = await getDictApi('fee_type')\n    typeOptions.value = res.data\n  }\n\n  const handleSubmit = () => {\n    form.value\n      .validate()\n      .then(async ({ valid, errors }) => {\n        uni.__f__('log','at pages/order/form-apply.vue:29',valid, model)\n        uni.__f__('log','at pages/order/form-apply.vue:30',errors)\n        await postFeeApplyApi(model.value)\n      })\n      .catch((error) => {\n        uni.__f__('log','at pages/order/form-apply.vue:34',error, 'error')\n      })\n  }\n\n  onMounted(() => {\n    getDict()\n  })\n</script>\n\n<template>\n  <!-- 费用申请 -->\n  <view class=\"form-apply-page\">\n    <BaseForm>\n      <wd-form ref=\"form\" :model=\"model\" :rules=\"rules\">\n\n        <wd-picker label=\"车辆\" placeholder=\"请选择车辆\" value-key=\"dictValue\" label-key=\"dictLabel\" label-width=\"100px\"\n          prop=\"vehicleId\" v-model=\"model.vehicleId\" :columns=\"typeOptions\" />\n\n        <wd-picker label=\"费用类型\" placeholder=\"请选择费用类型\" value-key=\"dictValue\" label-key=\"dictLabel\" label-width=\"100px\"\n          prop=\"feeTypeCode\" v-model=\"model.feeTypeCode\" :columns=\"typeOptions\" />\n\n        <wd-datetime-picker type=\"date\" label=\"费用产生日期\" label-width=\"100px\" placeholder=\"请选择时间\" prop=\"feeDate\"\n          v-model=\"model.feeDate\" />\n\n        <wd-input label=\"费用金额\" label-width=\"100px\" prop=\"amount\" clearable v-model=\"model.amount\"\n          placeholder=\"请输入费用金额\" />\n        <wd-textarea label=\"费用描述\" label-width=\"100px\" prop=\"feeDescribe\" clearable v-model=\"model.feeDescribe\"\n          placeholder=\"请输入费用描述\" :maxlength=\"200\" auto-height show-word-limit type=\"textarea\" />\n        <wd-input label=\"备注\" label-width=\"100px\" prop=\"remark\" clearable v-model=\"model.remark\" placeholder=\"请输入备注\" />\n\n        <view class=\"footer\">\n          <wd-button type=\"primary\" block @click=\"handleSubmit\">保存</wd-button>\n        </view>\n      </wd-form>\n    </BaseForm>\n  </view>\n</template>\n\n<style lang=\"scss\" scoped>\n</style>","import MiniProgramPage from '/Users/jing/Code/mini/vehicle-info/pages/order/form-apply.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","getDictApi","uni","postFeeApplyApi","onMounted","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIE,UAAM,OAAOA,cAAAA;AACb,UAAM,QAAQA,cAAAA,IAAI;AAAA,MAChB,QAAQ;AAAA,MACR,SAAS;AAAA,MACT,aAAa;AAAA,MACb,aAAa;AAAA,MACb,aAAa;AAAA,MACb,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,iBAAiB;AAAA,MACjB,mBAAmB;AAAA,IAAA,CACpB;AACK,UAAA,QAAQA,kBAAI,CAAA,CAAE;AACd,UAAA,cAAcA,kBAAI,CAAA,CAAE;AAE1B,UAAM,UAAU,YAAY;AACpB,YAAA,MAAM,MAAMC,sBAAW,UAAU;AACvC,kBAAY,QAAQ,IAAI;AAAA,IAAA;AAG1B,UAAM,eAAe,MAAM;AACpB,WAAA,MACF,SACA,EAAA,KAAK,OAAO,EAAE,OAAO,aAAa;AACjCC,sBAAA,MAAI,MAAM,OAAM,oCAAmC,OAAO,KAAK;AAC3DA,sBAAAA,MAAA,MAAM,OAAM,oCAAmC,MAAM;AACnD,cAAAC,UAAA,gBAAgB,MAAM,KAAK;AAAA,MAAA,CAClC,EACA,MAAM,CAAC,UAAU;AAChBD,sBAAA,MAAI,MAAM,OAAM,oCAAmC,OAAO,OAAO;AAAA,MAAA,CAClE;AAAA,IAAA;AAGLE,kBAAAA,UAAU,MAAM;AACN;IAAA,CACT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtCH,GAAG,WAAWC,SAAe;"}