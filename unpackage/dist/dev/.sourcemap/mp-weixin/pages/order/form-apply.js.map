{"version":3,"file":"form-apply.js","sources":["pages/order/form-apply.vue","pages/order/form-apply.vue?type=page"],"sourcesContent":["<script setup lang=\"ts\">\r\n  import { onMounted, ref } from 'vue';\r\n  import { getDictApi, postFeeApplyApi } from '@/api';\r\n\r\n  const form = ref()\r\n  const model = ref({\r\n    amount: '',\r\n    feeDate: '',\r\n    feeDescribe: '',\r\n    feeTypeCode: '',\r\n    plateNumber: '',\r\n    vehicleId: '',\r\n    remark: '',\r\n    applicantUserId: '',\r\n    applicantUserName: ''\r\n  })\r\n  const rules = ref({})\r\n  const typeOptions = ref([])\r\n\r\n  const getDict = async () => {\r\n    const res = await getDictApi('fee_type')\r\n    typeOptions.value = res.data\r\n  }\r\n\r\n  const handleSubmit = () => {\r\n    form.value\r\n      .validate()\r\n      .then(async ({ valid, errors }) => {\r\n        uni.__f__('log','at pages/order/form-apply.vue:29',valid, model)\r\n        uni.__f__('log','at pages/order/form-apply.vue:30',errors)\r\n        await postFeeApplyApi(model.value)\r\n      })\r\n      .catch((error) => {\r\n        uni.__f__('log','at pages/order/form-apply.vue:34',error, 'error')\r\n      })\r\n  }\r\n\r\n  onMounted(() => {\r\n    getDict()\r\n  })\r\n</script>\r\n\r\n<template>\r\n  <!-- 费用申请 -->\r\n  <view class=\"form-apply-page\">\r\n    <BaseForm>\r\n      <wd-form ref=\"form\" :model=\"model\" :rules=\"rules\">\r\n\r\n        <wd-picker label=\"车辆\" placeholder=\"请选择车辆\" value-key=\"dictValue\" label-key=\"dictLabel\" label-width=\"100px\"\r\n          prop=\"vehicleId\" v-model=\"model.vehicleId\" :columns=\"typeOptions\" />\r\n\r\n        <wd-picker label=\"费用类型\" placeholder=\"请选择费用类型\" value-key=\"dictValue\" label-key=\"dictLabel\" label-width=\"100px\"\r\n          prop=\"feeTypeCode\" v-model=\"model.feeTypeCode\" :columns=\"typeOptions\" />\r\n\r\n        <wd-datetime-picker type=\"date\" label=\"费用产生日期\" label-width=\"100px\" placeholder=\"请选择时间\" prop=\"feeDate\"\r\n          v-model=\"model.feeDate\" />\r\n\r\n        <wd-input label=\"费用金额\" label-width=\"100px\" prop=\"amount\" clearable v-model=\"model.amount\"\r\n          placeholder=\"请输入费用金额\" />\r\n        <wd-textarea label=\"费用描述\" label-width=\"100px\" prop=\"feeDescribe\" clearable v-model=\"model.feeDescribe\"\r\n          placeholder=\"请输入费用描述\" :maxlength=\"200\" auto-height show-word-limit type=\"textarea\" />\r\n        <wd-input label=\"备注\" label-width=\"100px\" prop=\"remark\" clearable v-model=\"model.remark\" placeholder=\"请输入备注\" />\r\n\r\n        <view class=\"footer\">\r\n          <wd-button type=\"primary\" block @click=\"handleSubmit\">保存</wd-button>\r\n        </view>\r\n      </wd-form>\r\n    </BaseForm>\r\n  </view>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>","import MiniProgramPage from '/Users/jing/Code/mini/vehicle-info/pages/order/form-apply.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","getDictApi","uni","postFeeApplyApi","onMounted","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIE,UAAM,OAAOA,cAAAA;AACb,UAAM,QAAQA,cAAAA,IAAI;AAAA,MAChB,QAAQ;AAAA,MACR,SAAS;AAAA,MACT,aAAa;AAAA,MACb,aAAa;AAAA,MACb,aAAa;AAAA,MACb,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,iBAAiB;AAAA,MACjB,mBAAmB;AAAA,IAAA,CACpB;AACK,UAAA,QAAQA,kBAAI,CAAA,CAAE;AACd,UAAA,cAAcA,kBAAI,CAAA,CAAE;AAE1B,UAAM,UAAU,YAAY;AACpB,YAAA,MAAM,MAAMC,sBAAW,UAAU;AACvC,kBAAY,QAAQ,IAAI;AAAA,IAAA;AAG1B,UAAM,eAAe,MAAM;AACpB,WAAA,MACF,SACA,EAAA,KAAK,OAAO,EAAE,OAAO,aAAa;AACjCC,sBAAA,MAAI,MAAM,OAAM,oCAAmC,OAAO,KAAK;AAC3DA,sBAAAA,MAAA,MAAM,OAAM,oCAAmC,MAAM;AACnD,cAAAC,UAAA,gBAAgB,MAAM,KAAK;AAAA,MAAA,CAClC,EACA,MAAM,CAAC,UAAU;AAChBD,sBAAA,MAAI,MAAM,OAAM,oCAAmC,OAAO,OAAO;AAAA,MAAA,CAClE;AAAA,IAAA;AAGLE,kBAAAA,UAAU,MAAM;AACN;IAAA,CACT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtCH,GAAG,WAAWC,SAAe;"}