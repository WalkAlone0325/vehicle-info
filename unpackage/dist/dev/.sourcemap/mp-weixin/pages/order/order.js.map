{"version":3,"file":"order.js","sources":["pages/order/order.vue","pages/order/order.vue?type=page"],"sourcesContent":["<script setup>\r\nimport { ref } from 'vue'\r\nimport { checkRole } from '@/utils'\r\nimport { onShow } from '@dcloudio/uni-app'\r\n\r\nconst carOrder = ref([])\r\nconst carVehicle = ref([])\r\nconst order = ref([\r\n  { id: 1, text: '用车工单', icon: 'apply', url: '/pages/order/cars/list' },\r\n  { id: 2, text: '加油工单', icon: 'apply', url: '/pages/order/cars/list' },\r\n])\r\n\r\nonShow(() => {\r\n  const arr1 = [\r\n    { id: 1, text: '申请', icon: 'apply', url: '/pages/order/form' },\r\n    { id: 2, text: '草稿', icon: 'draft', url: '/pages/order/list?type=draft' },\r\n    { id: 3, text: '待审批', icon: 'wait', url: '/pages/order/list?type=pending' },\r\n  ]\r\n  const arr2 = [\r\n    { id: 1, text: '申请', icon: 'apply', url: '/pages/order/form' },\r\n    { id: 2, text: '草稿', icon: 'draft', url: '/pages/order/list?type=draft' },\r\n    { id: 3, text: '待审批', icon: 'wait', url: '/pages/order/list?type=pending' },\r\n    { id: 4, text: '审批历史', icon: 'pass', url: '/pages/order/list?type=history', needRole: true },\r\n    // { id: 4, text: '已通过', icon: 'pass', url: '/pages/order/list?type=pass' },\r\n    // { id: 5, text: '已驳回', icon: 'reject', url: '/pages/order/list?type=reject' },\r\n    { id: 6, text: '审批', icon: 'pending', url: '/pages/order/list?type=approve', needRole: true },\r\n  ]\r\n\r\n  const v1 = [\r\n    { id: 1, text: '告警配置', icon: 'setting', url: '/pages/order/devOps/config' },\r\n    { id: 2, text: '运维计划', icon: 'plan', url: '/pages/order/devOps/plan' },\r\n    { id: 3, text: '运维记录', icon: 'record', url: '/pages/order/devOps/record' },\r\n    { id: 4, text: '运维告警', icon: 'gaojin', url: '/pages/order/devOps/warning' },\r\n    { id: 5, text: '保养记录', icon: 'maintain', url: '/pages/order/devOps/maintain' },\r\n  ]\r\n  const v2 = []\r\n  carOrder.value = checkRole('driver') ? arr1 : arr2\r\n  carVehicle.value = checkRole('driver') ? v2 : v1\r\n})\r\n\r\nconst clickItem = (item) => {\r\n  uni.navigateTo({\r\n    url: item.url\r\n  })\r\n}\r\n</script>\r\n\r\n<template>\r\n  <view class=\"order-page\">\r\n    <wd-card title=\"用车工单申请\">\r\n      <wd-grid clickable border hover-class=\" \" :column=\"3\">\r\n        <view class=\"\" v-for=\"i in carOrder\" :key=\"i.id\" @click=\"clickItem(i)\">\r\n          <wd-grid-item use-icon-slot :text=\"i.text\">\r\n            <template #icon>\r\n              <image class=\"slot-img\" :src=\"`/static/order/${i.icon}.png`\" />\r\n            </template>\r\n          </wd-grid-item>\r\n        </view>\r\n      </wd-grid>\r\n    </wd-card>\r\n\r\n    <wd-card title=\"工单\">\r\n      <wd-grid clickable border hover-class=\" \" :column=\"3\">\r\n        <view class=\"\" v-for=\"i in order\" :key=\"i.id\" @click=\"clickItem(i)\">\r\n          <wd-grid-item use-icon-slot :text=\"i.text\">\r\n            <template #icon>\r\n              <image class=\"slot-img\" :src=\"`/static/order/${i.icon}.png`\" />\r\n            </template>\r\n          </wd-grid-item>\r\n        </view>\r\n      </wd-grid>\r\n    </wd-card>\r\n\r\n    <wd-card title=\"车辆运维管理\" v-if=\"carVehicle.length\">\r\n      <wd-grid clickable hover-class=\" \" :column=\"3\">\r\n        <wd-grid-item use-icon-slot :text=\"i.text\" v-for=\"i in carVehicle\" :key=\"i.id\" @itemclick=\"clickItem(i)\">\r\n          <template #icon>\r\n            <image class=\"slot-img\" :src=\"`/static/order/${i.icon}.png`\" />\r\n          </template>\r\n        </wd-grid-item>\r\n      </wd-grid>\r\n    </wd-card>\r\n  </view>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n.order-page {\r\n  .slot-img {\r\n    height: 50rpx;\r\n    width: 50rpx;\r\n  }\r\n}\r\n</style>\r\n","import MiniProgramPage from '/Users/jing/Code/mini/vehicle-info/pages/order/order.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onShow","checkRole","uni"],"mappings":";;;;;;;;;;;;;;;;;;AAKA,UAAM,WAAWA,cAAG,IAAC,EAAE;AACvB,UAAM,aAAaA,cAAG,IAAC,EAAE;AACzB,UAAM,QAAQA,cAAAA,IAAI;AAAA,MAChB,EAAE,IAAI,GAAG,MAAM,QAAQ,MAAM,SAAS,KAAK,yBAA0B;AAAA,MACrE,EAAE,IAAI,GAAG,MAAM,QAAQ,MAAM,SAAS,KAAK,yBAA0B;AAAA,IACvE,CAAC;AAEDC,kBAAAA,OAAO,MAAM;AACX,YAAM,OAAO;AAAA,QACX,EAAE,IAAI,GAAG,MAAM,MAAM,MAAM,SAAS,KAAK,oBAAqB;AAAA,QAC9D,EAAE,IAAI,GAAG,MAAM,MAAM,MAAM,SAAS,KAAK,+BAAgC;AAAA,QACzE,EAAE,IAAI,GAAG,MAAM,OAAO,MAAM,QAAQ,KAAK,iCAAkC;AAAA,MAC5E;AACD,YAAM,OAAO;AAAA,QACX,EAAE,IAAI,GAAG,MAAM,MAAM,MAAM,SAAS,KAAK,oBAAqB;AAAA,QAC9D,EAAE,IAAI,GAAG,MAAM,MAAM,MAAM,SAAS,KAAK,+BAAgC;AAAA,QACzE,EAAE,IAAI,GAAG,MAAM,OAAO,MAAM,QAAQ,KAAK,iCAAkC;AAAA,QAC3E,EAAE,IAAI,GAAG,MAAM,QAAQ,MAAM,QAAQ,KAAK,kCAAkC,UAAU,KAAM;AAAA;AAAA;AAAA,QAG5F,EAAE,IAAI,GAAG,MAAM,MAAM,MAAM,WAAW,KAAK,kCAAkC,UAAU,KAAM;AAAA,MAC9F;AAED,YAAM,KAAK;AAAA,QACT,EAAE,IAAI,GAAG,MAAM,QAAQ,MAAM,WAAW,KAAK,6BAA8B;AAAA,QAC3E,EAAE,IAAI,GAAG,MAAM,QAAQ,MAAM,QAAQ,KAAK,2BAA4B;AAAA,QACtE,EAAE,IAAI,GAAG,MAAM,QAAQ,MAAM,UAAU,KAAK,6BAA8B;AAAA,QAC1E,EAAE,IAAI,GAAG,MAAM,QAAQ,MAAM,UAAU,KAAK,8BAA+B;AAAA,QAC3E,EAAE,IAAI,GAAG,MAAM,QAAQ,MAAM,YAAY,KAAK,+BAAgC;AAAA,MAC/E;AACD,YAAM,KAAK,CAAE;AACb,eAAS,QAAQC,YAAAA,UAAU,QAAQ,IAAI,OAAO;AAC9C,iBAAW,QAAQA,YAAAA,UAAU,QAAQ,IAAI,KAAK;AAAA,IAChD,CAAC;AAED,UAAM,YAAY,CAAC,SAAS;AAC1BC,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,KAAK;AAAA,MACd,CAAG;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3CA,GAAG,WAAW,eAAe;"}