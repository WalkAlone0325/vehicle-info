{"version":3,"file":"order.js","sources":["pages/order/order.vue","pages/order/order.vue?type=page"],"sourcesContent":["<script setup>\nimport { ref } from 'vue'\nimport { checkRole } from '@/utils'\nimport { onShow } from '@dcloudio/uni-app'\n\nconst carOrder = ref([])\nconst carVehicle = ref([])\nconst order = ref([])\n\nonShow(() => {\n  const v1 = [\n    { id: 1, text: '申请', icon: 'apply', url: '/pages/order/form' },\n    { id: 3, text: '待审批', icon: 'wait', url: '/pages/order/list?type=pending' },\n    { id: 2, text: '已审批', icon: 'draft', url: '/pages/order/list?type=done' },\n    // { id: 4, text: '已通过', icon: 'pass', url: '/pages/order/list?type=pass' },\n    // { id: 5, text: '已驳回', icon: 'reject', url: '/pages/order/list?type=reject' },\n    { id: 6, text: '审批', icon: 'pending', url: '/pages/order/list?type=approve', role: 'car:vehicleUseCarApplicationOrder' },\n    { id: 4, text: '审批记录', icon: 'pass', url: '/pages/order/list?type=history', role: 'car:vehicleUseCarApplicationOrder' },\n  ]\n\n  const v2 = [\n    { id: 1, text: '告警配置', icon: 'setting', url: '/pages/order/devOps/config', role: 'car:vehicleMaintenanceWarningCycle:list' },\n    { id: 2, text: '运维计划', icon: 'plan', url: '/pages/order/devOps/plan', role: 'car:vehicleMaintenancePlan:list' },\n    { id: 3, text: '运维记录', icon: 'record', url: '/pages/order/devOps/record', role: 'car:vehicleMaintenanceRecord:list' },\n    { id: 4, text: '运维告警', icon: 'gaojin', url: '/pages/order/devOps/warning', role: 'car:vehicleMaintenanceWarningCycle:list' },\n    { id: 5, text: '保养申报', icon: 'maintain', url: '/pages/order/devOps/maintain?type=maintenance' },\n    { id: 6, text: '维修申报', icon: '维修', url: '/pages/order/devOps/maintain?type=repairing' },\n    { id: 7, text: '保养审批', icon: 'pending', url: '/pages/order/devOps/maintainApply?type=maintenance', role: 'car:vehicleUpkeepWorkOrder:approve' },\n    { id: 8, text: '维修审批', icon: '待审批', url: '/pages/order/devOps/maintainApply?type=repairing', role: 'car:vehicleUpkeepWorkOrder:approve' },\n  ]\n\n  const v3 = [\n    { id: 1, text: '用车工单', icon: 'apply', url: '/pages/order/cars/list' },\n    { id: 2, text: '加油申报', icon: 'oil', max: true, url: '/pages/order/oil/list' },\n    { id: 3, text: '加油审批', icon: 'pending', url: '/pages/order/oil/listApply', role: 'car:vehicleRefuelWorkOrder:approve' },\n  ]\n  carOrder.value = checkRole(v1)\n  carVehicle.value = checkRole(v2)\n  order.value = checkRole(v3)\n  console.log(order.value)\n})\n\nconst clickItem = (item) => {\n  uni.navigateTo({\n    url: item.url\n  })\n}\n</script>\n\n<template>\n  <view class=\"order-page\">\n    <wd-card title=\"用车工单申请\">\n      <wd-grid clickable border hover-class=\" \" :column=\"3\">\n        <view class=\"\" v-for=\"i in carOrder\" :key=\"i.id\" @click=\"clickItem(i)\">\n          <wd-grid-item use-icon-slot :text=\"i.text\">\n            <template #icon>\n              <image class=\"slot-img\" :src=\"`/static/order/${i.icon}.png`\" />\n            </template>\n          </wd-grid-item>\n        </view>\n      </wd-grid>\n    </wd-card>\n\n    <wd-card title=\"工单\">\n      <wd-grid clickable border hover-class=\" \" :column=\"3\">\n        <view class=\"\" v-for=\"i in order\" :key=\"i.id\" @click=\"clickItem(i)\">\n          <wd-grid-item use-icon-slot :text=\"i.text\">\n            <template #icon>\n              <image class=\"slot-img\" :style=\"{width: i.max ? '60rpx' : '50rpx', height: i.max ? '60rpx' : '50rpx'}\" :src=\"`/static/order/${i.icon}.png`\" />\n            </template>\n          </wd-grid-item>\n        </view>\n      </wd-grid>\n    </wd-card>\n\n    <wd-card title=\"车辆运维管理\" v-if=\"carVehicle.length\">\n      <wd-grid clickable hover-class=\" \" :column=\"3\">\n        <wd-grid-item use-icon-slot :text=\"i.text\" v-for=\"i in carVehicle\" :key=\"i.id\" @itemclick=\"clickItem(i)\">\n          <template #icon>\n            <image class=\"slot-img\" :src=\"`/static/order/${i.icon}.png`\" />\n          </template>\n        </wd-grid-item>\n      </wd-grid>\n    </wd-card>\n  </view>\n</template>\n\n<style scoped lang=\"scss\">\n.order-page {\n  .slot-img {\n    height: 50rpx;\n    width: 50rpx;\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/jing/Code/mini/vehicle-info/pages/order/order.vue'\nwx.createPage(MiniProgramPage)"],"names":["carOrder","ref","carVehicle","order","onShow","v1","v2","v3","checkRole","uni","clickItem","item","MiniProgramPage"],"mappings":"+eAKA,MAAMA,EAAWC,EAAG,IAAC,EAAE,EACjBC,EAAaD,EAAG,IAAC,EAAE,EACnBE,EAAQF,EAAG,IAAC,EAAE,EAEpBG,EAAAA,OAAO,IAAM,CACX,MAAMC,EAAK,CACT,CAAE,GAAI,EAAG,KAAM,KAAM,KAAM,QAAS,IAAK,mBAAqB,EAC9D,CAAE,GAAI,EAAG,KAAM,MAAO,KAAM,OAAQ,IAAK,gCAAkC,EAC3E,CAAE,GAAI,EAAG,KAAM,MAAO,KAAM,QAAS,IAAK,6BAA+B,EAGzE,CAAE,GAAI,EAAG,KAAM,KAAM,KAAM,UAAW,IAAK,iCAAkC,KAAM,mCAAqC,EACxH,CAAE,GAAI,EAAG,KAAM,OAAQ,KAAM,OAAQ,IAAK,iCAAkC,KAAM,mCAAqC,CACxH,EAEKC,EAAK,CACT,CAAE,GAAI,EAAG,KAAM,OAAQ,KAAM,UAAW,IAAK,6BAA8B,KAAM,yCAA2C,EAC5H,CAAE,GAAI,EAAG,KAAM,OAAQ,KAAM,OAAQ,IAAK,2BAA4B,KAAM,iCAAmC,EAC/G,CAAE,GAAI,EAAG,KAAM,OAAQ,KAAM,SAAU,IAAK,6BAA8B,KAAM,mCAAqC,EACrH,CAAE,GAAI,EAAG,KAAM,OAAQ,KAAM,SAAU,IAAK,8BAA+B,KAAM,yCAA2C,EAC5H,CAAE,GAAI,EAAG,KAAM,OAAQ,KAAM,WAAY,IAAK,+CAAiD,EAC/F,CAAE,GAAI,EAAG,KAAM,OAAQ,KAAM,KAAM,IAAK,6CAA+C,EACvF,CAAE,GAAI,EAAG,KAAM,OAAQ,KAAM,UAAW,IAAK,qDAAsD,KAAM,oCAAsC,EAC/I,CAAE,GAAI,EAAG,KAAM,OAAQ,KAAM,MAAO,IAAK,mDAAoD,KAAM,oCAAsC,CAC1I,EAEKC,EAAK,CACT,CAAE,GAAI,EAAG,KAAM,OAAQ,KAAM,QAAS,IAAK,wBAA0B,EACrE,CAAE,GAAI,EAAG,KAAM,OAAQ,KAAM,MAAO,IAAK,GAAM,IAAK,uBAAyB,EAC7E,CAAE,GAAI,EAAG,KAAM,OAAQ,KAAM,UAAW,IAAK,6BAA8B,KAAM,oCAAsC,CACxH,EACDP,EAAS,MAAQQ,EAAS,UAACH,CAAE,EAC7BH,EAAW,MAAQM,EAAS,UAACF,CAAE,EAC/BH,EAAM,MAAQK,EAAS,UAACD,CAAE,EAC1BE,EAAAA,MAAA,MAAA,MAAA,8BAAYN,EAAM,KAAK,CACzB,CAAC,EAED,MAAMO,EAAaC,GAAS,CAC1BF,EAAAA,MAAI,WAAW,CACb,IAAKE,EAAK,GACd,CAAG,CACH,02BC7CA,GAAG,WAAWC,CAAe"}